const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browser-CL25SigH.js","assets/vendor-BznLLmAi.js"])))=>i.map(i=>d[i]);
var Dg=Object.defineProperty;var Cg=(t,e,r)=>e in t?Dg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var G=(t,e,r)=>Cg(t,typeof e!="symbol"?e+"":e,r);import{r as P,a as ld,R as Y,g as cd,b as Pg,c as st,u as Eg,N as gi,d as Og,e as Gi,B as Tg,f as Ag,h as pi}from"./vendor-BznLLmAi.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var ud={exports:{}},bs={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ig=P,Mg=Symbol.for("react.element"),Rg=Symbol.for("react.fragment"),jg=Object.prototype.hasOwnProperty,Ng=Ig.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Lg={key:!0,ref:!0,__self:!0,__source:!0};function dd(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)jg.call(e,n)&&!Lg.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:Mg,type:t,key:s,ref:a,props:i,_owner:Ng.current}}bs.Fragment=Rg;bs.jsx=dd;bs.jsxs=dd;ud.exports=bs;var m=ud.exports,hd,bl=ld;hd=bl.createRoot,bl.hydrateRoot;let Fg={data:""},Bg=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||Fg,$g=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Ug=/\/\*[^]*?\*\/|  +/g,yl=/\n+/g,Ft=(t,e)=>{let r="",n="",i="";for(let s in t){let a=t[s];s[0]=="@"?s[1]=="i"?r=s+" "+a+";":n+=s[1]=="f"?Ft(a,s):s+"{"+Ft(a,s[1]=="k"?"":e)+"}":typeof a=="object"?n+=Ft(a,e?e.replace(/([^,])+/g,o=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,o):o?o+" "+l:l)):s):a!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Ft.p?Ft.p(s,a):s+":"+a+";")}return r+(e&&i?e+"{"+i+"}":i)+n},Dt={},fd=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+fd(t[r]);return e}return t},Wg=(t,e,r,n,i)=>{let s=fd(t),a=Dt[s]||(Dt[s]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(s));if(!Dt[a]){let l=s!==t?t:(c=>{let u,d,h=[{}];for(;u=$g.exec(c.replace(Ug,""));)u[4]?h.shift():u[3]?(d=u[3].replace(yl," ").trim(),h.unshift(h[0][d]=h[0][d]||{})):h[0][u[1]]=u[2].replace(yl," ").trim();return h[0]})(t);Dt[a]=Ft(i?{["@keyframes "+a]:l}:l,r?"":"."+a)}let o=r&&Dt.g?Dt.g:null;return r&&(Dt.g=Dt[a]),((l,c,u,d)=>{d?c.data=c.data.replace(d,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(Dt[a],e,n,o),a},zg=(t,e,r)=>t.reduce((n,i,s)=>{let a=e[s];if(a&&a.call){let o=a(r),l=o&&o.props&&o.props.className||/^go/.test(o)&&o;a=l?"."+l:o&&typeof o=="object"?o.props?"":Ft(o,""):o===!1?"":o}return n+i+(a??"")},"");function ys(t){let e=this||{},r=t.call?t(e.p):t;return Wg(r.unshift?r.raw?zg(r,[].slice.call(arguments,1),e.p):r.reduce((n,i)=>Object.assign(n,i&&i.call?i(e.p):i),{}):r,Bg(e.target),e.g,e.o,e.k)}let gd,Ma,Ra;ys.bind({g:1});let It=ys.bind({k:1});function Vg(t,e,r,n){Ft.p=e,gd=t,Ma=r,Ra=n}function Kt(t,e){let r=this||{};return function(){let n=arguments;function i(s,a){let o=Object.assign({},s),l=o.className||i.className;r.p=Object.assign({theme:Ma&&Ma()},o),r.o=/ *go\d+/.test(l),o.className=ys.apply(r,n)+(l?" "+l:"");let c=t;return t[0]&&(c=o.as||t,delete o.as),Ra&&c[0]&&Ra(o),gd(c,o)}return i}}var Hg=t=>typeof t=="function",Yi=(t,e)=>Hg(t)?t(e):t,qg=(()=>{let t=0;return()=>(++t).toString()})(),pd=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),Gg=20,md=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,Gg)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:r}=e;return md(t,{type:t.toasts.find(s=>s.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=e;return{...t,toasts:t.toasts.map(s=>s.id===n||n===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},$i=[],gr={toasts:[],pausedAt:void 0},kr=t=>{gr=md(gr,t),$i.forEach(e=>{e(gr)})},Yg={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Kg=(t={})=>{let[e,r]=P.useState(gr),n=P.useRef(gr);P.useEffect(()=>(n.current!==gr&&r(gr),$i.push(r),()=>{let s=$i.indexOf(r);s>-1&&$i.splice(s,1)}),[]);let i=e.toasts.map(s=>{var a,o,l;return{...t,...t[s.type],...s,removeDelay:s.removeDelay||((a=t[s.type])==null?void 0:a.removeDelay)||(t==null?void 0:t.removeDelay),duration:s.duration||((o=t[s.type])==null?void 0:o.duration)||(t==null?void 0:t.duration)||Yg[s.type],style:{...t.style,...(l=t[s.type])==null?void 0:l.style,...s.style}}});return{...e,toasts:i}},Xg=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||qg()}),Kn=t=>(e,r)=>{let n=Xg(e,t,r);return kr({type:2,toast:n}),n.id},Fe=(t,e)=>Kn("blank")(t,e);Fe.error=Kn("error");Fe.success=Kn("success");Fe.loading=Kn("loading");Fe.custom=Kn("custom");Fe.dismiss=t=>{kr({type:3,toastId:t})};Fe.remove=t=>kr({type:4,toastId:t});Fe.promise=(t,e,r)=>{let n=Fe.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let s=e.success?Yi(e.success,i):void 0;return s?Fe.success(s,{id:n,...r,...r==null?void 0:r.success}):Fe.dismiss(n),i}).catch(i=>{let s=e.error?Yi(e.error,i):void 0;s?Fe.error(s,{id:n,...r,...r==null?void 0:r.error}):Fe.dismiss(n)}),t};var Jg=(t,e)=>{kr({type:1,toast:{id:t,height:e}})},Qg=()=>{kr({type:5,time:Date.now()})},Sn=new Map,Zg=1e3,ep=(t,e=Zg)=>{if(Sn.has(t))return;let r=setTimeout(()=>{Sn.delete(t),kr({type:4,toastId:t})},e);Sn.set(t,r)},tp=t=>{let{toasts:e,pausedAt:r}=Kg(t);P.useEffect(()=>{if(r)return;let s=Date.now(),a=e.map(o=>{if(o.duration===1/0)return;let l=(o.duration||0)+o.pauseDuration-(s-o.createdAt);if(l<0){o.visible&&Fe.dismiss(o.id);return}return setTimeout(()=>Fe.dismiss(o.id),l)});return()=>{a.forEach(o=>o&&clearTimeout(o))}},[e,r]);let n=P.useCallback(()=>{r&&kr({type:6,time:Date.now()})},[r]),i=P.useCallback((s,a)=>{let{reverseOrder:o=!1,gutter:l=8,defaultPosition:c}=a||{},u=e.filter(f=>(f.position||c)===(s.position||c)&&f.height),d=u.findIndex(f=>f.id===s.id),h=u.filter((f,g)=>g<d&&f.visible).length;return u.filter(f=>f.visible).slice(...o?[h+1]:[0,h]).reduce((f,g)=>f+(g.height||0)+l,0)},[e]);return P.useEffect(()=>{e.forEach(s=>{if(s.dismissed)ep(s.id,s.removeDelay);else{let a=Sn.get(s.id);a&&(clearTimeout(a),Sn.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:Jg,startPause:Qg,endPause:n,calculateOffset:i}}},rp=It`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,np=It`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ip=It`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,sp=Kt("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${rp} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${np} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${ip} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,ap=It`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,op=Kt("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${ap} 1s linear infinite;
`,lp=It`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,cp=It`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,up=Kt("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${lp} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${cp} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,dp=Kt("div")`
  position: absolute;
`,hp=Kt("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,fp=It`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,gp=Kt("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${fp} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,pp=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?P.createElement(gp,null,e):e:r==="blank"?null:P.createElement(hp,null,P.createElement(op,{...n}),r!=="loading"&&P.createElement(dp,null,r==="error"?P.createElement(sp,{...n}):P.createElement(up,{...n})))},mp=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,vp=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,bp="0%{opacity:0;} 100%{opacity:1;}",yp="0%{opacity:1;} 100%{opacity:0;}",xp=Kt("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,wp=Kt("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,_p=(t,e)=>{let r=t.includes("top")?1:-1,[n,i]=pd()?[bp,yp]:[mp(r),vp(r)];return{animation:e?`${It(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${It(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Sp=P.memo(({toast:t,position:e,style:r,children:n})=>{let i=t.height?_p(t.position||e||"top-center",t.visible):{opacity:0},s=P.createElement(pp,{toast:t}),a=P.createElement(wp,{...t.ariaProps},Yi(t.message,t));return P.createElement(xp,{className:t.className,style:{...i,...r,...t.style}},typeof n=="function"?n({icon:s,message:a}):P.createElement(P.Fragment,null,s,a))});Vg(P.createElement);var kp=({id:t,className:e,style:r,onHeightUpdate:n,children:i})=>{let s=P.useCallback(a=>{if(a){let o=()=>{let l=a.getBoundingClientRect().height;n(t,l)};o(),new MutationObserver(o).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return P.createElement("div",{ref:s,className:e,style:r},i)},Dp=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:pd()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...i}},Cp=ys`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,mi=16,Pp=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:i,containerStyle:s,containerClassName:a})=>{let{toasts:o,handlers:l}=tp(r);return P.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:mi,left:mi,right:mi,bottom:mi,pointerEvents:"none",...s},className:a,onMouseEnter:l.startPause,onMouseLeave:l.endPause},o.map(c=>{let u=c.position||e,d=l.calculateOffset(c,{reverseOrder:t,gutter:n,defaultPosition:e}),h=Dp(u,d);return P.createElement(kp,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?Cp:"",style:h},c.type==="custom"?Yi(c.message,c):i?i(c):P.createElement(Sp,{toast:c,position:u}))}))},pr=Fe,Xn=t=>t.type==="checkbox",mr=t=>t instanceof Date,Le=t=>t==null;const vd=t=>typeof t=="object";var ge=t=>!Le(t)&&!Array.isArray(t)&&vd(t)&&!mr(t),Ep=t=>ge(t)&&t.target?Xn(t.target)?t.target.checked:t.target.value:t,Op=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Tp=(t,e)=>t.has(Op(e)),Ap=t=>{const e=t.constructor&&t.constructor.prototype;return ge(e)&&e.hasOwnProperty("isPrototypeOf")},fo=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ae(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(fo&&(t instanceof Blob||n))&&(r||ge(t)))if(e=r?[]:{},!r&&!Ap(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Ae(t[i]));else return t;return e}var xs=t=>Array.isArray(t)?t.filter(Boolean):[],me=t=>t===void 0,U=(t,e,r)=>{if(!e||!ge(t))return r;const n=xs(e.split(/[,[\].]+?/)).reduce((i,s)=>Le(i)?i:i[s],t);return me(n)||n===t?me(t[e])?r:t[e]:n},yt=t=>typeof t=="boolean",go=t=>/^\w*$/.test(t),bd=t=>xs(t.replace(/["|']|\]/g,"").split(/\.|\[/)),oe=(t,e,r)=>{let n=-1;const i=go(e)?[e]:bd(e),s=i.length,a=s-1;for(;++n<s;){const o=i[n];let l=r;if(n!==a){const c=t[o];l=ge(c)||Array.isArray(c)?c:isNaN(+i[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=l,t=t[o]}};const xl={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},lt={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ct={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Y.createContext(null);var Ip=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const a=s;return e._proxyFormState[a]!==lt.all&&(e._proxyFormState[a]=!n||lt.all),t[a]}});return i},ja=t=>Le(t)||!vd(t);function Bt(t,e){if(ja(t)||ja(e))return t===e;if(mr(t)&&mr(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const i of r){const s=t[i];if(!n.includes(i))return!1;if(i!=="ref"){const a=e[i];if(mr(s)&&mr(a)||ge(s)&&ge(a)||Array.isArray(s)&&Array.isArray(a)?!Bt(s,a):s!==a)return!1}}return!0}var St=t=>typeof t=="string",Mp=(t,e,r,n,i)=>St(t)?(n&&e.watch.add(t),U(r,t,i)):Array.isArray(t)?t.map(s=>(n&&e.watch.add(s),U(r,s))):(n&&(e.watchAll=!0),r),Rp=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},kn=t=>Array.isArray(t)?t:[t],wl=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},Ne=t=>ge(t)&&!Object.keys(t).length,po=t=>t.type==="file",ct=t=>typeof t=="function",Ki=t=>{if(!fo)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},yd=t=>t.type==="select-multiple",mo=t=>t.type==="radio",jp=t=>mo(t)||Xn(t),na=t=>Ki(t)&&t.isConnected;function Np(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=me(t)?n++:t[e[n++]];return t}function Lp(t){for(const e in t)if(t.hasOwnProperty(e)&&!me(t[e]))return!1;return!0}function ve(t,e){const r=Array.isArray(e)?e:go(e)?[e]:bd(e),n=r.length===1?t:Np(t,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(ge(n)&&Ne(n)||Array.isArray(n)&&Lp(n))&&ve(t,r.slice(0,-1)),t}var xd=t=>{for(const e in t)if(ct(t[e]))return!0;return!1};function Xi(t,e={}){const r=Array.isArray(t);if(ge(t)||r)for(const n in t)Array.isArray(t[n])||ge(t[n])&&!xd(t[n])?(e[n]=Array.isArray(t[n])?[]:{},Xi(t[n],e[n])):Le(t[n])||(e[n]=!0);return e}function wd(t,e,r){const n=Array.isArray(t);if(ge(t)||n)for(const i in t)Array.isArray(t[i])||ge(t[i])&&!xd(t[i])?me(e)||ja(r[i])?r[i]=Array.isArray(t[i])?Xi(t[i],[]):{...Xi(t[i])}:wd(t[i],Le(e)?{}:e[i],r[i]):r[i]=!Bt(t[i],e[i]);return r}var ln=(t,e)=>wd(t,e,Xi(e));const _l={value:!1,isValid:!1},Sl={value:!0,isValid:!0};var _d=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!me(t[0].attributes.value)?me(t[0].value)||t[0].value===""?Sl:{value:t[0].value,isValid:!0}:Sl:_l}return _l},Sd=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>me(t)?t:e?t===""?NaN:t&&+t:r&&St(t)?new Date(t):n?n(t):t;const kl={isValid:!1,value:null};var kd=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,kl):kl;function Dl(t){const e=t.ref;return po(e)?e.files:mo(e)?kd(t.refs).value:yd(e)?[...e.selectedOptions].map(({value:r})=>r):Xn(e)?_d(t.refs).value:Sd(me(e.value)?t.ref.value:e.value,t)}var Fp=(t,e,r,n)=>{const i={};for(const s of t){const a=U(e,s);a&&oe(i,s,a._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},Ji=t=>t instanceof RegExp,cn=t=>me(t)?t:Ji(t)?t.source:ge(t)?Ji(t.value)?t.value.source:t.value:t,Cl=t=>({isOnSubmit:!t||t===lt.onSubmit,isOnBlur:t===lt.onBlur,isOnChange:t===lt.onChange,isOnAll:t===lt.all,isOnTouch:t===lt.onTouched});const Pl="AsyncFunction";var Bp=t=>!!t&&!!t.validate&&!!(ct(t.validate)&&t.validate.constructor.name===Pl||ge(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Pl)),$p=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),El=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Dn=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const s=U(t,i);if(s){const{_f:a,...o}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!n)return!0;if(a.ref&&e(a.ref,a.name)&&!n)return!0;if(Dn(o,e))break}else if(ge(o)&&Dn(o,e))break}}};function Ol(t,e,r){const n=U(t,r);if(n||go(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),a=U(e,s),o=U(t,s);if(a&&!Array.isArray(a)&&r!==s)return{name:r};if(o&&o.type)return{name:s,error:o};i.pop()}return{name:r}}var Up=(t,e,r,n)=>{r(t);const{name:i,...s}=t;return Ne(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!n||lt.all))},Wp=(t,e,r)=>!t||!e||t===e||kn(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),zp=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,Vp=(t,e)=>!xs(U(t,e)).length&&ve(t,e),Hp=(t,e,r)=>{const n=kn(U(t,r));return oe(n,"root",e[r]),oe(t,r,n),t},Ui=t=>St(t);function Tl(t,e,r="validate"){if(Ui(t)||Array.isArray(t)&&t.every(Ui)||yt(t)&&!t)return{type:r,message:Ui(t)?t:"",ref:e}}var Ir=t=>ge(t)&&!Ji(t)?t:{value:t,message:""},Al=async(t,e,r,n,i,s)=>{const{ref:a,refs:o,required:l,maxLength:c,minLength:u,min:d,max:h,pattern:f,validate:g,name:p,valueAsNumber:v,mount:b}=t._f,y=U(r,p);if(!b||e.has(p))return{};const _=o?o[0]:a,w=R=>{i&&_.reportValidity&&(_.setCustomValidity(yt(R)?"":R||""),_.reportValidity())},S={},D=mo(a),E=Xn(a),O=D||E,T=(v||po(a))&&me(a.value)&&me(y)||Ki(a)&&a.value===""||y===""||Array.isArray(y)&&!y.length,L=Rp.bind(null,p,n,S),M=(R,F,W,B=Ct.maxLength,V=Ct.minLength)=>{const X=R?F:W;S[p]={type:R?B:V,message:X,ref:a,...L(R?B:V,X)}};if(s?!Array.isArray(y)||!y.length:l&&(!O&&(T||Le(y))||yt(y)&&!y||E&&!_d(o).isValid||D&&!kd(o).isValid)){const{value:R,message:F}=Ui(l)?{value:!!l,message:l}:Ir(l);if(R&&(S[p]={type:Ct.required,message:F,ref:_,...L(Ct.required,F)},!n))return w(F),S}if(!T&&(!Le(d)||!Le(h))){let R,F;const W=Ir(h),B=Ir(d);if(!Le(y)&&!isNaN(y)){const V=a.valueAsNumber||y&&+y;Le(W.value)||(R=V>W.value),Le(B.value)||(F=V<B.value)}else{const V=a.valueAsDate||new Date(y),X=ue=>new Date(new Date().toDateString()+" "+ue),he=a.type=="time",De=a.type=="week";St(W.value)&&y&&(R=he?X(y)>X(W.value):De?y>W.value:V>new Date(W.value)),St(B.value)&&y&&(F=he?X(y)<X(B.value):De?y<B.value:V<new Date(B.value))}if((R||F)&&(M(!!R,W.message,B.message,Ct.max,Ct.min),!n))return w(S[p].message),S}if((c||u)&&!T&&(St(y)||s&&Array.isArray(y))){const R=Ir(c),F=Ir(u),W=!Le(R.value)&&y.length>+R.value,B=!Le(F.value)&&y.length<+F.value;if((W||B)&&(M(W,R.message,F.message),!n))return w(S[p].message),S}if(f&&!T&&St(y)){const{value:R,message:F}=Ir(f);if(Ji(R)&&!y.match(R)&&(S[p]={type:Ct.pattern,message:F,ref:a,...L(Ct.pattern,F)},!n))return w(F),S}if(g){if(ct(g)){const R=await g(y,r),F=Tl(R,_);if(F&&(S[p]={...F,...L(Ct.validate,F.message)},!n))return w(F.message),S}else if(ge(g)){let R={};for(const F in g){if(!Ne(R)&&!n)break;const W=Tl(await g[F](y,r),_,F);W&&(R={...W,...L(F,W.message)},w(W.message),n&&(S[p]=R))}if(!Ne(R)&&(S[p]={ref:_,...R},!n))return S}}return w(!0),S};const qp={mode:lt.onSubmit,reValidateMode:lt.onChange,shouldFocusError:!0};function Gp(t={}){let e={...qp,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:ct(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const n={};let i=ge(e.defaultValues)||ge(e.values)?Ae(e.values||e.defaultValues)||{}:{},s=e.shouldUnregister?{}:Ae(i),a={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let d={...u};const h={array:wl(),state:wl()},f=Cl(e.mode),g=Cl(e.reValidateMode),p=e.criteriaMode===lt.all,v=x=>k=>{clearTimeout(c),c=setTimeout(x,k)},b=async x=>{if(!e.disabled&&(u.isValid||d.isValid||x)){const k=e.resolver?Ne((await T()).errors):await M(n,!0);k!==r.isValid&&h.state.next({isValid:k})}},y=(x,k)=>{!e.disabled&&(u.isValidating||u.validatingFields||d.isValidating||d.validatingFields)&&((x||Array.from(o.mount)).forEach(C=>{C&&(k?oe(r.validatingFields,C,k):ve(r.validatingFields,C))}),h.state.next({validatingFields:r.validatingFields,isValidating:!Ne(r.validatingFields)}))},_=(x,k=[],C,N,j=!0,A=!0)=>{if(N&&C&&!e.disabled){if(a.action=!0,A&&Array.isArray(U(n,x))){const $=C(U(n,x),N.argA,N.argB);j&&oe(n,x,$)}if(A&&Array.isArray(U(r.errors,x))){const $=C(U(r.errors,x),N.argA,N.argB);j&&oe(r.errors,x,$),Vp(r.errors,x)}if((u.touchedFields||d.touchedFields)&&A&&Array.isArray(U(r.touchedFields,x))){const $=C(U(r.touchedFields,x),N.argA,N.argB);j&&oe(r.touchedFields,x,$)}(u.dirtyFields||d.dirtyFields)&&(r.dirtyFields=ln(i,s)),h.state.next({name:x,isDirty:F(x,k),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else oe(s,x,k)},w=(x,k)=>{oe(r.errors,x,k),h.state.next({errors:r.errors})},S=x=>{r.errors=x,h.state.next({errors:r.errors,isValid:!1})},D=(x,k,C,N)=>{const j=U(n,x);if(j){const A=U(s,x,me(C)?U(i,x):C);me(A)||N&&N.defaultChecked||k?oe(s,x,k?A:Dl(j._f)):V(x,A),a.mount&&b()}},E=(x,k,C,N,j)=>{let A=!1,$=!1;const ee={name:x};if(!e.disabled){if(!C||N){(u.isDirty||d.isDirty)&&($=r.isDirty,r.isDirty=ee.isDirty=F(),A=$!==ee.isDirty);const pe=Bt(U(i,x),k);$=!!U(r.dirtyFields,x),pe?ve(r.dirtyFields,x):oe(r.dirtyFields,x,!0),ee.dirtyFields=r.dirtyFields,A=A||(u.dirtyFields||d.dirtyFields)&&$!==!pe}if(C){const pe=U(r.touchedFields,x);pe||(oe(r.touchedFields,x,C),ee.touchedFields=r.touchedFields,A=A||(u.touchedFields||d.touchedFields)&&pe!==C)}A&&j&&h.state.next(ee)}return A?ee:{}},O=(x,k,C,N)=>{const j=U(r.errors,x),A=(u.isValid||d.isValid)&&yt(k)&&r.isValid!==k;if(e.delayError&&C?(l=v(()=>w(x,C)),l(e.delayError)):(clearTimeout(c),l=null,C?oe(r.errors,x,C):ve(r.errors,x)),(C?!Bt(j,C):j)||!Ne(N)||A){const $={...N,...A&&yt(k)?{isValid:k}:{},errors:r.errors,name:x};r={...r,...$},h.state.next($)}},T=async x=>{y(x,!0);const k=await e.resolver(s,e.context,Fp(x||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return y(x),k},L=async x=>{const{errors:k}=await T(x);if(x)for(const C of x){const N=U(k,C);N?oe(r.errors,C,N):ve(r.errors,C)}else r.errors=k;return k},M=async(x,k,C={valid:!0})=>{for(const N in x){const j=x[N];if(j){const{_f:A,...$}=j;if(A){const ee=o.array.has(A.name),pe=j._f&&Bp(j._f);pe&&u.validatingFields&&y([N],!0);const Te=await Al(j,o.disabled,s,p,e.shouldUseNativeValidation&&!k,ee);if(pe&&u.validatingFields&&y([N]),Te[A.name]&&(C.valid=!1,k))break;!k&&(U(Te,A.name)?ee?Hp(r.errors,Te,A.name):oe(r.errors,A.name,Te[A.name]):ve(r.errors,A.name))}!Ne($)&&await M($,k,C)}}return C.valid},R=()=>{for(const x of o.unMount){const k=U(n,x);k&&(k._f.refs?k._f.refs.every(C=>!na(C)):!na(k._f.ref))&&Zt(x)}o.unMount=new Set},F=(x,k)=>!e.disabled&&(x&&k&&oe(s,x,k),!Bt(de(),i)),W=(x,k,C)=>Mp(x,o,{...a.mount?s:me(k)?i:St(x)?{[x]:k}:k},C,k),B=x=>xs(U(a.mount?s:i,x,e.shouldUnregister?U(i,x,[]):[])),V=(x,k,C={})=>{const N=U(n,x);let j=k;if(N){const A=N._f;A&&(!A.disabled&&oe(s,x,Sd(k,A)),j=Ki(A.ref)&&Le(k)?"":k,yd(A.ref)?[...A.ref.options].forEach($=>$.selected=j.includes($.value)):A.refs?Xn(A.ref)?A.refs.length>1?A.refs.forEach($=>(!$.defaultChecked||!$.disabled)&&($.checked=Array.isArray(j)?!!j.find(ee=>ee===$.value):j===$.value)):A.refs[0]&&(A.refs[0].checked=!!j):A.refs.forEach($=>$.checked=$.value===j):po(A.ref)?A.ref.value="":(A.ref.value=j,A.ref.type||h.state.next({name:x,values:Ae(s)})))}(C.shouldDirty||C.shouldTouch)&&E(x,j,C.shouldTouch,C.shouldDirty,!0),C.shouldValidate&&Oe(x)},X=(x,k,C)=>{for(const N in k){const j=k[N],A=`${x}.${N}`,$=U(n,A);(o.array.has(x)||ge(j)||$&&!$._f)&&!mr(j)?X(A,j,C):V(A,j,C)}},he=(x,k,C={})=>{const N=U(n,x),j=o.array.has(x),A=Ae(k);oe(s,x,A),j?(h.array.next({name:x,values:Ae(s)}),(u.isDirty||u.dirtyFields||d.isDirty||d.dirtyFields)&&C.shouldDirty&&h.state.next({name:x,dirtyFields:ln(i,s),isDirty:F(x,A)})):N&&!N._f&&!Le(A)?X(x,A,C):V(x,A,C),El(x,o)&&h.state.next({...r}),h.state.next({name:a.mount?x:void 0,values:Ae(s)})},De=async x=>{a.mount=!0;const k=x.target;let C=k.name,N=!0;const j=U(n,C),A=$=>{N=Number.isNaN($)||mr($)&&isNaN($.getTime())||Bt($,U(s,C,$))};if(j){let $,ee;const pe=k.type?Dl(j._f):Ep(x),Te=x.type===xl.BLUR||x.type===xl.FOCUS_OUT,_g=!$p(j._f)&&!e.resolver&&!U(r.errors,C)&&!j._f.deps||zp(Te,U(r.touchedFields,C),r.isSubmitted,g,f),ta=El(C,o,Te);oe(s,C,pe),Te?(j._f.onBlur&&j._f.onBlur(x),l&&l(0)):j._f.onChange&&j._f.onChange(x);const ra=E(C,pe,Te),Sg=!Ne(ra)||ta;if(!Te&&h.state.next({name:C,type:x.type,values:Ae(s)}),_g)return(u.isValid||d.isValid)&&(e.mode==="onBlur"?Te&&b():Te||b()),Sg&&h.state.next({name:C,...ta?{}:ra});if(!Te&&ta&&h.state.next({...r}),e.resolver){const{errors:ml}=await T([C]);if(A(pe),N){const kg=Ol(r.errors,n,C),vl=Ol(ml,n,kg.name||C);$=vl.error,C=vl.name,ee=Ne(ml)}}else y([C],!0),$=(await Al(j,o.disabled,s,p,e.shouldUseNativeValidation))[C],y([C]),A(pe),N&&($?ee=!1:(u.isValid||d.isValid)&&(ee=await M(n,!0)));N&&(j._f.deps&&Oe(j._f.deps),O(C,ee,$,ra))}},ue=(x,k)=>{if(U(r.errors,k)&&x.focus)return x.focus(),1},Oe=async(x,k={})=>{let C,N;const j=kn(x);if(e.resolver){const A=await L(me(x)?x:j);C=Ne(A),N=x?!j.some($=>U(A,$)):C}else x?(N=(await Promise.all(j.map(async A=>{const $=U(n,A);return await M($&&$._f?{[A]:$}:$)}))).every(Boolean),!(!N&&!r.isValid)&&b()):N=C=await M(n);return h.state.next({...!St(x)||(u.isValid||d.isValid)&&C!==r.isValid?{}:{name:x},...e.resolver||!x?{isValid:C}:{},errors:r.errors}),k.shouldFocus&&!N&&Dn(n,ue,x?j:o.mount),N},de=x=>{const k={...a.mount?s:i};return me(x)?k:St(x)?U(k,x):x.map(C=>U(k,C))},Be=(x,k)=>({invalid:!!U((k||r).errors,x),isDirty:!!U((k||r).dirtyFields,x),error:U((k||r).errors,x),isValidating:!!U(r.validatingFields,x),isTouched:!!U((k||r).touchedFields,x)}),$e=x=>{x&&kn(x).forEach(k=>ve(r.errors,k)),h.state.next({errors:x?r.errors:{}})},Ce=(x,k,C)=>{const N=(U(n,x,{_f:{}})._f||{}).ref,j=U(r.errors,x)||{},{ref:A,message:$,type:ee,...pe}=j;oe(r.errors,x,{...pe,...k,ref:N}),h.state.next({name:x,errors:r.errors,isValid:!1}),C&&C.shouldFocus&&N&&N.focus&&N.focus()},Ue=(x,k)=>ct(x)?h.state.subscribe({next:C=>x(W(void 0,k),C)}):W(x,k,!0),Qt=x=>h.state.subscribe({next:k=>{Wp(x.name,k.name,x.exact)&&Up(k,x.formState||u,rr,x.reRenderRoot)&&x.callback({values:{...s},...r,...k})}}).unsubscribe,Or=x=>(a.mount=!0,d={...d,...x.formState},Qt({...x,formState:d})),Zt=(x,k={})=>{for(const C of x?kn(x):o.mount)o.mount.delete(C),o.array.delete(C),k.keepValue||(ve(n,C),ve(s,C)),!k.keepError&&ve(r.errors,C),!k.keepDirty&&ve(r.dirtyFields,C),!k.keepTouched&&ve(r.touchedFields,C),!k.keepIsValidating&&ve(r.validatingFields,C),!e.shouldUnregister&&!k.keepDefaultValue&&ve(i,C);h.state.next({values:Ae(s)}),h.state.next({...r,...k.keepDirty?{isDirty:F()}:{}}),!k.keepIsValid&&b()},kt=({disabled:x,name:k})=>{(yt(x)&&a.mount||x||o.disabled.has(k))&&(x?o.disabled.add(k):o.disabled.delete(k))},er=(x,k={})=>{let C=U(n,x);const N=yt(k.disabled)||yt(e.disabled);return oe(n,x,{...C||{},_f:{...C&&C._f?C._f:{ref:{name:x}},name:x,mount:!0,...k}}),o.mount.add(x),C?kt({disabled:yt(k.disabled)?k.disabled:e.disabled,name:x}):D(x,!0,k.value),{...N?{disabled:k.disabled||e.disabled}:{},...e.progressive?{required:!!k.required,min:cn(k.min),max:cn(k.max),minLength:cn(k.minLength),maxLength:cn(k.maxLength),pattern:cn(k.pattern)}:{},name:x,onChange:De,onBlur:De,ref:j=>{if(j){er(x,k),C=U(n,x);const A=me(j.value)&&j.querySelectorAll&&j.querySelectorAll("input,select,textarea")[0]||j,$=jp(A),ee=C._f.refs||[];if($?ee.find(pe=>pe===A):A===C._f.ref)return;oe(n,x,{_f:{...C._f,...$?{refs:[...ee.filter(na),A,...Array.isArray(U(i,x))?[{}]:[]],ref:{type:A.type,name:x}}:{ref:A}}}),D(x,!1,void 0,A)}else C=U(n,x,{}),C._f&&(C._f.mount=!1),(e.shouldUnregister||k.shouldUnregister)&&!(Tp(o.array,x)&&a.action)&&o.unMount.add(x)}}},an=()=>e.shouldFocusError&&Dn(n,ue,o.mount),on=x=>{yt(x)&&(h.state.next({disabled:x}),Dn(n,(k,C)=>{const N=U(n,C);N&&(k.disabled=N._f.disabled||x,Array.isArray(N._f.refs)&&N._f.refs.forEach(j=>{j.disabled=N._f.disabled||x}))},0,!1))},tr=(x,k)=>async C=>{let N;C&&(C.preventDefault&&C.preventDefault(),C.persist&&C.persist());let j=Ae(s);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:A,values:$}=await T();r.errors=A,j=$}else await M(n);if(o.disabled.size)for(const A of o.disabled)oe(j,A,void 0);if(ve(r.errors,"root"),Ne(r.errors)){h.state.next({errors:{}});try{await x(j,C)}catch(A){N=A}}else k&&await k({...r.errors},C),an(),setTimeout(an);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ne(r.errors)&&!N,submitCount:r.submitCount+1,errors:r.errors}),N)throw N},hi=(x,k={})=>{U(n,x)&&(me(k.defaultValue)?he(x,Ae(U(i,x))):(he(x,k.defaultValue),oe(i,x,Ae(k.defaultValue))),k.keepTouched||ve(r.touchedFields,x),k.keepDirty||(ve(r.dirtyFields,x),r.isDirty=k.defaultValue?F(x,Ae(U(i,x))):F()),k.keepError||(ve(r.errors,x),u.isValid&&b()),h.state.next({...r}))},Tr=(x,k={})=>{const C=x?Ae(x):i,N=Ae(C),j=Ne(x),A=j?i:N;if(k.keepDefaultValues||(i=C),!k.keepValues){if(k.keepDirtyValues){const $=new Set([...o.mount,...Object.keys(ln(i,s))]);for(const ee of Array.from($))U(r.dirtyFields,ee)?oe(A,ee,U(s,ee)):he(ee,U(A,ee))}else{if(fo&&me(x))for(const $ of o.mount){const ee=U(n,$);if(ee&&ee._f){const pe=Array.isArray(ee._f.refs)?ee._f.refs[0]:ee._f.ref;if(Ki(pe)){const Te=pe.closest("form");if(Te){Te.reset();break}}}}for(const $ of o.mount)he($,U(A,$))}s=Ae(A),h.array.next({values:{...A}}),h.state.next({values:{...A}})}o={mount:k.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!u.isValid||!!k.keepIsValid||!!k.keepDirtyValues,a.watch=!!e.shouldUnregister,h.state.next({submitCount:k.keepSubmitCount?r.submitCount:0,isDirty:j?!1:k.keepDirty?r.isDirty:!!(k.keepDefaultValues&&!Bt(x,i)),isSubmitted:k.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:j?{}:k.keepDirtyValues?k.keepDefaultValues&&s?ln(i,s):r.dirtyFields:k.keepDefaultValues&&x?ln(i,x):k.keepDirty?r.dirtyFields:{},touchedFields:k.keepTouched?r.touchedFields:{},errors:k.keepErrors?r.errors:{},isSubmitSuccessful:k.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ar=(x,k)=>Tr(ct(x)?x(s):x,k),ea=(x,k={})=>{const C=U(n,x),N=C&&C._f;if(N){const j=N.refs?N.refs[0]:N.ref;j.focus&&(j.focus(),k.shouldSelect&&ct(j.select)&&j.select())}},rr=x=>{r={...r,...x}},pl={control:{register:er,unregister:Zt,getFieldState:Be,handleSubmit:tr,setError:Ce,_subscribe:Qt,_runSchema:T,_getWatch:W,_getDirty:F,_setValid:b,_setFieldArray:_,_setDisabledField:kt,_setErrors:S,_getFieldArray:B,_reset:Tr,_resetDefaultValues:()=>ct(e.defaultValues)&&e.defaultValues().then(x=>{Ar(x,e.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:R,_disableForm:on,_subjects:h,_proxyFormState:u,get _fields(){return n},get _formValues(){return s},get _state(){return a},set _state(x){a=x},get _defaultValues(){return i},get _names(){return o},set _names(x){o=x},get _formState(){return r},get _options(){return e},set _options(x){e={...e,...x}}},subscribe:Or,trigger:Oe,register:er,handleSubmit:tr,watch:Ue,setValue:he,getValues:de,reset:Ar,resetField:hi,clearErrors:$e,unregister:Zt,setError:Ce,setFocus:ea,getFieldState:Be};return{...pl,formControl:pl}}const Yp=typeof window<"u"?Y.useLayoutEffect:Y.useEffect;function Dd(t={}){const e=Y.useRef(void 0),r=Y.useRef(void 0),[n,i]=Y.useState({isDirty:!1,isValidating:!1,isLoading:ct(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:ct(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:Gp(t),formState:n},t.formControl&&t.defaultValues&&!ct(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const s=e.current.control;return s._options=t,Yp(()=>{const a=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(o=>({...o,isReady:!0})),a},[s]),Y.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),Y.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode),t.errors&&!Ne(t.errors)&&s._setErrors(t.errors)},[s,t.errors,t.mode,t.reValidateMode]),Y.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),Y.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==n.isDirty&&s._subjects.state.next({isDirty:a})}},[s,n.isDirty]),Y.useEffect(()=>{t.values&&!Bt(t.values,r.current)?(s._reset(t.values,s._options.resetOptions),r.current=t.values,i(a=>({...a}))):s._resetDefaultValues()},[s,t.values]),Y.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=Ip(n,s),e.current}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Kp={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ce=(t,e)=>{const r=P.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,...c},u)=>P.createElement("svg",{ref:u,...Kp,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${Xp(t)}`,o].join(" "),...c},[...e.map(([d,h])=>P.createElement(d,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=ce("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=ce("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qp=ce("AlignRight",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}],["line",{x1:"21",x2:"7",y1:"18",y2:"18",key:"1g9eri"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=ce("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=ce("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=ce("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rm=ce("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=ce("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const im=ce("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=ce("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Il=ce("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=ce("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=ce("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pd=ce("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=ce("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ed=ce("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=ce("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=ce("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=ce("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=ce("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=ce("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=ce("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),pm={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"your-anon-key",VITE_SUPABASE_URL:"https://example.supabase.co"},Ml=t=>{let e;const r=new Set,n=(u,d)=>{const h=typeof u=="function"?u(e):u;if(!Object.is(h,e)){const f=e;e=d??(typeof h!="object"||h===null)?h:Object.assign({},e,h),r.forEach(g=>g(e,f))}},i=()=>e,l={setState:n,getState:i,getInitialState:()=>c,subscribe:u=>(r.add(u),()=>r.delete(u)),destroy:()=>{(pm?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},c=e=t(n,i,l);return l},mm=t=>t?Ml(t):Ml;var Td={exports:{}},Ad={},Id={exports:{}},Md={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vr=P;function vm(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bm=typeof Object.is=="function"?Object.is:vm,ym=Vr.useState,xm=Vr.useEffect,wm=Vr.useLayoutEffect,_m=Vr.useDebugValue;function Sm(t,e){var r=e(),n=ym({inst:{value:r,getSnapshot:e}}),i=n[0].inst,s=n[1];return wm(function(){i.value=r,i.getSnapshot=e,ia(i)&&s({inst:i})},[t,r,e]),xm(function(){return ia(i)&&s({inst:i}),t(function(){ia(i)&&s({inst:i})})},[t]),_m(r),r}function ia(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!bm(t,r)}catch{return!0}}function km(t,e){return e()}var Dm=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?km:Sm;Md.useSyncExternalStore=Vr.useSyncExternalStore!==void 0?Vr.useSyncExternalStore:Dm;Id.exports=Md;var Cm=Id.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ws=P,Pm=Cm;function Em(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Om=typeof Object.is=="function"?Object.is:Em,Tm=Pm.useSyncExternalStore,Am=ws.useRef,Im=ws.useEffect,Mm=ws.useMemo,Rm=ws.useDebugValue;Ad.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var s=Am(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=Mm(function(){function l(f){if(!c){if(c=!0,u=f,f=n(f),i!==void 0&&a.hasValue){var g=a.value;if(i(g,f))return d=g}return d=f}if(g=d,Om(u,f))return g;var p=n(f);return i!==void 0&&i(g,p)?(u=f,g):(u=f,d=p)}var c=!1,u,d,h=r===void 0?null:r;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,r,n,i]);var o=Tm(t,s[0],s[1]);return Im(function(){a.hasValue=!0,a.value=o},[o]),Rm(o),o};Td.exports=Ad;var jm=Td.exports;const Nm=cd(jm),Rd={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"your-anon-key",VITE_SUPABASE_URL:"https://example.supabase.co"},{useDebugValue:Lm}=Y,{useSyncExternalStoreWithSelector:Fm}=Nm;let Rl=!1;const Bm=t=>t;function $m(t,e=Bm,r){(Rd?"production":void 0)!=="production"&&r&&!Rl&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Rl=!0);const n=Fm(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return Lm(n),n}const jl=t=>{(Rd?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?mm(t):t,r=(n,i)=>$m(e,n,i);return Object.assign(r,e),r},bo=t=>t?jl(t):jl,Um="modulepreload",Wm=function(t){return"/"+t},Nl={},Hr=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=Wm(l),l in Nl)return;Nl[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":Um,c||(d.as="script"),d.crossOrigin="",d.href=l,o&&d.setAttribute("nonce",o),document.head.appendChild(d),c)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})},zm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Hr(async()=>{const{default:n}=await Promise.resolve().then(()=>Zr);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class yo extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Vm extends yo{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Hm extends yo{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class qm extends yo{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var La;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(La||(La={}));var Gm=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?s(u.value):i(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};class Ym{constructor(e,{headers:r={},customFetch:n,region:i=La.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=zm(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return Gm(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:a}=r;let o={},{region:l}=r;l||(l=this.region),l&&l!=="any"&&(o["x-region"]=l);let c;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",c=a):typeof a=="string"?(o["Content-Type"]="text/plain",c=a):typeof FormData<"u"&&a instanceof FormData?c=a:(o["Content-Type"]="application/json",c=JSON.stringify(a)));const u=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:c}).catch(g=>{throw new Vm(g)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new Hm(u);if(!u.ok)throw new qm(u);let h=((n=u.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),f;return h==="application/json"?f=yield u.json():h==="application/octet-stream"?f=yield u.blob():h==="text/event-stream"?f=u:h==="multipart/form-data"?f=yield u.formData():f=yield u.text(),{data:f,error:null}}catch(i){return{data:null,error:i}}})}}var He={},xo={},_s={},Jn={},Ss={},ks={},Km=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},qr=Km();const Xm=qr.fetch,jd=qr.fetch.bind(qr),Nd=qr.Headers,Jm=qr.Request,Qm=qr.Response,Zr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Nd,Request:Jm,Response:Qm,default:jd,fetch:Xm},Symbol.toStringTag,{value:"Module"})),Zm=Pg(Zr);var Ds={};Object.defineProperty(Ds,"__esModule",{value:!0});let ev=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Ds.default=ev;var Ld=st&&st.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ks,"__esModule",{value:!0});const tv=Ld(Zm),rv=Ld(Ds);let nv=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=tv.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var a,o,l;let c=null,u=null,d=null,h=s.status,f=s.statusText;if(s.ok){if(this.method!=="HEAD"){const b=await s.text();b===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=b:u=JSON.parse(b))}const p=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),v=(o=s.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");p&&v&&v.length>1&&(d=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,h=406,f="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const p=await s.text();try{c=JSON.parse(p),Array.isArray(c)&&s.status===404&&(u=[],c=null,h=200,f="OK")}catch{s.status===404&&p===""?(h=204,f="No Content"):c={message:p}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,h=200,f="OK"),c&&this.shouldThrowOnError)throw new rv.default(c)}return{error:c,data:u,count:d,status:h,statusText:f}});return this.shouldThrowOnError||(i=i.catch(s=>{var a,o,l;return{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(o=s==null?void 0:s.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,r)}returns(){return this}overrideTypes(){return this}};ks.default=nv;var iv=st&&st.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ss,"__esModule",{value:!0});const sv=iv(ks);let av=class extends sv.default{select(e){let r=!1;const n=(e??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:s=i}={}){const a=s?`${s}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:i=n}={}){const s=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(a,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:s=!1,format:a="text"}={}){var o;const l=[e?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${c}"; options=${l};`,a==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ss.default=av;var ov=st&&st.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Jn,"__esModule",{value:!0});const lv=ov(Ss);let cv=class extends lv.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${a}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Jn.default=cv;var uv=st&&st.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_s,"__esModule",{value:!0});const un=uv(Jn);let dv=class{constructor(e,{headers:r={},schema:n,fetch:i}){this.url=e,this.headers=r,this.schema=n,this.fetch=i}select(e,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let s=!1;const a=(e??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new un.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),n||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const a=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(a.length>0){const o=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new un.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:s=!0}={}){const a="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),i&&o.push(`count=${i}`),s||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new un.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new un.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new un.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};_s.default=dv;var Cs={},Ps={};Object.defineProperty(Ps,"__esModule",{value:!0});Ps.version=void 0;Ps.version="0.0.0-automated";Object.defineProperty(Cs,"__esModule",{value:!0});Cs.DEFAULT_HEADERS=void 0;const hv=Ps;Cs.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${hv.version}`};var Fd=st&&st.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xo,"__esModule",{value:!0});const fv=Fd(_s),gv=Fd(Jn),pv=Cs;let mv=class Bd{constructor(e,{headers:r={},schema:n,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},pv.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=i}from(e){const r=new URL(`${this.url}/${e}`);return new fv.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Bd(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:i=!1,count:s}={}){let a;const o=new URL(`${this.url}/rpc/${e}`);let l;n||i?(a=n?"HEAD":"GET",Object.entries(r).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{o.searchParams.append(u,d)})):(a="POST",l=r);const c=Object.assign({},this.headers);return s&&(c.Prefer=`count=${s}`),new gv.default({method:a,url:o,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};xo.default=mv;var en=st&&st.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(He,"__esModule",{value:!0});He.PostgrestError=He.PostgrestBuilder=He.PostgrestTransformBuilder=He.PostgrestFilterBuilder=He.PostgrestQueryBuilder=He.PostgrestClient=void 0;const $d=en(xo);He.PostgrestClient=$d.default;const Ud=en(_s);He.PostgrestQueryBuilder=Ud.default;const Wd=en(Jn);He.PostgrestFilterBuilder=Wd.default;const zd=en(Ss);He.PostgrestTransformBuilder=zd.default;const Vd=en(ks);He.PostgrestBuilder=Vd.default;const Hd=en(Ds);He.PostgrestError=Hd.default;var vv=He.default={PostgrestClient:$d.default,PostgrestQueryBuilder:Ud.default,PostgrestFilterBuilder:Wd.default,PostgrestTransformBuilder:zd.default,PostgrestBuilder:Vd.default,PostgrestError:Hd.default};const{PostgrestClient:bv,PostgrestQueryBuilder:lO,PostgrestFilterBuilder:cO,PostgrestTransformBuilder:uO,PostgrestBuilder:dO,PostgrestError:hO}=vv,yv="2.11.2",xv={"X-Client-Info":`realtime-js/${yv}`},wv="1.0.0",qd=1e4,_v=1e3;var Ur;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ur||(Ur={}));var Ge;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ge||(Ge={}));var ot;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ot||(ot={}));var Fa;(function(t){t.websocket="websocket"})(Fa||(Fa={}));var fr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(fr||(fr={}));class Sv{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(e.slice(a,a+i));a=a+i;const l=n.decode(e.slice(a,a+s));a=a+s;const c=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{ref:null,topic:o,event:l,payload:c}}}class Gd{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var se;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(se||(se={}));const Ll=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((s,a)=>(s[a]=kv(a,t,e,i),s),{})},kv=(t,e,r,n)=>{const i=e.find(o=>o.name===t),s=i==null?void 0:i.type,a=r[t];return s&&!n.includes(s)?Yd(s,a):Ba(a)},Yd=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Ev(e,r)}switch(t){case se.bool:return Dv(e);case se.float4:case se.float8:case se.int2:case se.int4:case se.int8:case se.numeric:case se.oid:return Cv(e);case se.json:case se.jsonb:return Pv(e);case se.timestamp:return Ov(e);case se.abstime:case se.date:case se.daterange:case se.int4range:case se.int8range:case se.money:case se.reltime:case se.text:case se.time:case se.timestamptz:case se.timetz:case se.tsrange:case se.tstzrange:return Ba(e);default:return Ba(e)}},Ba=t=>t,Dv=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Cv=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Pv=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Ev=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const a=t.slice(1,r);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>Yd(e,o))}return t},Ov=t=>typeof t=="string"?t.replace(" ","T"):t,Kd=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class sa{constructor(e,r,n={},i=qd){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Fl;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Fl||(Fl={}));class Cn{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Cn.syncState(this.state,i,s,a),this.pendingDiffs.forEach(l=>{this.state=Cn.syncDiff(this.state,l,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Cn.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const s=this.cloneDeep(e),a=this.transformState(r),o={},l={};return this.map(s,(c,u)=>{a[c]||(l[c]=u)}),this.map(a,(c,u)=>{const d=s[c];if(d){const h=u.map(v=>v.presence_ref),f=d.map(v=>v.presence_ref),g=u.filter(v=>f.indexOf(v.presence_ref)<0),p=d.filter(v=>h.indexOf(v.presence_ref)<0);g.length>0&&(o[c]=g),p.length>0&&(l[c]=p)}else o[c]=u}),this.syncDiff(s,{joins:o,leaves:l},n,i)}static syncDiff(e,r,n,i){const{joins:s,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(o,l)=>{var c;const u=(c=e[o])!==null&&c!==void 0?c:[];if(e[o]=this.cloneDeep(l),u.length>0){const d=e[o].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);e[o].unshift(...h)}n(o,u,l)}),this.map(a,(o,l)=>{let c=e[o];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[o]=c,i(o,c,l),c.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Bl;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Bl||(Bl={}));var $l;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})($l||($l={}));var Tt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Tt||(Tt={}));class wo{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Ge.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new sa(this,ot.join,this.params,this.timeout),this.rejoinTimer=new Gd(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ge.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ge.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ge.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ot.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Cn(this),this.broadcastEndpointURL=Kd(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:a,private:o}}=this.params;this._onError(u=>e==null?void 0:e(Tt.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(Tt.CLOSED));const l={},c={broadcast:s,presence:a,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&i!==void 0?i:[],private:o};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){e==null||e(Tt.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,f=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,g=[];for(let p=0;p<f;p++){const v=h[p],{filter:{event:b,schema:y,table:_,filter:w}}=v,S=u&&u[p];if(S&&S.event===b&&S.schema===y&&S.table===_&&S.filter===w)g.push(Object.assign(Object.assign({},v),{id:S.id}));else{this.unsubscribe(),e==null||e(Tt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(Tt.SUBSCRIBED);return}}).receive("error",u=>{e==null||e(Tt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Tt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ge.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ot.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const i=new sa(this,ot.leave,{},e);i.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(e,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new sa(this,e,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,s;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:c,join:u}=ot;if(n&&[o,l,c,u].indexOf(a)>=0&&n!==this._joinRef())return;let h=this._onMessage(a,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var g,p,v;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(p=f.filter)===null||p===void 0?void 0:p.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===a}).map(f=>f.callback(h,n)):(s=this.bindings[a])===null||s===void 0||s.filter(f=>{var g,p,v,b,y,_;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in f){const w=f.id,S=(g=f.filter)===null||g===void 0?void 0:g.event;return w&&((p=r.ids)===null||p===void 0?void 0:p.includes(w))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const w=(y=(b=f==null?void 0:f.filter)===null||b===void 0?void 0:b.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return w==="*"||w===((_=r==null?void 0:r.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===a}).map(f=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:p,table:v,commit_timestamp:b,type:y,errors:_}=g;h=Object.assign(Object.assign({},{schema:p,table:v,commit_timestamp:b,eventType:y,new:{},old:{},errors:_}),this._getPayloadRecords(g))}f.callback(h,n)})}_isClosed(){return this.state===Ge.closed}_isJoined(){return this.state===Ge.joined}_isJoining(){return this.state===Ge.joining}_isLeaving(){return this.state===Ge.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&wo.isEqual(i.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ot.close,{},e)}_onError(e){this._on(ot.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ge.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Ll(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Ll(e.columns,e.old_record)),r}}const Tv=()=>{},Av=typeof WebSocket<"u",Iv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Mv{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=xv,this.params={},this.timeout=qd,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Tv,this.conn=null,this.sendBuffer=[],this.serializer=new Sv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...o)=>Hr(async()=>{const{default:l}=await Promise.resolve().then(()=>Zr);return{default:l}},void 0).then(({default:l})=>l(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${e}/${Fa.websocket}`,this.httpEndpoint=Kd(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(s,a)=>a(JSON.stringify(s)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Gd(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Av){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Rv(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Hr(async()=>{const{default:e}=await import("./browser-CL25SigH.js").then(r=>r.b);return{default:e}},__vite__mapDeps([0,1])).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:wv}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ur.connecting:return fr.Connecting;case Ur.open:return fr.Open;case Ur.closing:return fr.Closing;default:return fr.Closed}}isConnected(){return this.connectionState()===fr.Open}channel(e,r={config:{}}){const n=new wo(`realtime:${e}`,r,this);return this.channels.push(n),n}push(e){const{topic:r,event:n,payload:i,ref:s}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(i=>{r&&i.updateJoinPayload({access_token:r}),i.joinedOnce&&i._isJoined()&&i._push(ot.access_token,{access_token:r})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(_v,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:i,payload:s,ref:a}=r;a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${i} ${a&&"("+a+")"||""}`,s),this.channels.filter(o=>o._isMember(n)).forEach(o=>o._trigger(i,s,a)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(ot.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Iv],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Rv{constructor(e,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ur.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class _o extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ye(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class jv extends _o{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class $a extends _o{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var Nv=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?s(u.value):i(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};const Xd=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Hr(async()=>{const{default:n}=await Promise.resolve().then(()=>Zr);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Lv=()=>Nv(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Hr(()=>Promise.resolve().then(()=>Zr),void 0)).Response:Response}),Ua=t=>{if(Array.isArray(t))return t.map(r=>Ua(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=Ua(n)}),e};var Dr=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?s(u.value):i(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};const aa=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Fv=(t,e,r)=>Dr(void 0,void 0,void 0,function*(){const n=yield Lv();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{e(new jv(aa(i),t.status||500))}).catch(i=>{e(new $a(aa(i),i))}):e(new $a(aa(t),t))}),Bv=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),r))};function Qn(t,e,r,n,i,s){return Dr(this,void 0,void 0,function*(){return new Promise((a,o)=>{t(r,Bv(e,n,i,s)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>Fv(l,o,n))})})}function Qi(t,e,r,n){return Dr(this,void 0,void 0,function*(){return Qn(t,"GET",e,r,n)})}function Lt(t,e,r,n,i){return Dr(this,void 0,void 0,function*(){return Qn(t,"POST",e,n,i,r)})}function $v(t,e,r,n,i){return Dr(this,void 0,void 0,function*(){return Qn(t,"PUT",e,n,i,r)})}function Uv(t,e,r,n){return Dr(this,void 0,void 0,function*(){return Qn(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Jd(t,e,r,n,i){return Dr(this,void 0,void 0,function*(){return Qn(t,"DELETE",e,n,i,r)})}var We=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?s(u.value):i(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};const Wv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ul={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class zv{constructor(e,r={},n,i){this.url=e,this.headers=r,this.bucketId=n,this.fetch=Xd(i)}uploadOrUpdate(e,r,n,i){return We(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},Ul),i);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const c=this._removeEmptyFolders(r),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:s,headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{})),h=yield d.json();return d.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(s){if(ye(s))return{data:null,error:s};throw s}})}upload(e,r,n){return We(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return We(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),a=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:Ul.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield this.fetch(o.toString(),{method:"PUT",body:l,headers:u}),h=yield d.json();return d.ok?{data:{path:s,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(ye(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return We(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield Lt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(this.url+s.url),o=a.searchParams.get("token");if(!o)throw new _o("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}})}update(e,r,n){return We(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return We(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(ye(i))return{data:null,error:i};throw i}})}copy(e,r,n){return We(this,void 0,void 0,function*(){try{return{data:{path:(yield Lt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(ye(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return We(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield Lt(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(ye(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return We(this,void 0,void 0,function*(){try{const i=yield Lt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(ye(i))return{data:null,error:i};throw i}})}download(e,r){return We(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=s?`?${s}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield Qi(this.fetch,`${this.url}/${i}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(ye(o))return{data:null,error:o};throw o}})}info(e){return We(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Qi(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Ua(n),error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}})}exists(e){return We(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Uv(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ye(n)&&n instanceof $a){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}remove(e){return We(this,void 0,void 0,function*(){try{return{data:yield Jd(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}})}list(e,r,n){return We(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Wv),r),{prefix:e||""});return{data:yield Lt(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(ye(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Vv="2.7.1",Hv={"X-Client-Info":`storage-js/${Vv}`};var Mr=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?s(u.value):i(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};class qv{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},Hv),r),this.fetch=Xd(n)}listBuckets(){return Mr(this,void 0,void 0,function*(){try{return{data:yield Qi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ye(e))return{data:null,error:e};throw e}})}getBucket(e){return Mr(this,void 0,void 0,function*(){try{return{data:yield Qi(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Mr(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Mr(this,void 0,void 0,function*(){try{return{data:yield $v(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Mr(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Mr(this,void 0,void 0,function*(){try{return{data:yield Jd(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}})}}class Gv extends qv{constructor(e,r={},n){super(e,r,n)}from(e){return new zv(this.url,this.headers,e,this.fetch)}}const Yv="2.49.4";let yn="";typeof Deno<"u"?yn="deno":typeof document<"u"?yn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?yn="react-native":yn="node";const Kv={"X-Client-Info":`supabase-js-${yn}/${Yv}`},Xv={headers:Kv},Jv={schema:"public"},Qv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Zv={};var eb=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?s(u.value):i(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};const tb=t=>{let e;return t?e=t:typeof fetch>"u"?e=jd:e=fetch,(...r)=>e(...r)},rb=()=>typeof Headers>"u"?Nd:Headers,nb=(t,e,r)=>{const n=tb(r),i=rb();return(s,a)=>eb(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:t;let c=new i(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(s,Object.assign(Object.assign({},a),{headers:c}))})};var ib=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?s(u.value):i(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};function sb(t){return t.replace(/\/$/,"")}function ab(t,e){const{db:r,auth:n,realtime:i,global:s}=t,{db:a,auth:o,realtime:l,global:c}=e,u={db:Object.assign(Object.assign({},a),r),auth:Object.assign(Object.assign({},o),n),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},c),s),accessToken:()=>ib(this,void 0,void 0,function*(){return""})};return t.accessToken?u.accessToken=t.accessToken:delete u.accessToken,u}const Qd="2.69.1",Br=30*1e3,Wa=3,oa=Wa*Br,ob="http://localhost:9999",lb="supabase.auth.token",cb={"X-Client-Info":`gotrue-js/${Qd}`},za="X-Supabase-Api-Version",Zd={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ub=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,db=6e5;class So extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function q(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class hb extends So{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function fb(t){return q(t)&&t.name==="AuthApiError"}class eh extends So{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Xt extends So{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class jt extends Xt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function gb(t){return q(t)&&t.name==="AuthSessionMissingError"}class la extends Xt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class vi extends Xt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class bi extends Xt{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function pb(t){return q(t)&&t.name==="AuthImplicitGrantRedirectError"}class Wl extends Xt{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Va extends Xt{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function ca(t){return q(t)&&t.name==="AuthRetryableFetchError"}class zl extends Xt{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Pn extends Xt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Vl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Hl=` 	
\r=`.split(""),mb=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Hl.length;e+=1)t[Hl[e].charCodeAt(0)]=-2;for(let e=0;e<Vl.length;e+=1)t[Vl[e].charCodeAt(0)]=e;return t})();function th(t,e,r){const n=mb[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function ql(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{yb(a,n,r)};for(let a=0;a<t.length;a+=1)th(t.charCodeAt(a),i,s);return e.join("")}function vb(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function bb(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}vb(n,e)}}function yb(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function xb(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)th(t.charCodeAt(i),r,n);return new Uint8Array(e)}function wb(t){const e=[];return bb(t,r=>e.push(r)),new Uint8Array(e)}function _b(t){return Math.round(Date.now()/1e3)+t}function Sb(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const mt=()=>typeof window<"u"&&typeof document<"u",nr={tested:!1,writable:!1},En=()=>{if(!mt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(nr.tested)return nr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),nr.tested=!0,nr.writable=!0}catch{nr.tested=!0,nr.writable=!1}return nr.writable};function kb(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const rh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Hr(async()=>{const{default:n}=await Promise.resolve().then(()=>Zr);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Db=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",nh=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},yi=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},xi=async(t,e)=>{await t.removeItem(e)};class Es{constructor(){this.promise=new Es.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Es.promiseConstructor=Promise;function ua(t){const e=t.split(".");if(e.length!==3)throw new Pn("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!ub.test(e[n]))throw new Pn("JWT not in base64url format");return{header:JSON.parse(ql(e[0])),payload:JSON.parse(ql(e[1])),signature:xb(e[2]),raw:{header:e[0],payload:e[1]}}}async function Cb(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Pb(t,e){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await t(s);if(!e(s,null,a)){n(a);return}}catch(a){if(!e(s,a)){i(a);return}}})()})}function Eb(t){return("0"+t.toString(16)).substr(-2)}function Ob(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,Eb).join("")}async function Tb(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function Ab(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await Tb(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Rr(t,e,r=!1){const n=Ob();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await nh(t,`${e}-code-verifier`,i);const s=await Ab(n);return[s,n===s?"plain":"s256"]}const Ib=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Mb(t){const e=t.headers.get(za);if(!e||!e.match(Ib))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Rb(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function jb(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Nb=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const lr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Lb=[502,503,504];async function Gl(t){var e;if(!Db(t))throw new Va(lr(t),0);if(Lb.includes(t.status))throw new Va(lr(t),t.status);let r;try{r=await t.json()}catch(s){throw new eh(lr(s),s)}let n;const i=Mb(t);if(i&&i.getTime()>=Zd["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new zl(lr(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new jt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new zl(lr(r),t.status,r.weak_password.reasons);throw new hb(lr(r),t.status||500,n)}const Fb=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function K(t,e,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[za]||(s[za]=Zd["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const a=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await Bb(t,e,r+o,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Bb(t,e,r,n,i,s){const a=Fb(e,n,i,s);let o;try{o=await t(r,Object.assign({},a))}catch(l){throw console.error(l),new Va(lr(l),0)}if(o.ok||await Gl(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await Gl(l)}}function Nt(t){var e;let r=null;zb(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=_b(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Yl(t){const e=Nt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function $t(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function $b(t){return{data:t,error:null}}function Ub(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=t,a=Nb(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function Wb(t){return t}function zb(t){return t.access_token&&t.refresh_token&&t.expires_in}var Vb=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};class Hb{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=rh(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r="global"){try{return await K(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(q(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await K(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:$t})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Vb(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await K(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Ub,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(q(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await K(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:$t})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,s,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await K(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Wb});if(u.error)throw u.error;const d=await u.json(),h=(a=u.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);c[`${v}Page`]=p}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(q(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await K(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:$t})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){try{return await K(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:$t})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){try{return await K(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:$t})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:r,error:n}=await K(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(q(r))return{data:null,error:r};throw r}}async _deleteFactor(e){try{return{data:await K(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(q(r))return{data:null,error:r};throw r}}}const qb={getItem:t=>En()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{En()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{En()&&globalThis.localStorage.removeItem(t)}};function Kl(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function Gb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const jr={debug:!!(globalThis&&En()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ih extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Yb extends ih{}async function Kb(t,e,r){jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),jr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Yb(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(jr.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Gb();const Xb={url:ob,storageKey:lb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:cb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Xl(t,e,r){return await r()}class Ln{constructor(e){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ln.nextInstanceID,Ln.nextInstanceID+=1,this.instanceID>0&&mt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Xb),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Hb({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=rh(i.fetch),this.lock=i.lock||Xl,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:mt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Kb:this.lock=Xl,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:En()?this.storage=qb:(this.memoryStorage={},this.storage=Kl(this.memoryStorage)):(this.memoryStorage={},this.storage=Kl(this.memoryStorage)),mt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Qd}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=kb(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),mt()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),pb(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return q(r)?{error:r}:{error:new eh("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const s=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Nt}),{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var r,n,i;try{let s;if("email"in e){const{email:u,password:d,options:h}=e;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await Rr(this.storage,this.storageKey)),s=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:g},xform:Nt})}else if("phone"in e){const{phone:u,password:d,options:h}=e;s=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Nt})}else throw new vi("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:a,options:o}=e;r=await K(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Yl})}else if("phone"in e){const{phone:s,password:a,options:o}=e;r=await K(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Yl})}else throw new vi("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new la}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(q(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const r=await yi(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:a}=await K(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Nt});if(await xi(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new la}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(q(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:s,nonce:a}=e,o=await K(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Nt}),{data:l,error:c}=o;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new la}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(q(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,i,s,a;try{if("email"in e){const{email:o,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Rr(this.storage,this.storageKey));const{error:d}=await K(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:o,options:l}=e,{data:c,error:u}=await K(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new vi("You must provide either an email or phone number.")}catch(o){if(q(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var r,n;try{let i,s;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await K(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Nt});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var r,n,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await Rr(this.storage,this.storageKey)),await K(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:$b})}catch(s){if(q(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new jt;const{error:i}=await K(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(q(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:s}=e,{error:a}=await K(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:n,type:i,options:s}=e,{data:a,error:o}=await K(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new vi("You must provide either an email or phone number and a type")}catch(r){if(q(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await yi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<oa:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!a&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await K(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:$t}):await this._useSession(async r=>{var n,i,s;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new jt}:await K(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:$t})})}catch(r){if(q(r))return gb(r)&&(await this._removeSession(),await xi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new jt;const a=i.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await Rr(this.storage,this.storageKey));const{data:c,error:u}=await K(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:$t});if(u)throw u;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new jt;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:a}=ua(e.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(q(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:o}=r;if(o)throw o;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new jt;const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(q(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!mt())throw new bi("No browser detected.");if(e.error||e.error_description||e.error_code)throw new bi(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Wl("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new bi("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Wl("No code detected.");const{data:y,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:l,token_type:c}=e;if(!s||!o||!a||!c)throw new bi("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(o);let h=u+d;l&&(h=parseInt(l));const f=h-u;f*1e3<=Br&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const g=h-d;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,u);const{data:p,error:v}=await this._getUser(s);if(v)throw v;const b={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:d,expires_at:h,refresh_token:a,token_type:c,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:e.type},error:null}}catch(n){if(q(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await yi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{error:s};const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(fb(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await xi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=Sb(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Rr(this.storage,this.storageKey,!0));try{return await K(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(q(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(q(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var a,o,l,c,u;const{data:d,error:h}=s;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await K(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return mt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(q(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)throw a;return await K(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(q(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Pb(async i=>(i>0&&await Cb(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await K(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Nt})),(i,s)=>{const a=200*Math.pow(2,i);return s&&ca(s)&&Date.now()+a-n<Br})}catch(n){if(this._debug(r,"error",n),q(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),mt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await yi(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const i=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<oa;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${oa}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:s}=await this._callRefreshToken(n.refresh_token);s&&(console.error(s),ca(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new jt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Es;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new jt;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={session:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),q(s)){const a={session:null,error:s};return ca(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(l){s.push(l)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await nh(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await xi(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&mt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Br);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Br);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Br}ms, refresh threshold is ${Wa} ticks`),i<=Wa&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof ih)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!mt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,a]=await Rr(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await K(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(q(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await K(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(q(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const{data:a,error:o}=await K(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(r){if(q(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await K(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(q(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],i=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=ua(i.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n||(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+db>Date.now()))return n;const{data:i,error:s}=await K(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;if(!i.keys||i.keys.length===0)throw new Pn("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),n=i.keys.find(a=>a.kid===e),!n)throw new Pn("No matching signing key found in JWKS");return n}async getClaims(e,r={keys:[]}){try{let n=e;if(!n){const{data:f,error:g}=await this.getSession();if(g||!f.session)return{data:null,error:g};n=f.session.access_token}const{header:i,payload:s,signature:a,raw:{header:o,payload:l}}=ua(n);if(Rb(s.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:s,header:i,signature:a},error:null}}const c=jb(i.alg),u=await this.fetchJwk(i.kid,r),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,a,wb(`${o}.${l}`)))throw new Pn("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(n){if(q(n))return{data:null,error:n};throw n}}}Ln.nextInstanceID=0;const Jb=Ln;class Qb extends Jb{constructor(e){super(e)}}var Zb=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?s(u.value):i(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};class ey{constructor(e,r,n){var i,s,a;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=sb(e);this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:Jv,realtime:Zv,auth:Object.assign(Object.assign({},Qv),{storageKey:l}),global:Xv},u=ab(n??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=u.global.headers)!==null&&s!==void 0?s:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=u.auth)!==null&&a!==void 0?a:{},this.headers,u.global.fetch),this.fetch=nb(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new bv(`${o}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new Ym(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Gv(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return Zb(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:s,flowType:a,lock:o,debug:l},c,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Qb({url:this.authUrl,headers:Object.assign(Object.assign({},d),c),storageKey:s,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,flowType:a,lock:o,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Mv(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ty=(t,e,r)=>new ey(t,e,r),ry="https://example.supabase.co",ny="your-anon-key",nt=ty(ry,ny),Jl=async t=>{const{data:e,error:r}=await nt.from("profiles").select("*").eq("id",t).single();return{data:e,error:r}},iy=(t,e,r)=>{let n=nt.channel(`public:${t}`).on("postgres_changes",{event:"*",schema:"public",table:t},i=>{e(i)}).subscribe();return()=>{nt.removeChannel(n)}},Cr=bo((t,e)=>({user:null,isLoading:!1,error:null,initialized:!1,login:async(r,n)=>{t({isLoading:!0,error:null});try{const{data:i,error:s}=await nt.auth.signInWithPassword({email:r,password:n});if(s)throw s;if(i!=null&&i.user){const{data:a,error:o}=await Jl(i.user.id);if(o)throw o;t({user:{id:i.user.id,email:i.user.email||"",role:(a==null?void 0:a.role)||"vendor",name:(a==null?void 0:a.name)||"User",avatar_url:a==null?void 0:a.avatar_url},isLoading:!1})}}catch(i){t({error:i.message,isLoading:!1})}},logout:async()=>{t({isLoading:!0});try{const{error:r}=await nt.auth.signOut();if(r)throw r;t({user:null,isLoading:!1})}catch(r){t({error:r.message,isLoading:!1})}},initialize:async()=>{var r;t({isLoading:!0});try{const{data:n}=await nt.auth.getSession();if((r=n.session)!=null&&r.user){const{data:i,error:s}=await Jl(n.session.user.id);if(s)throw s;t({user:{id:n.session.user.id,email:n.session.user.email||"",role:(i==null?void 0:i.role)||"vendor",name:(i==null?void 0:i.name)||"User",avatar_url:i==null?void 0:i.avatar_url}})}}catch(n){t({error:n.message})}finally{t({isLoading:!1,initialized:!0})}}})),sy=()=>{const{login:t,isLoading:e,error:r}=Cr(),[n,i]=P.useState(!1),{register:s,handleSubmit:a,formState:{errors:o}}=Dd(),l=async c=>{await t(c.email,c.password)};return m.jsxs("div",{className:"min-h-screen flex flex-col md:flex-row",children:[m.jsx("div",{className:"hidden md:block md:w-1/2 bg-primary-500",children:m.jsx("div",{className:"h-full flex items-center justify-center bg-gradient-to-r from-primary-600/90 to-primary-500/80",children:m.jsxs("div",{className:"max-w-md p-8 text-white",children:[m.jsx("h1",{className:"text-4xl font-bold mb-4",children:"PharmAssist AI"}),m.jsx("p",{className:"text-lg opacity-90",children:"Transformando o atendimento farmacutico com automao inteligente e gesto simplificada."})]})})}),m.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:m.jsxs("div",{className:"w-full max-w-md",children:[m.jsxs("div",{className:"md:hidden mb-8 text-center",children:[m.jsx("h1",{className:"text-3xl font-bold text-primary-500",children:"PharmAssist AI"}),m.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Automao inteligente para sua farmcia"})]}),m.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-card",children:[m.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"Entrar"}),r&&m.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md flex items-center text-red-600",children:[m.jsx(Na,{size:16,className:"mr-2"}),m.jsx("span",{className:"text-sm",children:r})]}),m.jsxs("form",{onSubmit:a(l),className:"space-y-5",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(am,{size:16,className:"text-gray-400"})}),m.jsx("input",{id:"email",type:"email",className:`pl-10 w-full p-2.5 rounded-md border ${o.email?"border-red-300":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-primary-400 focus:border-transparent`,placeholder:"seu@email.com",...s("email",{required:"Email  obrigatrio",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Email invlido"}})})]}),o.email&&m.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.email.message})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Senha"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(sm,{size:16,className:"text-gray-400"})}),m.jsx("input",{id:"password",type:n?"text":"password",className:`pl-10 w-full p-2.5 rounded-md border ${o.password?"border-red-300":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-primary-400 focus:border-transparent`,placeholder:"",...s("password",{required:"Senha  obrigatria"})}),m.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-sm text-gray-400 hover:text-gray-600",onClick:()=>i(!n),children:n?"Ocultar":"Mostrar"})]}),o.password&&m.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.password.message})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-primary-500 focus:ring-primary-400 border-gray-300 rounded"}),m.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Lembrar de mim"})]}),m.jsx("a",{href:"#",className:"text-sm font-medium text-primary-500 hover:text-primary-600",children:"Esqueceu a senha?"})]}),m.jsx("button",{type:"submit",disabled:e,className:"w-full flex justify-center py-2.5 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-500 hover:bg-primary-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-400 disabled:opacity-70 disabled:cursor-not-allowed transition-colors",children:e?"Entrando...":"Entrar"})]})]})]})})]})},ko=bo((t,e)=>({conversations:[],isLoading:!1,error:null,fetchConversations:async()=>{t({isLoading:!0,error:null});try{const{data:r,error:n}=await nt.from("conversations").select("*").order("last_message_time",{ascending:!1});if(n)throw n;t({conversations:r,isLoading:!1})}catch(r){t({error:r.message,isLoading:!1})}},updateConversationStatus:async(r,n)=>{try{const{error:i}=await nt.from("conversations").update({status:n}).eq("id",r);if(i)throw i;t(s=>({conversations:s.conversations.map(a=>a.id===r?{...a,status:n}:a)}))}catch(i){t({error:i.message})}},assignConversation:async(r,n)=>{try{const{error:i}=await nt.from("conversations").update({assigned_to:n}).eq("id",r);if(i)throw i;t(s=>({conversations:s.conversations.map(a=>a.id===r?{...a,assigned_to:n}:a)}))}catch(i){t({error:i.message})}},setupRealtimeSubscription:()=>iy("conversations",r=>{const{eventType:n,new:i,old:s}=r;t(a=>{let o=[...a.conversations];return n==="INSERT"?o=[{...i,is_new:!0},...o]:n==="UPDATE"?o=o.map(l=>l.id===s.id?{...l,...i}:l):n==="DELETE"&&(o=o.filter(l=>l.id!==s.id)),{conversations:o}})})})),sh=()=>{var u,d;const[t,e]=P.useState(!1),[r,n]=P.useState(!1),{user:i,logout:s}=Cr(),a=Eg(),o=async()=>{await s(),a("/login")},l=()=>{e(!t)},c=()=>{e(!1)};return m.jsxs("nav",{className:"bg-white shadow-sm",children:[m.jsx("div",{className:"container mx-auto px-4",children:m.jsxs("div",{className:"flex justify-between h-16",children:[m.jsxs("div",{className:"flex",children:[m.jsx("div",{className:"flex-shrink-0 flex items-center",children:m.jsx("span",{className:"text-xl font-bold text-primary-500",children:"PharmAssist AI"})}),m.jsxs("div",{className:"hidden md:ml-6 md:flex md:items-center md:space-x-4",children:[m.jsx(gi,{to:"/",className:({isActive:h})=>`px-3 py-2 rounded-md text-sm font-medium ${h?"text-primary-600 bg-primary-50":"text-gray-700 hover:text-primary-500 hover:bg-gray-50"}`,children:"Dashboard"}),(i==null?void 0:i.role)==="management"&&m.jsx(gi,{to:"/inventory",className:({isActive:h})=>`px-3 py-2 rounded-md text-sm font-medium ${h?"text-primary-600 bg-primary-50":"text-gray-700 hover:text-primary-500 hover:bg-gray-50"}`,children:"Controle de Estoque"})]})]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"hidden md:ml-4 md:flex md:items-center",children:m.jsxs("div",{className:"relative",children:[m.jsxs("button",{onClick:()=>n(!r),className:"flex items-center space-x-2 text-sm font-medium text-gray-700 hover:text-primary-500 focus:outline-none",children:[m.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-100 flex items-center justify-center text-primary-600 font-medium",children:((u=i==null?void 0:i.name)==null?void 0:u.charAt(0))||"U"}),m.jsx("span",{children:i==null?void 0:i.name}),m.jsx(rm,{size:16})]}),r&&m.jsx("div",{className:"absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-50",children:m.jsx("div",{className:"py-1",role:"menu","aria-orientation":"vertical",children:m.jsxs("button",{onClick:o,className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center",children:[m.jsx(Il,{size:16,className:"mr-2"}),"Sair"]})})})]})}),m.jsx("div",{className:"flex md:hidden",children:m.jsx("button",{onClick:l,className:"inline-flex items-center justify-center p-2 rounded-md text-gray-700 hover:text-primary-500 hover:bg-gray-50 focus:outline-none",children:t?m.jsx(vo,{size:24}):m.jsx(Qp,{size:24})})})]})]})}),t&&m.jsxs("div",{className:"md:hidden bg-white border-t",children:[m.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[m.jsxs(gi,{to:"/",onClick:c,className:({isActive:h})=>`block px-3 py-2 rounded-md text-base font-medium ${h?"text-primary-600 bg-primary-50":"text-gray-700 hover:text-primary-500 hover:bg-gray-50"} flex items-center`,children:[m.jsx(im,{size:18,className:"mr-2"}),"Dashboard"]}),(i==null?void 0:i.role)==="management"&&m.jsxs(gi,{to:"/inventory",onClick:c,className:({isActive:h})=>`block px-3 py-2 rounded-md text-base font-medium ${h?"text-primary-600 bg-primary-50":"text-gray-700 hover:text-primary-500 hover:bg-gray-50"} flex items-center`,children:[m.jsx(lm,{size:18,className:"mr-2"}),"Controle de Estoque"]}),m.jsxs("button",{onClick:o,className:"w-full text-left block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-primary-500 hover:bg-gray-50 flex items-center",children:[m.jsx(Il,{size:18,className:"mr-2"}),"Sair"]})]}),m.jsx("div",{className:"pt-4 pb-3 border-t border-gray-200",children:m.jsxs("div",{className:"flex items-center px-4",children:[m.jsx("div",{className:"flex-shrink-0",children:m.jsx("div",{className:"h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center text-primary-600 font-medium",children:((d=i==null?void 0:i.name)==null?void 0:d.charAt(0))||"U"})}),m.jsxs("div",{className:"ml-3",children:[m.jsx("div",{className:"text-base font-medium text-gray-800",children:i==null?void 0:i.name}),m.jsx("div",{className:"text-sm font-medium text-gray-500",children:i==null?void 0:i.email})]})]})})]})]})};function Ha(t,e){return Ha=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Ha(t,e)}function ah(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Ha(t,e)}function H(){return H=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},H.apply(null,arguments)}function xr(t){"@babel/helpers - typeof";return xr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xr(t)}function ay(t,e){if(xr(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(xr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oy(t){var e=ay(t,"string");return xr(e)=="symbol"?e:e+""}function ly(t,e,r){return(e=oy(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ql(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ql(Object(r),!0).forEach(function(n){ly(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ql(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ve(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var ec=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),da=function(){return Math.random().toString(36).substring(7).split("").join(".")},tc={INIT:"@@redux/INIT"+da(),REPLACE:"@@redux/REPLACE"+da(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+da()}};function cy(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function oh(t,e,r){var n;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Ve(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Ve(1));return r(oh)(t,e)}if(typeof t!="function")throw new Error(Ve(2));var i=t,s=e,a=[],o=a,l=!1;function c(){o===a&&(o=a.slice())}function u(){if(l)throw new Error(Ve(3));return s}function d(p){if(typeof p!="function")throw new Error(Ve(4));if(l)throw new Error(Ve(5));var v=!0;return c(),o.push(p),function(){if(v){if(l)throw new Error(Ve(6));v=!1,c();var y=o.indexOf(p);o.splice(y,1),a=null}}}function h(p){if(!cy(p))throw new Error(Ve(7));if(typeof p.type>"u")throw new Error(Ve(8));if(l)throw new Error(Ve(9));try{l=!0,s=i(s,p)}finally{l=!1}for(var v=a=o,b=0;b<v.length;b++){var y=v[b];y()}return p}function f(p){if(typeof p!="function")throw new Error(Ve(10));i=p,h({type:tc.REPLACE})}function g(){var p,v=d;return p={subscribe:function(y){if(typeof y!="object"||y===null)throw new Error(Ve(11));function _(){y.next&&y.next(u())}_();var w=v(_);return{unsubscribe:w}}},p[ec]=function(){return this},p}return h({type:tc.INIT}),n={dispatch:h,subscribe:d,getState:u,replaceReducer:f},n[ec]=g,n}function rc(t,e){return function(){return e(t.apply(this,arguments))}}function nc(t,e){if(typeof t=="function")return rc(t,e);if(typeof t!="object"||t===null)throw new Error(Ve(16));var r={};for(var n in t){var i=t[n];typeof i=="function"&&(r[n]=rc(i,e))}return r}function lh(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.length===0?function(n){return n}:e.length===1?e[0]:e.reduce(function(n,i){return function(){return n(i.apply(void 0,arguments))}})}function uy(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(n){return function(){var i=n.apply(void 0,arguments),s=function(){throw new Error(Ve(15))},a={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},o=e.map(function(l){return l(a)});return s=lh.apply(void 0,o)(i.dispatch),Zl(Zl({},i),{},{dispatch:s})}}}var ch=Y.createContext(null);function dy(t){t()}var uh=dy,hy=function(e){return uh=e},fy=function(){return uh};function gy(){var t=fy(),e=null,r=null;return{clear:function(){e=null,r=null},notify:function(){t(function(){for(var i=e;i;)i.callback(),i=i.next})},get:function(){for(var i=[],s=e;s;)i.push(s),s=s.next;return i},subscribe:function(i){var s=!0,a=r={callback:i,next:null,prev:r};return a.prev?a.prev.next=a:e=a,function(){!s||e===null||(s=!1,a.next?a.next.prev=a.prev:r=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var ic={notify:function(){},get:function(){return[]}};function dh(t,e){var r,n=ic;function i(d){return l(),n.subscribe(d)}function s(){n.notify()}function a(){u.onStateChange&&u.onStateChange()}function o(){return!!r}function l(){r||(r=e?e.addNestedSub(a):t.subscribe(a),n=gy())}function c(){r&&(r(),r=void 0,n.clear(),n=ic)}var u={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:a,isSubscribed:o,trySubscribe:l,tryUnsubscribe:c,getListeners:function(){return n}};return u}var hh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?P.useLayoutEffect:P.useEffect;function py(t){var e=t.store,r=t.context,n=t.children,i=P.useMemo(function(){var o=dh(e);return{store:e,subscription:o}},[e]),s=P.useMemo(function(){return e.getState()},[e]);hh(function(){var o=i.subscription;return o.onStateChange=o.notifyNestedSubs,o.trySubscribe(),s!==e.getState()&&o.notifyNestedSubs(),function(){o.tryUnsubscribe(),o.onStateChange=null}},[i,s]);var a=r||ch;return Y.createElement(a.Provider,{value:i},n)}function Zi(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var fh={exports:{}},ne={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Se=typeof Symbol=="function"&&Symbol.for,Do=Se?Symbol.for("react.element"):60103,Co=Se?Symbol.for("react.portal"):60106,Os=Se?Symbol.for("react.fragment"):60107,Ts=Se?Symbol.for("react.strict_mode"):60108,As=Se?Symbol.for("react.profiler"):60114,Is=Se?Symbol.for("react.provider"):60109,Ms=Se?Symbol.for("react.context"):60110,Po=Se?Symbol.for("react.async_mode"):60111,Rs=Se?Symbol.for("react.concurrent_mode"):60111,js=Se?Symbol.for("react.forward_ref"):60112,Ns=Se?Symbol.for("react.suspense"):60113,my=Se?Symbol.for("react.suspense_list"):60120,Ls=Se?Symbol.for("react.memo"):60115,Fs=Se?Symbol.for("react.lazy"):60116,vy=Se?Symbol.for("react.block"):60121,by=Se?Symbol.for("react.fundamental"):60117,yy=Se?Symbol.for("react.responder"):60118,xy=Se?Symbol.for("react.scope"):60119;function Je(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Do:switch(t=t.type,t){case Po:case Rs:case Os:case As:case Ts:case Ns:return t;default:switch(t=t&&t.$$typeof,t){case Ms:case js:case Fs:case Ls:case Is:return t;default:return e}}case Co:return e}}}function gh(t){return Je(t)===Rs}ne.AsyncMode=Po;ne.ConcurrentMode=Rs;ne.ContextConsumer=Ms;ne.ContextProvider=Is;ne.Element=Do;ne.ForwardRef=js;ne.Fragment=Os;ne.Lazy=Fs;ne.Memo=Ls;ne.Portal=Co;ne.Profiler=As;ne.StrictMode=Ts;ne.Suspense=Ns;ne.isAsyncMode=function(t){return gh(t)||Je(t)===Po};ne.isConcurrentMode=gh;ne.isContextConsumer=function(t){return Je(t)===Ms};ne.isContextProvider=function(t){return Je(t)===Is};ne.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Do};ne.isForwardRef=function(t){return Je(t)===js};ne.isFragment=function(t){return Je(t)===Os};ne.isLazy=function(t){return Je(t)===Fs};ne.isMemo=function(t){return Je(t)===Ls};ne.isPortal=function(t){return Je(t)===Co};ne.isProfiler=function(t){return Je(t)===As};ne.isStrictMode=function(t){return Je(t)===Ts};ne.isSuspense=function(t){return Je(t)===Ns};ne.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Os||t===Rs||t===As||t===Ts||t===Ns||t===my||typeof t=="object"&&t!==null&&(t.$$typeof===Fs||t.$$typeof===Ls||t.$$typeof===Is||t.$$typeof===Ms||t.$$typeof===js||t.$$typeof===by||t.$$typeof===yy||t.$$typeof===xy||t.$$typeof===vy)};ne.typeOf=Je;fh.exports=ne;var wy=fh.exports,Eo=wy,_y={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Sy={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},ky={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ph={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Oo={};Oo[Eo.ForwardRef]=ky;Oo[Eo.Memo]=ph;function sc(t){return Eo.isMemo(t)?ph:Oo[t.$$typeof]||_y}var Dy=Object.defineProperty,Cy=Object.getOwnPropertyNames,ac=Object.getOwnPropertySymbols,Py=Object.getOwnPropertyDescriptor,Ey=Object.getPrototypeOf,oc=Object.prototype;function mh(t,e,r){if(typeof e!="string"){if(oc){var n=Ey(e);n&&n!==oc&&mh(t,n,r)}var i=Cy(e);ac&&(i=i.concat(ac(e)));for(var s=sc(t),a=sc(e),o=0;o<i.length;++o){var l=i[o];if(!Sy[l]&&!(r&&r[l])&&!(a&&a[l])&&!(s&&s[l])){var c=Py(e,l);try{Dy(t,l,c)}catch{}}}}return t}var Oy=mh;const lc=cd(Oy);var vh={exports:{}},ie={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bs=60103,$s=60106,Zn=60107,ei=60108,ti=60114,ri=60109,ni=60110,ii=60112,si=60113,To=60120,ai=60115,oi=60116,bh=60121,yh=60122,xh=60117,wh=60129,_h=60131;if(typeof Symbol=="function"&&Symbol.for){var Pe=Symbol.for;Bs=Pe("react.element"),$s=Pe("react.portal"),Zn=Pe("react.fragment"),ei=Pe("react.strict_mode"),ti=Pe("react.profiler"),ri=Pe("react.provider"),ni=Pe("react.context"),ii=Pe("react.forward_ref"),si=Pe("react.suspense"),To=Pe("react.suspense_list"),ai=Pe("react.memo"),oi=Pe("react.lazy"),bh=Pe("react.block"),yh=Pe("react.server.block"),xh=Pe("react.fundamental"),wh=Pe("react.debug_trace_mode"),_h=Pe("react.legacy_hidden")}function ft(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Bs:switch(t=t.type,t){case Zn:case ti:case ei:case si:case To:return t;default:switch(t=t&&t.$$typeof,t){case ni:case ii:case oi:case ai:case ri:return t;default:return e}}case $s:return e}}}var Ty=ri,Ay=Bs,Iy=ii,My=Zn,Ry=oi,jy=ai,Ny=$s,Ly=ti,Fy=ei,By=si;ie.ContextConsumer=ni;ie.ContextProvider=Ty;ie.Element=Ay;ie.ForwardRef=Iy;ie.Fragment=My;ie.Lazy=Ry;ie.Memo=jy;ie.Portal=Ny;ie.Profiler=Ly;ie.StrictMode=Fy;ie.Suspense=By;ie.isAsyncMode=function(){return!1};ie.isConcurrentMode=function(){return!1};ie.isContextConsumer=function(t){return ft(t)===ni};ie.isContextProvider=function(t){return ft(t)===ri};ie.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Bs};ie.isForwardRef=function(t){return ft(t)===ii};ie.isFragment=function(t){return ft(t)===Zn};ie.isLazy=function(t){return ft(t)===oi};ie.isMemo=function(t){return ft(t)===ai};ie.isPortal=function(t){return ft(t)===$s};ie.isProfiler=function(t){return ft(t)===ti};ie.isStrictMode=function(t){return ft(t)===ei};ie.isSuspense=function(t){return ft(t)===si};ie.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Zn||t===ti||t===wh||t===ei||t===si||t===To||t===_h||typeof t=="object"&&t!==null&&(t.$$typeof===oi||t.$$typeof===ai||t.$$typeof===ri||t.$$typeof===ni||t.$$typeof===ii||t.$$typeof===xh||t.$$typeof===bh||t[0]===yh)};ie.typeOf=ft;vh.exports=ie;var $y=vh.exports,Uy=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],Wy=["reactReduxForwardedRef"],zy=[],Vy=[null,null];function Hy(t,e){var r=t[1];return[e.payload,r+1]}function cc(t,e,r){hh(function(){return t.apply(void 0,e)},r)}function qy(t,e,r,n,i,s,a){t.current=n,e.current=i,r.current=!1,s.current&&(s.current=null,a())}function Gy(t,e,r,n,i,s,a,o,l,c){if(t){var u=!1,d=null,h=function(){if(!u){var p=e.getState(),v,b;try{v=n(p,i.current)}catch(y){b=y,d=y}b||(d=null),v===s.current?a.current||l():(s.current=v,o.current=v,a.current=!0,c({type:"STORE_UPDATED",payload:{error:b}}))}};r.onStateChange=h,r.trySubscribe(),h();var f=function(){if(u=!0,r.tryUnsubscribe(),r.onStateChange=null,d)throw d};return f}}var Yy=function(){return[null,0]};function Ky(t,e){e===void 0&&(e={});var r=e,n=r.getDisplayName,i=n===void 0?function(_){return"ConnectAdvanced("+_+")"}:n,s=r.methodName,a=s===void 0?"connectAdvanced":s,o=r.renderCountProp,l=o===void 0?void 0:o,c=r.shouldHandleStateChanges,u=c===void 0?!0:c,d=r.storeKey,h=d===void 0?"store":d;r.withRef;var f=r.forwardRef,g=f===void 0?!1:f,p=r.context,v=p===void 0?ch:p,b=Zi(r,Uy),y=v;return function(w){var S=w.displayName||w.name||"Component",D=i(S),E=H({},b,{getDisplayName:i,methodName:a,renderCountProp:l,shouldHandleStateChanges:u,storeKey:h,displayName:D,wrappedComponentName:S,WrappedComponent:w}),O=b.pure;function T(W){return t(W.dispatch,E)}var L=O?P.useMemo:function(W){return W()};function M(W){var B=P.useMemo(function(){var rr=W.reactReduxForwardedRef,fi=Zi(W,Wy);return[W.context,rr,fi]},[W]),V=B[0],X=B[1],he=B[2],De=P.useMemo(function(){return V&&V.Consumer&&$y.isContextConsumer(Y.createElement(V.Consumer,null))?V:y},[V,y]),ue=P.useContext(De),Oe=!!W.store&&!!W.store.getState&&!!W.store.dispatch;ue&&ue.store;var de=Oe?W.store:ue.store,Be=P.useMemo(function(){return T(de)},[de]),$e=P.useMemo(function(){if(!u)return Vy;var rr=dh(de,Oe?null:ue.subscription),fi=rr.notifyNestedSubs.bind(rr);return[rr,fi]},[de,Oe,ue]),Ce=$e[0],Ue=$e[1],Qt=P.useMemo(function(){return Oe?ue:H({},ue,{subscription:Ce})},[Oe,ue,Ce]),Or=P.useReducer(Hy,zy,Yy),Zt=Or[0],kt=Zt[0],er=Or[1];if(kt&&kt.error)throw kt.error;var an=P.useRef(),on=P.useRef(he),tr=P.useRef(),hi=P.useRef(!1),Tr=L(function(){return tr.current&&he===on.current?tr.current:Be(de.getState(),he)},[de,kt,he]);cc(qy,[on,an,hi,he,Tr,tr,Ue]),cc(Gy,[u,de,Ce,Be,on,an,hi,tr,Ue,er],[de,Ce,Be]);var Ar=P.useMemo(function(){return Y.createElement(w,H({},Tr,{ref:X}))},[X,w,Tr]),ea=P.useMemo(function(){return u?Y.createElement(De.Provider,{value:Qt},Ar):Ar},[De,Ar,Qt]);return ea}var R=O?Y.memo(M):M;if(R.WrappedComponent=w,R.displayName=M.displayName=D,g){var F=Y.forwardRef(function(B,V){return Y.createElement(R,H({},B,{reactReduxForwardedRef:V}))});return F.displayName=D,F.WrappedComponent=w,lc(F,w)}return lc(R,w)}}function uc(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function ha(t,e){if(uc(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(var i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(e,r[i])||!uc(t[r[i]],e[r[i]]))return!1;return!0}function Xy(t,e){var r={},n=function(a){var o=t[a];typeof o=="function"&&(r[a]=function(){return e(o.apply(void 0,arguments))})};for(var i in t)n(i);return r}function Ao(t){return function(r,n){var i=t(r,n);function s(){return i}return s.dependsOnOwnProps=!1,s}}function dc(t){return t.dependsOnOwnProps!==null&&t.dependsOnOwnProps!==void 0?!!t.dependsOnOwnProps:t.length!==1}function Sh(t,e){return function(n,i){i.displayName;var s=function(o,l){return s.dependsOnOwnProps?s.mapToProps(o,l):s.mapToProps(o)};return s.dependsOnOwnProps=!0,s.mapToProps=function(o,l){s.mapToProps=t,s.dependsOnOwnProps=dc(t);var c=s(o,l);return typeof c=="function"&&(s.mapToProps=c,s.dependsOnOwnProps=dc(c),c=s(o,l)),c},s}}function Jy(t){return typeof t=="function"?Sh(t):void 0}function Qy(t){return t?void 0:Ao(function(e){return{dispatch:e}})}function Zy(t){return t&&typeof t=="object"?Ao(function(e){return Xy(t,e)}):void 0}const e0=[Jy,Qy,Zy];function t0(t){return typeof t=="function"?Sh(t):void 0}function r0(t){return t?void 0:Ao(function(){return{}})}const n0=[t0,r0];function i0(t,e,r){return H({},r,t,e)}function s0(t){return function(r,n){n.displayName;var i=n.pure,s=n.areMergedPropsEqual,a=!1,o;return function(c,u,d){var h=t(c,u,d);return a?(!i||!s(h,o))&&(o=h):(a=!0,o=h),o}}}function a0(t){return typeof t=="function"?s0(t):void 0}function o0(t){return t?void 0:function(){return i0}}const l0=[a0,o0];var c0=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function u0(t,e,r,n){return function(s,a){return r(t(s,a),e(n,a),a)}}function d0(t,e,r,n,i){var s=i.areStatesEqual,a=i.areOwnPropsEqual,o=i.areStatePropsEqual,l=!1,c,u,d,h,f;function g(_,w){return c=_,u=w,d=t(c,u),h=e(n,u),f=r(d,h,u),l=!0,f}function p(){return d=t(c,u),e.dependsOnOwnProps&&(h=e(n,u)),f=r(d,h,u),f}function v(){return t.dependsOnOwnProps&&(d=t(c,u)),e.dependsOnOwnProps&&(h=e(n,u)),f=r(d,h,u),f}function b(){var _=t(c,u),w=!o(_,d);return d=_,w&&(f=r(d,h,u)),f}function y(_,w){var S=!a(w,u),D=!s(_,c,w,u);return c=_,u=w,S&&D?p():S?v():D?b():f}return function(w,S){return l?y(w,S):g(w,S)}}function h0(t,e){var r=e.initMapStateToProps,n=e.initMapDispatchToProps,i=e.initMergeProps,s=Zi(e,c0),a=r(t,s),o=n(t,s),l=i(t,s),c=s.pure?d0:u0;return c(a,o,l,t,s)}var f0=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function fa(t,e,r){for(var n=e.length-1;n>=0;n--){var i=e[n](t);if(i)return i}return function(s,a){throw new Error("Invalid value of type "+typeof t+" for "+r+" argument when connecting component "+a.wrappedComponentName+".")}}function g0(t,e){return t===e}function p0(t){var e=t===void 0?{}:t,r=e.connectHOC,n=r===void 0?Ky:r,i=e.mapStateToPropsFactories,s=i===void 0?n0:i,a=e.mapDispatchToPropsFactories,o=a===void 0?e0:a,l=e.mergePropsFactories,c=l===void 0?l0:l,u=e.selectorFactory,d=u===void 0?h0:u;return function(f,g,p,v){v===void 0&&(v={});var b=v,y=b.pure,_=y===void 0?!0:y,w=b.areStatesEqual,S=w===void 0?g0:w,D=b.areOwnPropsEqual,E=D===void 0?ha:D,O=b.areStatePropsEqual,T=O===void 0?ha:O,L=b.areMergedPropsEqual,M=L===void 0?ha:L,R=Zi(b,f0),F=fa(f,s,"mapStateToProps"),W=fa(g,o,"mapDispatchToProps"),B=fa(p,c,"mergeProps");return n(d,H({methodName:"connect",getDisplayName:function(X){return"Connect("+X+")"},shouldHandleStateChanges:!!f,initMapStateToProps:F,initMapDispatchToProps:W,initMergeProps:B,pure:_,areStatesEqual:S,areOwnPropsEqual:E,areStatePropsEqual:T,areMergedPropsEqual:M},R))}}const kh=p0();hy(ld.unstable_batchedUpdates);function m0(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Dh(t,e){var r=P.useState(function(){return{inputs:e,result:t()}})[0],n=P.useRef(!0),i=P.useRef(r),s=n.current||!!(e&&i.current.inputs&&m0(e,i.current.inputs)),a=s?i.current:{inputs:e,result:t()};return P.useEffect(function(){n.current=!1,i.current=a},[a]),a.result}function v0(t,e){return Dh(function(){return t},e)}var Z=Dh,z=v0,b0="Invariant failed";function y0(t,e){throw new Error(b0)}var ut=function(e){var r=e.top,n=e.right,i=e.bottom,s=e.left,a=n-s,o=i-r,l={top:r,right:n,bottom:i,left:s,width:a,height:o,x:s,y:r,center:{x:(n+s)/2,y:(i+r)/2}};return l},Io=function(e,r){return{top:e.top-r.top,left:e.left-r.left,bottom:e.bottom+r.bottom,right:e.right+r.right}},hc=function(e,r){return{top:e.top+r.top,left:e.left+r.left,bottom:e.bottom-r.bottom,right:e.right-r.right}},x0=function(e,r){return{top:e.top+r.y,left:e.left+r.x,bottom:e.bottom+r.y,right:e.right+r.x}},ga={top:0,right:0,bottom:0,left:0},Mo=function(e){var r=e.borderBox,n=e.margin,i=n===void 0?ga:n,s=e.border,a=s===void 0?ga:s,o=e.padding,l=o===void 0?ga:o,c=ut(Io(r,i)),u=ut(hc(r,a)),d=ut(hc(u,l));return{marginBox:c,borderBox:ut(r),paddingBox:u,contentBox:d,margin:i,border:a,padding:l}},Qe=function(e){var r=e.slice(0,-2),n=e.slice(-2);if(n!=="px")return 0;var i=Number(r);return isNaN(i)&&y0(),i},w0=function(){return{x:window.pageXOffset,y:window.pageYOffset}},es=function(e,r){var n=e.borderBox,i=e.border,s=e.margin,a=e.padding,o=x0(n,r);return Mo({borderBox:o,border:i,margin:s,padding:a})},ts=function(e,r){return r===void 0&&(r=w0()),es(e,r)},Ch=function(e,r){var n={top:Qe(r.marginTop),right:Qe(r.marginRight),bottom:Qe(r.marginBottom),left:Qe(r.marginLeft)},i={top:Qe(r.paddingTop),right:Qe(r.paddingRight),bottom:Qe(r.paddingBottom),left:Qe(r.paddingLeft)},s={top:Qe(r.borderTopWidth),right:Qe(r.borderRightWidth),bottom:Qe(r.borderBottomWidth),left:Qe(r.borderLeftWidth)};return Mo({borderBox:e,margin:n,padding:i,border:s})},Ph=function(e){var r=e.getBoundingClientRect(),n=window.getComputedStyle(e);return Ch(r,n)},fc=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function _0(t,e){return!!(t===e||fc(t)&&fc(e))}function S0(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!_0(t[r],e[r]))return!1;return!0}function xe(t,e){e===void 0&&(e=S0);var r,n=[],i,s=!1;function a(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];return s&&r===this&&e(o,n)||(i=t.apply(this,o),s=!0,r=this,n=o),i}return a}var Fn=function(e){var r=[],n=null,i=function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];r=o,!n&&(n=requestAnimationFrame(function(){n=null,e.apply(void 0,r)}))};return i.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},i};function Eh(t,e){}Eh.bind(null,"warn");Eh.bind(null,"error");function zt(){}function k0(t,e){return H({},t,{},e)}function et(t,e,r){var n=e.map(function(i){var s=k0(r,i.options);return t.addEventListener(i.eventName,i.fn,s),function(){t.removeEventListener(i.eventName,i.fn,s)}});return function(){n.forEach(function(s){s()})}}var D0="Invariant failed";function rs(t){this.message=t}rs.prototype.toString=function(){return this.message};function I(t,e){throw new rs(D0)}var C0=function(t){ah(e,t);function e(){for(var n,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n=t.call.apply(t,[this].concat(s))||this,n.callbacks=null,n.unbind=zt,n.onWindowError=function(o){var l=n.getCallbacks();l.isDragging()&&l.tryAbort();var c=o.error;c instanceof rs&&o.preventDefault()},n.getCallbacks=function(){if(!n.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return n.callbacks},n.setCallbacks=function(o){n.callbacks=o},n}var r=e.prototype;return r.componentDidMount=function(){this.unbind=et(window,[{eventName:"error",fn:this.onWindowError}])},r.componentDidCatch=function(i){if(i instanceof rs){this.setState({});return}throw i},r.componentWillUnmount=function(){this.unbind()},r.render=function(){return this.props.children(this.setCallbacks)},e}(Y.Component),P0=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,ns=function(e){return e+1},E0=function(e){return`
  You have lifted an item in position `+ns(e.source.index)+`
`},Oh=function(e,r){var n=e.droppableId===r.droppableId,i=ns(e.index),s=ns(r.index);return n?`
      You have moved the item from position `+i+`
      to position `+s+`
    `:`
    You have moved the item from position `+i+`
    in list `+e.droppableId+`
    to list `+r.droppableId+`
    in position `+s+`
  `},Th=function(e,r,n){var i=r.droppableId===n.droppableId;return i?`
      The item `+e+`
      has been combined with `+n.draggableId:`
      The item `+e+`
      in list `+r.droppableId+`
      has been combined with `+n.draggableId+`
      in list `+n.droppableId+`
    `},O0=function(e){var r=e.destination;if(r)return Oh(e.source,r);var n=e.combine;return n?Th(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},gc=function(e){return`
  The item has returned to its starting position
  of `+ns(e.index)+`
`},T0=function(e){if(e.reason==="CANCEL")return`
      Movement cancelled.
      `+gc(e.source)+`
    `;var r=e.destination,n=e.combine;return r?`
      You have dropped the item.
      `+Oh(e.source,r)+`
    `:n?`
      You have dropped the item.
      `+Th(e.draggableId,e.source,n)+`
    `:`
    The item has been dropped while not over a drop area.
    `+gc(e.source)+`
  `},Wi={dragHandleUsageInstructions:P0,onDragStart:E0,onDragUpdate:O0,onDragEnd:T0},_e={x:0,y:0},Ee=function(e,r){return{x:e.x+r.x,y:e.y+r.y}},Ye=function(e,r){return{x:e.x-r.x,y:e.y-r.y}},Vt=function(e,r){return e.x===r.x&&e.y===r.y},tn=function(e){return{x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}},wr=function(e,r,n){var i;return n===void 0&&(n=0),i={},i[e]=r,i[e==="x"?"y":"x"]=n,i},Bn=function(e,r){return Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2))},pc=function(e,r){return Math.min.apply(Math,r.map(function(n){return Bn(e,n)}))},Ah=function(e){return function(r){return{x:e(r.x),y:e(r.y)}}},A0=function(t,e){var r=ut({top:Math.max(e.top,t.top),right:Math.min(e.right,t.right),bottom:Math.min(e.bottom,t.bottom),left:Math.max(e.left,t.left)});return r.width<=0||r.height<=0?null:r},li=function(e,r){return{top:e.top+r.y,left:e.left+r.x,bottom:e.bottom+r.y,right:e.right+r.x}},mc=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},I0={top:0,right:0,bottom:0,left:0},M0=function(e,r){return r?li(e,r.scroll.diff.displacement):e},R0=function(e,r,n){if(n&&n.increasedBy){var i;return H({},e,(i={},i[r.end]=e[r.end]+n.increasedBy[r.line],i))}return e},j0=function(e,r){return r&&r.shouldClipSubject?A0(r.pageMarginBox,e):ut(e)},Gr=function(t){var e=t.page,r=t.withPlaceholder,n=t.axis,i=t.frame,s=M0(e.marginBox,i),a=R0(s,n,r),o=j0(a,i);return{page:e,withPlaceholder:r,active:o}},Ro=function(t,e){t.frame||I();var r=t.frame,n=Ye(e,r.scroll.initial),i=tn(n),s=H({},r,{scroll:{initial:r.scroll.initial,current:e,diff:{value:n,displacement:i},max:r.scroll.max}}),a=Gr({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:s}),o=H({},t,{frame:s,subject:a});return o};function is(t){return Object.values?Object.values(t):Object.keys(t).map(function(e){return t[e]})}function jo(t,e){if(t.findIndex)return t.findIndex(e);for(var r=0;r<t.length;r++)if(e(t[r]))return r;return-1}function Jt(t,e){if(t.find)return t.find(e);var r=jo(t,e);if(r!==-1)return t[r]}function Ih(t){return Array.prototype.slice.call(t)}var Mh=xe(function(t){return t.reduce(function(e,r){return e[r.descriptor.id]=r,e},{})}),Rh=xe(function(t){return t.reduce(function(e,r){return e[r.descriptor.id]=r,e},{})}),Us=xe(function(t){return is(t)}),N0=xe(function(t){return is(t)}),rn=xe(function(t,e){var r=N0(e).filter(function(n){return t===n.descriptor.droppableId}).sort(function(n,i){return n.descriptor.index-i.descriptor.index});return r});function No(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function Ws(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var zs=xe(function(t,e){return e.filter(function(r){return r.descriptor.id!==t.descriptor.id})}),L0=function(t){var e=t.isMovingForward,r=t.draggable,n=t.destination,i=t.insideDestination,s=t.previousImpact;if(!n.isCombineEnabled)return null;var a=No(s);if(!a)return null;function o(p){var v={type:"COMBINE",combine:{draggableId:p,droppableId:n.descriptor.id}};return H({},s,{at:v})}var l=s.displaced.all,c=l.length?l[0]:null;if(e)return c?o(c):null;var u=zs(r,i);if(!c){if(!u.length)return null;var d=u[u.length-1];return o(d.descriptor.id)}var h=jo(u,function(p){return p.descriptor.id===c});h===-1&&I();var f=h-1;if(f<0)return null;var g=u[f];return o(g.descriptor.id)},nn=function(t,e){return t.descriptor.droppableId===e.descriptor.id},jh={point:_e,value:0},$n={invisible:{},visible:{},all:[]},F0={displaced:$n,displacedBy:jh,at:null},it=function(t,e){return function(r){return t<=r&&r<=e}},Nh=function(t){var e=it(t.top,t.bottom),r=it(t.left,t.right);return function(n){var i=e(n.top)&&e(n.bottom)&&r(n.left)&&r(n.right);if(i)return!0;var s=e(n.top)||e(n.bottom),a=r(n.left)||r(n.right),o=s&&a;if(o)return!0;var l=n.top<t.top&&n.bottom>t.bottom,c=n.left<t.left&&n.right>t.right,u=l&&c;if(u)return!0;var d=l&&a||c&&s;return d}},B0=function(t){var e=it(t.top,t.bottom),r=it(t.left,t.right);return function(n){var i=e(n.top)&&e(n.bottom)&&r(n.left)&&r(n.right);return i}},Lo={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Lh={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},$0=function(t){return function(e){var r=it(e.top,e.bottom),n=it(e.left,e.right);return function(i){return t===Lo?r(i.top)&&r(i.bottom):n(i.left)&&n(i.right)}}},U0=function(e,r){var n=r.frame?r.frame.scroll.diff.displacement:_e;return li(e,n)},W0=function(e,r,n){return r.subject.active?n(r.subject.active)(e):!1},z0=function(e,r,n){return n(r)(e)},Fo=function(e){var r=e.target,n=e.destination,i=e.viewport,s=e.withDroppableDisplacement,a=e.isVisibleThroughFrameFn,o=s?U0(r,n):r;return W0(o,n,a)&&z0(o,i,a)},V0=function(e){return Fo(H({},e,{isVisibleThroughFrameFn:Nh}))},Fh=function(e){return Fo(H({},e,{isVisibleThroughFrameFn:B0}))},H0=function(e){return Fo(H({},e,{isVisibleThroughFrameFn:$0(e.destination.axis)}))},q0=function(e,r,n){if(typeof n=="boolean")return n;if(!r)return!0;var i=r.invisible,s=r.visible;if(i[e])return!1;var a=s[e];return a?a.shouldAnimate:!0};function G0(t,e){var r=t.page.marginBox,n={top:e.point.y,right:0,bottom:0,left:e.point.x};return ut(Io(r,n))}function Un(t){var e=t.afterDragging,r=t.destination,n=t.displacedBy,i=t.viewport,s=t.forceShouldAnimate,a=t.last;return e.reduce(function(l,c){var u=G0(c,n),d=c.descriptor.id;l.all.push(d);var h=V0({target:u,destination:r,viewport:i,withDroppableDisplacement:!0});if(!h)return l.invisible[c.descriptor.id]=!0,l;var f=q0(d,a,s),g={draggableId:d,shouldAnimate:f};return l.visible[d]=g,l},{all:[],visible:{},invisible:{}})}function Y0(t,e){if(!t.length)return 0;var r=t[t.length-1].descriptor.index;return e.inHomeList?r:r+1}function vc(t){var e=t.insideDestination,r=t.inHomeList,n=t.displacedBy,i=t.destination,s=Y0(e,{inHomeList:r});return{displaced:$n,displacedBy:n,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:s}}}}function ss(t){var e=t.draggable,r=t.insideDestination,n=t.destination,i=t.viewport,s=t.displacedBy,a=t.last,o=t.index,l=t.forceShouldAnimate,c=nn(e,n);if(o==null)return vc({insideDestination:r,inHomeList:c,displacedBy:s,destination:n});var u=Jt(r,function(p){return p.descriptor.index===o});if(!u)return vc({insideDestination:r,inHomeList:c,displacedBy:s,destination:n});var d=zs(e,r),h=r.indexOf(u),f=d.slice(h),g=Un({afterDragging:f,destination:n,displacedBy:s,last:a,viewport:i.frame,forceShouldAnimate:l});return{displaced:g,displacedBy:s,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:o}}}}function Gt(t,e){return!!e.effected[t]}var K0=function(t){var e=t.isMovingForward,r=t.destination,n=t.draggables,i=t.combine,s=t.afterCritical;if(!r.isCombineEnabled)return null;var a=i.draggableId,o=n[a],l=o.descriptor.index,c=Gt(a,s);return c?e?l:l-1:e?l+1:l},X0=function(t){var e=t.isMovingForward,r=t.isInHomeList,n=t.insideDestination,i=t.location;if(!n.length)return null;var s=i.index,a=e?s+1:s-1,o=n[0].descriptor.index,l=n[n.length-1].descriptor.index,c=r?l:l+1;return a<o||a>c?null:a},J0=function(t){var e=t.isMovingForward,r=t.isInHomeList,n=t.draggable,i=t.draggables,s=t.destination,a=t.insideDestination,o=t.previousImpact,l=t.viewport,c=t.afterCritical,u=o.at;if(u||I(),u.type==="REORDER"){var d=X0({isMovingForward:e,isInHomeList:r,location:u.destination,insideDestination:a});return d==null?null:ss({draggable:n,insideDestination:a,destination:s,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:d})}var h=K0({isMovingForward:e,destination:s,displaced:o.displaced,draggables:i,combine:u.combine,afterCritical:c});return h==null?null:ss({draggable:n,insideDestination:a,destination:s,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:h})},Q0=function(t){var e=t.displaced,r=t.afterCritical,n=t.combineWith,i=t.displacedBy,s=!!(e.visible[n]||e.invisible[n]);return Gt(n,r)?s?_e:tn(i.point):s?i.point:_e},Z0=function(t){var e=t.afterCritical,r=t.impact,n=t.draggables,i=Ws(r);i||I();var s=i.draggableId,a=n[s].page.borderBox.center,o=Q0({displaced:r.displaced,afterCritical:e,combineWith:s,displacedBy:r.displacedBy});return Ee(a,o)},Bh=function(e,r){return r.margin[e.start]+r.borderBox[e.size]/2},ex=function(e,r){return r.margin[e.end]+r.borderBox[e.size]/2},Bo=function(e,r,n){return r[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2},bc=function(e){var r=e.axis,n=e.moveRelativeTo,i=e.isMoving;return wr(r.line,n.marginBox[r.end]+Bh(r,i),Bo(r,n.marginBox,i))},yc=function(e){var r=e.axis,n=e.moveRelativeTo,i=e.isMoving;return wr(r.line,n.marginBox[r.start]-ex(r,i),Bo(r,n.marginBox,i))},tx=function(e){var r=e.axis,n=e.moveInto,i=e.isMoving;return wr(r.line,n.contentBox[r.start]+Bh(r,i),Bo(r,n.contentBox,i))},rx=function(t){var e=t.impact,r=t.draggable,n=t.draggables,i=t.droppable,s=t.afterCritical,a=rn(i.descriptor.id,n),o=r.page,l=i.axis;if(!a.length)return tx({axis:l,moveInto:i.page,isMoving:o});var c=e.displaced,u=e.displacedBy,d=c.all[0];if(d){var h=n[d];if(Gt(d,s))return yc({axis:l,moveRelativeTo:h.page,isMoving:o});var f=es(h.page,u.point);return yc({axis:l,moveRelativeTo:f,isMoving:o})}var g=a[a.length-1];if(g.descriptor.id===r.descriptor.id)return o.borderBox.center;if(Gt(g.descriptor.id,s)){var p=es(g.page,tn(s.displacedBy.point));return bc({axis:l,moveRelativeTo:p,isMoving:o})}return bc({axis:l,moveRelativeTo:g.page,isMoving:o})},qa=function(t,e){var r=t.frame;return r?Ee(e,r.scroll.diff.displacement):e},nx=function(e){var r=e.impact,n=e.draggable,i=e.droppable,s=e.draggables,a=e.afterCritical,o=n.page.borderBox.center,l=r.at;return!i||!l?o:l.type==="REORDER"?rx({impact:r,draggable:n,draggables:s,droppable:i,afterCritical:a}):Z0({impact:r,draggables:s,afterCritical:a})},Vs=function(t){var e=nx(t),r=t.droppable,n=r?qa(r,e):e;return n},$h=function(t,e){var r=Ye(e,t.scroll.initial),n=tn(r),i=ut({top:e.y,bottom:e.y+t.frame.height,left:e.x,right:e.x+t.frame.width}),s={frame:i,scroll:{initial:t.scroll.initial,max:t.scroll.max,current:e,diff:{value:r,displacement:n}}};return s};function xc(t,e){return t.map(function(r){return e[r]})}function ix(t,e){for(var r=0;r<e.length;r++){var n=e[r].visible[t];if(n)return n}return null}var sx=function(t){var e=t.impact,r=t.viewport,n=t.destination,i=t.draggables,s=t.maxScrollChange,a=$h(r,Ee(r.scroll.current,s)),o=n.frame?Ro(n,Ee(n.frame.scroll.current,s)):n,l=e.displaced,c=Un({afterDragging:xc(l.all,i),destination:n,displacedBy:e.displacedBy,viewport:a.frame,last:l,forceShouldAnimate:!1}),u=Un({afterDragging:xc(l.all,i),destination:o,displacedBy:e.displacedBy,viewport:r.frame,last:l,forceShouldAnimate:!1}),d={},h={},f=[l,c,u];l.all.forEach(function(p){var v=ix(p,f);if(v){h[p]=v;return}d[p]=!0});var g=H({},e,{displaced:{all:l.all,invisible:d,visible:h}});return g},ax=function(t,e){return Ee(t.scroll.diff.displacement,e)},$o=function(t){var e=t.pageBorderBoxCenter,r=t.draggable,n=t.viewport,i=ax(n,e),s=Ye(i,r.page.borderBox.center);return Ee(r.client.borderBox.center,s)},Uh=function(t){var e=t.draggable,r=t.destination,n=t.newPageBorderBoxCenter,i=t.viewport,s=t.withDroppableDisplacement,a=t.onlyOnMainAxis,o=a===void 0?!1:a,l=Ye(n,e.page.borderBox.center),c=li(e.page.borderBox,l),u={target:c,destination:r,withDroppableDisplacement:s,viewport:i};return o?H0(u):Fh(u)},ox=function(t){var e=t.isMovingForward,r=t.draggable,n=t.destination,i=t.draggables,s=t.previousImpact,a=t.viewport,o=t.previousPageBorderBoxCenter,l=t.previousClientSelection,c=t.afterCritical;if(!n.isEnabled)return null;var u=rn(n.descriptor.id,i),d=nn(r,n),h=L0({isMovingForward:e,draggable:r,destination:n,insideDestination:u,previousImpact:s})||J0({isMovingForward:e,isInHomeList:d,draggable:r,draggables:i,destination:n,insideDestination:u,previousImpact:s,viewport:a,afterCritical:c});if(!h)return null;var f=Vs({impact:h,draggable:r,droppable:n,draggables:i,afterCritical:c}),g=Uh({draggable:r,destination:n,newPageBorderBoxCenter:f,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(g){var p=$o({pageBorderBoxCenter:f,draggable:r,viewport:a});return{clientSelection:p,impact:h,scrollJumpRequest:null}}var v=Ye(f,o),b=sx({impact:h,viewport:a,destination:n,draggables:i,maxScrollChange:v});return{clientSelection:l,impact:b,scrollJumpRequest:v}},je=function(e){var r=e.subject.active;return r||I(),r},lx=function(t){var e=t.isMovingForward,r=t.pageBorderBoxCenter,n=t.source,i=t.droppables,s=t.viewport,a=n.subject.active;if(!a)return null;var o=n.axis,l=it(a[o.start],a[o.end]),c=Us(i).filter(function(d){return d!==n}).filter(function(d){return d.isEnabled}).filter(function(d){return!!d.subject.active}).filter(function(d){return Nh(s.frame)(je(d))}).filter(function(d){var h=je(d);return e?a[o.crossAxisEnd]<h[o.crossAxisEnd]:h[o.crossAxisStart]<a[o.crossAxisStart]}).filter(function(d){var h=je(d),f=it(h[o.start],h[o.end]);return l(h[o.start])||l(h[o.end])||f(a[o.start])||f(a[o.end])}).sort(function(d,h){var f=je(d)[o.crossAxisStart],g=je(h)[o.crossAxisStart];return e?f-g:g-f}).filter(function(d,h,f){return je(d)[o.crossAxisStart]===je(f[0])[o.crossAxisStart]});if(!c.length)return null;if(c.length===1)return c[0];var u=c.filter(function(d){var h=it(je(d)[o.start],je(d)[o.end]);return h(r[o.line])});return u.length===1?u[0]:u.length>1?u.sort(function(d,h){return je(d)[o.start]-je(h)[o.start]})[0]:c.sort(function(d,h){var f=pc(r,mc(je(d))),g=pc(r,mc(je(h)));return f!==g?f-g:je(d)[o.start]-je(h)[o.start]})[0]},wc=function(e,r){var n=e.page.borderBox.center;return Gt(e.descriptor.id,r)?Ye(n,r.displacedBy.point):n},cx=function(e,r){var n=e.page.borderBox;return Gt(e.descriptor.id,r)?li(n,tn(r.displacedBy.point)):n},ux=function(t){var e=t.pageBorderBoxCenter,r=t.viewport,n=t.destination,i=t.insideDestination,s=t.afterCritical,a=i.filter(function(o){return Fh({target:cx(o,s),destination:n,viewport:r.frame,withDroppableDisplacement:!0})}).sort(function(o,l){var c=Bn(e,qa(n,wc(o,s))),u=Bn(e,qa(n,wc(l,s)));return c<u?-1:u<c?1:o.descriptor.index-l.descriptor.index});return a[0]||null},ci=xe(function(e,r){var n=r[e.line];return{value:n,point:wr(e.line,n)}}),dx=function(e,r,n){var i=e.axis;if(e.descriptor.mode==="virtual")return wr(i.line,r[i.line]);var s=e.subject.page.contentBox[i.size],a=rn(e.descriptor.id,n),o=a.reduce(function(u,d){return u+d.client.marginBox[i.size]},0),l=o+r[i.line],c=l-s;return c<=0?null:wr(i.line,c)},Wh=function(e,r){return H({},e,{scroll:H({},e.scroll,{max:r})})},zh=function(e,r,n){var i=e.frame;nn(r,e)&&I(),e.subject.withPlaceholder&&I();var s=ci(e.axis,r.displaceBy).point,a=dx(e,s,n),o={placeholderSize:s,increasedBy:a,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!i){var l=Gr({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:e.frame});return H({},e,{subject:l})}var c=a?Ee(i.scroll.max,a):i.scroll.max,u=Wh(i,c),d=Gr({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:u});return H({},e,{subject:d,frame:u})},hx=function(e){var r=e.subject.withPlaceholder;r||I();var n=e.frame;if(!n){var i=Gr({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return H({},e,{subject:i})}var s=r.oldFrameMaxScroll;s||I();var a=Wh(n,s),o=Gr({page:e.subject.page,axis:e.axis,frame:a,withPlaceholder:null});return H({},e,{subject:o,frame:a})},fx=function(t){var e=t.previousPageBorderBoxCenter,r=t.moveRelativeTo,n=t.insideDestination,i=t.draggable,s=t.draggables,a=t.destination,o=t.viewport,l=t.afterCritical;if(!r){if(n.length)return null;var c={displaced:$n,displacedBy:jh,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},u=Vs({impact:c,draggable:i,droppable:a,draggables:s,afterCritical:l}),d=nn(i,a)?a:zh(a,i,s),h=Uh({draggable:i,destination:d,newPageBorderBoxCenter:u,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return h?c:null}var f=e[a.axis.line]<=r.page.borderBox.center[a.axis.line],g=function(){var v=r.descriptor.index;return r.descriptor.id===i.descriptor.id||f?v:v+1}(),p=ci(a.axis,i.displaceBy);return ss({draggable:i,insideDestination:n,destination:a,viewport:o,displacedBy:p,last:$n,index:g})},gx=function(t){var e=t.isMovingForward,r=t.previousPageBorderBoxCenter,n=t.draggable,i=t.isOver,s=t.draggables,a=t.droppables,o=t.viewport,l=t.afterCritical,c=lx({isMovingForward:e,pageBorderBoxCenter:r,source:i,droppables:a,viewport:o});if(!c)return null;var u=rn(c.descriptor.id,s),d=ux({pageBorderBoxCenter:r,viewport:o,destination:c,insideDestination:u,afterCritical:l}),h=fx({previousPageBorderBoxCenter:r,destination:c,draggable:n,draggables:s,moveRelativeTo:d,insideDestination:u,viewport:o,afterCritical:l});if(!h)return null;var f=Vs({impact:h,draggable:n,droppable:c,draggables:s,afterCritical:l}),g=$o({pageBorderBoxCenter:f,draggable:n,viewport:o});return{clientSelection:g,impact:h,scrollJumpRequest:null}},Ke=function(t){var e=t.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null},px=function(e,r){var n=Ke(e);return n?r[n]:null},mx=function(t){var e=t.state,r=t.type,n=px(e.impact,e.dimensions.droppables),i=!!n,s=e.dimensions.droppables[e.critical.droppable.id],a=n||s,o=a.axis.direction,l=o==="vertical"&&(r==="MOVE_UP"||r==="MOVE_DOWN")||o==="horizontal"&&(r==="MOVE_LEFT"||r==="MOVE_RIGHT");if(l&&!i)return null;var c=r==="MOVE_DOWN"||r==="MOVE_RIGHT",u=e.dimensions.draggables[e.critical.draggable.id],d=e.current.page.borderBoxCenter,h=e.dimensions,f=h.draggables,g=h.droppables;return l?ox({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,destination:a,draggables:f,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):gx({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,isOver:a,draggables:f,droppables:g,viewport:e.viewport,afterCritical:e.afterCritical})};function cr(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function Vh(t){var e=it(t.top,t.bottom),r=it(t.left,t.right);return function(i){return e(i.y)&&r(i.x)}}function vx(t,e){return t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top}function bx(t){var e=t.pageBorderBox,r=t.draggable,n=t.candidates,i=r.page.borderBox.center,s=n.map(function(a){var o=a.axis,l=wr(a.axis.line,e.center[o.line],a.page.borderBox.center[o.crossAxisLine]);return{id:a.descriptor.id,distance:Bn(i,l)}}).sort(function(a,o){return o.distance-a.distance});return s[0]?s[0].id:null}function yx(t){var e=t.pageBorderBox,r=t.draggable,n=t.droppables,i=Us(n).filter(function(s){if(!s.isEnabled)return!1;var a=s.subject.active;if(!a||!vx(e,a))return!1;if(Vh(a)(e.center))return!0;var o=s.axis,l=a.center[o.crossAxisLine],c=e[o.crossAxisStart],u=e[o.crossAxisEnd],d=it(a[o.crossAxisStart],a[o.crossAxisEnd]),h=d(c),f=d(u);return!h&&!f?!0:h?c<l:u>l});return i.length?i.length===1?i[0].descriptor.id:bx({pageBorderBox:e,draggable:r,candidates:i}):null}var Hh=function(e,r){return ut(li(e,r))},xx=function(t,e){var r=t.frame;return r?Hh(e,r.scroll.diff.value):e};function qh(t){var e=t.displaced,r=t.id;return!!(e.visible[r]||e.invisible[r])}function wx(t){var e=t.draggable,r=t.closest,n=t.inHomeList;return r?n&&r.descriptor.index>e.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}var _x=function(t){var e=t.pageBorderBoxWithDroppableScroll,r=t.draggable,n=t.destination,i=t.insideDestination,s=t.last,a=t.viewport,o=t.afterCritical,l=n.axis,c=ci(n.axis,r.displaceBy),u=c.value,d=e[l.start],h=e[l.end],f=zs(r,i),g=Jt(f,function(v){var b=v.descriptor.id,y=v.page.borderBox.center[l.line],_=Gt(b,o),w=qh({displaced:s,id:b});return _?w?h<=y:d<y-u:w?h<=y+u:d<y}),p=wx({draggable:r,closest:g,inHomeList:nn(r,n)});return ss({draggable:r,insideDestination:i,destination:n,viewport:a,last:s,displacedBy:c,index:p})},Sx=4,kx=function(t){var e=t.draggable,r=t.pageBorderBoxWithDroppableScroll,n=t.previousImpact,i=t.destination,s=t.insideDestination,a=t.afterCritical;if(!i.isCombineEnabled)return null;var o=i.axis,l=ci(i.axis,e.displaceBy),c=l.value,u=r[o.start],d=r[o.end],h=zs(e,s),f=Jt(h,function(p){var v=p.descriptor.id,b=p.page.borderBox,y=b[o.size],_=y/Sx,w=Gt(v,a),S=qh({displaced:n.displaced,id:v});return w?S?d>b[o.start]+_&&d<b[o.end]-_:u>b[o.start]-c+_&&u<b[o.end]-c-_:S?d>b[o.start]+c+_&&d<b[o.end]+c-_:u>b[o.start]+_&&u<b[o.end]-_});if(!f)return null;var g={displacedBy:l,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:f.descriptor.id,droppableId:i.descriptor.id}}};return g},Gh=function(t){var e=t.pageOffset,r=t.draggable,n=t.draggables,i=t.droppables,s=t.previousImpact,a=t.viewport,o=t.afterCritical,l=Hh(r.page.borderBox,e),c=yx({pageBorderBox:l,draggable:r,droppables:i});if(!c)return F0;var u=i[c],d=rn(u.descriptor.id,n),h=xx(u,l);return kx({pageBorderBoxWithDroppableScroll:h,draggable:r,previousImpact:s,destination:u,insideDestination:d,afterCritical:o})||_x({pageBorderBoxWithDroppableScroll:h,draggable:r,destination:u,insideDestination:d,last:s.displaced,viewport:a,afterCritical:o})},Uo=function(t,e){var r;return H({},t,(r={},r[e.descriptor.id]=e,r))},Dx=function(e){var r=e.previousImpact,n=e.impact,i=e.droppables,s=Ke(r),a=Ke(n);if(!s||s===a)return i;var o=i[s];if(!o.subject.withPlaceholder)return i;var l=hx(o);return Uo(i,l)},Cx=function(t){var e=t.draggable,r=t.draggables,n=t.droppables,i=t.previousImpact,s=t.impact,a=Dx({previousImpact:i,impact:s,droppables:n}),o=Ke(s);if(!o)return a;var l=n[o];if(nn(e,l)||l.subject.withPlaceholder)return a;var c=zh(l,e,r);return Uo(a,c)},On=function(t){var e=t.state,r=t.clientSelection,n=t.dimensions,i=t.viewport,s=t.impact,a=t.scrollJumpRequest,o=i||e.viewport,l=n||e.dimensions,c=r||e.current.client.selection,u=Ye(c,e.initial.client.selection),d={offset:u,selection:c,borderBoxCenter:Ee(e.initial.client.borderBoxCenter,u)},h={selection:Ee(d.selection,o.scroll.current),borderBoxCenter:Ee(d.borderBoxCenter,o.scroll.current),offset:Ee(d.offset,o.scroll.diff.value)},f={client:d,page:h};if(e.phase==="COLLECTING")return H({phase:"COLLECTING"},e,{dimensions:l,viewport:o,current:f});var g=l.draggables[e.critical.draggable.id],p=s||Gh({pageOffset:h.offset,draggable:g,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:o,afterCritical:e.afterCritical}),v=Cx({draggable:g,impact:p,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables}),b=H({},e,{current:f,dimensions:{draggables:l.draggables,droppables:v},impact:p,viewport:o,scrollJumpRequest:a||null,forceShouldAnimate:a?!1:null});return b};function Px(t,e){return t.map(function(r){return e[r]})}var Yh=function(t){var e=t.impact,r=t.viewport,n=t.draggables,i=t.destination,s=t.forceShouldAnimate,a=e.displaced,o=Px(a.all,n),l=Un({afterDragging:o,destination:i,displacedBy:e.displacedBy,viewport:r.frame,forceShouldAnimate:s,last:a});return H({},e,{displaced:l})},Kh=function(t){var e=t.impact,r=t.draggable,n=t.droppable,i=t.draggables,s=t.viewport,a=t.afterCritical,o=Vs({impact:e,draggable:r,draggables:i,droppable:n,afterCritical:a});return $o({pageBorderBoxCenter:o,draggable:r,viewport:s})},Xh=function(t){var e=t.state,r=t.dimensions,n=t.viewport;e.movementMode!=="SNAP"&&I();var i=e.impact,s=n||e.viewport,a=r||e.dimensions,o=a.draggables,l=a.droppables,c=o[e.critical.draggable.id],u=Ke(i);u||I();var d=l[u],h=Yh({impact:i,viewport:s,destination:d,draggables:o}),f=Kh({impact:h,draggable:c,droppable:d,draggables:o,viewport:s,afterCritical:e.afterCritical});return On({impact:h,clientSelection:f,state:e,dimensions:a,viewport:s})},Ex=function(t){return{index:t.index,droppableId:t.droppableId}},Jh=function(t){var e=t.draggable,r=t.home,n=t.draggables,i=t.viewport,s=ci(r.axis,e.displaceBy),a=rn(r.descriptor.id,n),o=a.indexOf(e);o===-1&&I();var l=a.slice(o+1),c=l.reduce(function(f,g){return f[g.descriptor.id]=!0,f},{}),u={inVirtualList:r.descriptor.mode==="virtual",displacedBy:s,effected:c},d=Un({afterDragging:l,destination:r,displacedBy:s,last:null,viewport:i.frame,forceShouldAnimate:!1}),h={displaced:d,displacedBy:s,at:{type:"REORDER",destination:Ex(e.descriptor)}};return{impact:h,afterCritical:u}},Ox=function(t,e){return{draggables:t.draggables,droppables:Uo(t.droppables,e)}},Tx=function(t){var e=t.draggable,r=t.offset,n=t.initialWindowScroll,i=es(e.client,r),s=ts(i,n),a=H({},e,{placeholder:H({},e.placeholder,{client:i}),client:i,page:s});return a},Ax=function(t){var e=t.frame;return e||I(),e},Ix=function(t){var e=t.additions,r=t.updatedDroppables,n=t.viewport,i=n.scroll.diff.value;return e.map(function(s){var a=s.descriptor.droppableId,o=r[a],l=Ax(o),c=l.scroll.diff.value,u=Ee(i,c),d=Tx({draggable:s,offset:u,initialWindowScroll:n.scroll.initial});return d})},Mx=function(t){var e=t.state,r=t.published,n=r.modified.map(function(_){var w=e.dimensions.droppables[_.droppableId],S=Ro(w,_.scroll);return S}),i=H({},e.dimensions.droppables,{},Mh(n)),s=Rh(Ix({additions:r.additions,updatedDroppables:i,viewport:e.viewport})),a=H({},e.dimensions.draggables,{},s);r.removals.forEach(function(_){delete a[_]});var o={droppables:i,draggables:a},l=Ke(e.impact),c=l?o.droppables[l]:null,u=o.draggables[e.critical.draggable.id],d=o.droppables[e.critical.droppable.id],h=Jh({draggable:u,home:d,draggables:a,viewport:e.viewport}),f=h.impact,g=h.afterCritical,p=c&&c.isCombineEnabled?e.impact:f,v=Gh({pageOffset:e.current.page.offset,draggable:o.draggables[e.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:p,viewport:e.viewport,afterCritical:g}),b=H({phase:"DRAGGING"},e,{phase:"DRAGGING",impact:v,onLiftImpact:f,dimensions:o,afterCritical:g,forceShouldAnimate:!1});if(e.phase==="COLLECTING")return b;var y=H({phase:"DROP_PENDING"},b,{phase:"DROP_PENDING",reason:e.reason,isWaiting:!1});return y},Ga=function(e){return e.movementMode==="SNAP"},pa=function(e,r,n){var i=Ox(e.dimensions,r);return!Ga(e)||n?On({state:e,dimensions:i}):Xh({state:e,dimensions:i})};function ma(t){return t.isDragging&&t.movementMode==="SNAP"?H({phase:"DRAGGING"},t,{scrollJumpRequest:null}):t}var _c={phase:"IDLE",completed:null,shouldFlush:!1},Rx=function(t,e){if(t===void 0&&(t=_c),e.type==="FLUSH")return H({},_c,{shouldFlush:!0});if(e.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&I();var r=e.payload,n=r.critical,i=r.clientSelection,s=r.viewport,a=r.dimensions,o=r.movementMode,l=a.draggables[n.draggable.id],c=a.droppables[n.droppable.id],u={selection:i,borderBoxCenter:l.client.borderBox.center,offset:_e},d={client:u,page:{selection:Ee(u.selection,s.scroll.initial),borderBoxCenter:Ee(u.selection,s.scroll.initial),offset:Ee(u.selection,s.scroll.diff.value)}},h=Us(a.droppables).every(function(er){return!er.isFixedOnPage}),f=Jh({draggable:l,home:c,draggables:a.draggables,viewport:s}),g=f.impact,p=f.afterCritical,v={phase:"DRAGGING",isDragging:!0,critical:n,movementMode:o,dimensions:a,initial:d,current:d,isWindowScrollAllowed:h,impact:g,afterCritical:p,onLiftImpact:g,viewport:s,scrollJumpRequest:null,forceShouldAnimate:null};return v}if(e.type==="COLLECTION_STARTING"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&I();var b=H({phase:"COLLECTING"},t,{phase:"COLLECTING"});return b}if(e.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||I(),Mx({state:t,published:e.payload});if(e.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;cr(t)||I();var y=e.payload.client;return Vt(y,t.current.client.selection)?t:On({state:t,clientSelection:y,impact:Ga(t)?t.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return ma(t);cr(t)||I();var _=e.payload,w=_.id,S=_.newScroll,D=t.dimensions.droppables[w];if(!D)return t;var E=Ro(D,S);return pa(t,E,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;cr(t)||I();var O=e.payload,T=O.id,L=O.isEnabled,M=t.dimensions.droppables[T];M||I(),M.isEnabled===L&&I();var R=H({},M,{isEnabled:L});return pa(t,R,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;cr(t)||I();var F=e.payload,W=F.id,B=F.isCombineEnabled,V=t.dimensions.droppables[W];V||I(),V.isCombineEnabled===B&&I();var X=H({},V,{isCombineEnabled:B});return pa(t,X,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;cr(t)||I(),t.isWindowScrollAllowed||I();var he=e.payload.newScroll;if(Vt(t.viewport.scroll.current,he))return ma(t);var De=$h(t.viewport,he);return Ga(t)?Xh({state:t,viewport:De}):On({state:t,viewport:De})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!cr(t))return t;var ue=e.payload.maxScroll;if(Vt(ue,t.viewport.scroll.max))return t;var Oe=H({},t.viewport,{scroll:H({},t.viewport.scroll,{max:ue})});return H({phase:"DRAGGING"},t,{viewport:Oe})}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&I();var de=mx({state:t,type:e.type});return de?On({state:t,impact:de.impact,clientSelection:de.clientSelection,scrollJumpRequest:de.scrollJumpRequest}):t}if(e.type==="DROP_PENDING"){var Be=e.payload.reason;t.phase!=="COLLECTING"&&I();var $e=H({phase:"DROP_PENDING"},t,{phase:"DROP_PENDING",isWaiting:!0,reason:Be});return $e}if(e.type==="DROP_ANIMATE"){var Ce=e.payload,Ue=Ce.completed,Qt=Ce.dropDuration,Or=Ce.newHomeClientOffset;t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||I();var Zt={phase:"DROP_ANIMATING",completed:Ue,dropDuration:Qt,newHomeClientOffset:Or,dimensions:t.dimensions};return Zt}if(e.type==="DROP_COMPLETE"){var kt=e.payload.completed;return{phase:"IDLE",completed:kt,shouldFlush:!1}}return t},jx=function(e){return{type:"BEFORE_INITIAL_CAPTURE",payload:e}},Nx=function(e){return{type:"LIFT",payload:e}},Lx=function(e){return{type:"INITIAL_PUBLISH",payload:e}},Fx=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},Bx=function(){return{type:"COLLECTION_STARTING",payload:null}},$x=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},Ux=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},Wx=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},Qh=function(e){return{type:"MOVE",payload:e}},zx=function(e){return{type:"MOVE_BY_WINDOW_SCROLL",payload:e}},Vx=function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}},Hx=function(){return{type:"MOVE_UP",payload:null}},qx=function(){return{type:"MOVE_DOWN",payload:null}},Gx=function(){return{type:"MOVE_RIGHT",payload:null}},Yx=function(){return{type:"MOVE_LEFT",payload:null}},Wo=function(){return{type:"FLUSH",payload:null}},Kx=function(e){return{type:"DROP_ANIMATE",payload:e}},zo=function(e){return{type:"DROP_COMPLETE",payload:e}},Zh=function(e){return{type:"DROP",payload:e}},Xx=function(e){return{type:"DROP_PENDING",payload:e}},ef=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},Jx=function(t){return function(e){var r=e.getState,n=e.dispatch;return function(i){return function(s){if(s.type!=="LIFT"){i(s);return}var a=s.payload,o=a.id,l=a.clientSelection,c=a.movementMode,u=r();u.phase==="DROP_ANIMATING"&&n(zo({completed:u.completed})),r().phase!=="IDLE"&&I(),n(Wo()),n(jx({draggableId:o,movementMode:c}));var d={shouldPublishImmediately:c==="SNAP"},h={draggableId:o,scrollOptions:d},f=t.startPublishing(h),g=f.critical,p=f.dimensions,v=f.viewport;n(Lx({critical:g,dimensions:p,clientSelection:l,movementMode:c,viewport:v}))}}}},Qx=function(t){return function(){return function(e){return function(r){r.type==="INITIAL_PUBLISH"&&t.dragging(),r.type==="DROP_ANIMATE"&&t.dropping(r.payload.completed.result.reason),(r.type==="FLUSH"||r.type==="DROP_COMPLETE")&&t.resting(),e(r)}}}},Vo={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Wn={opacity:{drop:0,combining:.7},scale:{drop:.75}},Ho={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},ir=Ho.outOfTheWay+"s "+Vo.outOfTheWay,Tn={fluid:"opacity "+ir,snap:"transform "+ir+", opacity "+ir,drop:function(e){var r=e+"s "+Vo.drop;return"transform "+r+", opacity "+r},outOfTheWay:"transform "+ir,placeholder:"height "+ir+", width "+ir+", margin "+ir},Sc=function(e){return Vt(e,_e)?null:"translate("+e.x+"px, "+e.y+"px)"},Ya={moveTo:Sc,drop:function(e,r){var n=Sc(e);return n?r?n+" scale("+Wn.scale.drop+")":n:null}},Ka=Ho.minDropTime,tf=Ho.maxDropTime,Zx=tf-Ka,kc=1500,ew=.6,tw=function(t){var e=t.current,r=t.destination,n=t.reason,i=Bn(e,r);if(i<=0)return Ka;if(i>=kc)return tf;var s=i/kc,a=Ka+Zx*s,o=n==="CANCEL"?a*ew:a;return Number(o.toFixed(2))},rw=function(t){var e=t.impact,r=t.draggable,n=t.dimensions,i=t.viewport,s=t.afterCritical,a=n.draggables,o=n.droppables,l=Ke(e),c=l?o[l]:null,u=o[r.descriptor.droppableId],d=Kh({impact:e,draggable:r,draggables:a,afterCritical:s,droppable:c||u,viewport:i}),h=Ye(d,r.client.borderBox.center);return h},nw=function(t){var e=t.draggables,r=t.reason,n=t.lastImpact,i=t.home,s=t.viewport,a=t.onLiftImpact;if(!n.at||r!=="DROP"){var o=Yh({draggables:e,impact:a,destination:i,viewport:s,forceShouldAnimate:!0});return{impact:o,didDropInsideDroppable:!1}}if(n.at.type==="REORDER")return{impact:n,didDropInsideDroppable:!0};var l=H({},n,{displaced:$n});return{impact:l,didDropInsideDroppable:!0}},iw=function(t){var e=t.getState,r=t.dispatch;return function(n){return function(i){if(i.type!=="DROP"){n(i);return}var s=e(),a=i.payload.reason;if(s.phase==="COLLECTING"){r(Xx({reason:a}));return}if(s.phase!=="IDLE"){var o=s.phase==="DROP_PENDING"&&s.isWaiting;o&&I(),s.phase==="DRAGGING"||s.phase==="DROP_PENDING"||I();var l=s.critical,c=s.dimensions,u=c.draggables[s.critical.draggable.id],d=nw({reason:a,lastImpact:s.impact,afterCritical:s.afterCritical,onLiftImpact:s.onLiftImpact,home:s.dimensions.droppables[s.critical.droppable.id],viewport:s.viewport,draggables:s.dimensions.draggables}),h=d.impact,f=d.didDropInsideDroppable,g=f?No(h):null,p=f?Ws(h):null,v={index:l.draggable.index,droppableId:l.droppable.id},b={draggableId:u.descriptor.id,type:u.descriptor.type,source:v,reason:a,mode:s.movementMode,destination:g,combine:p},y=rw({impact:h,draggable:u,dimensions:c,viewport:s.viewport,afterCritical:s.afterCritical}),_={critical:s.critical,afterCritical:s.afterCritical,result:b,impact:h},w=!Vt(s.current.client.offset,y)||!!b.combine;if(!w){r(zo({completed:_}));return}var S=tw({current:s.current.client.offset,destination:y,reason:a}),D={newHomeClientOffset:y,dropDuration:S,completed:_};r(Kx(D))}}}},rf=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function sw(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(r){r.target!==window&&r.target!==window.document||t()}}}function aw(t){var e=t.onWindowScroll;function r(){e(rf())}var n=Fn(r),i=sw(n),s=zt;function a(){return s!==zt}function o(){a()&&I(),s=et(window,[i])}function l(){a()||I(),n.cancel(),s(),s=zt}return{start:o,stop:l,isActive:a}}var ow=function(e){return e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH"},lw=function(t){var e=aw({onWindowScroll:function(n){t.dispatch(zx({newScroll:n}))}});return function(r){return function(n){!e.isActive()&&n.type==="INITIAL_PUBLISH"&&e.start(),e.isActive()&&ow(n)&&e.stop(),r(n)}}},cw=function(t){var e=!1,r=!1,n=setTimeout(function(){r=!0}),i=function(a){e||r||(e=!0,t(a),clearTimeout(n))};return i.wasCalled=function(){return e},i},uw=function(){var t=[],e=function(s){var a=jo(t,function(c){return c.timerId===s});a===-1&&I();var o=t.splice(a,1),l=o[0];l.callback()},r=function(s){var a=setTimeout(function(){return e(a)}),o={timerId:a,callback:s};t.push(o)},n=function(){if(t.length){var s=[].concat(t);t.length=0,s.forEach(function(a){clearTimeout(a.timerId),a.callback()})}};return{add:r,flush:n}},dw=function(e,r){return e==null&&r==null?!0:e==null||r==null?!1:e.droppableId===r.droppableId&&e.index===r.index},hw=function(e,r){return e==null&&r==null?!0:e==null||r==null?!1:e.draggableId===r.draggableId&&e.droppableId===r.droppableId},fw=function(e,r){if(e===r)return!0;var n=e.draggable.id===r.draggable.id&&e.draggable.droppableId===r.draggable.droppableId&&e.draggable.type===r.draggable.type&&e.draggable.index===r.draggable.index,i=e.droppable.id===r.droppable.id&&e.droppable.type===r.droppable.type;return n&&i},dn=function(e,r){r()},wi=function(e,r){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:r}},va=function(e,r,n,i){if(!e){n(i(r));return}var s=cw(n),a={announce:s};e(r,a),s.wasCalled()||n(i(r))},gw=function(t,e){var r=uw(),n=null,i=function(h,f){n&&I(),dn("onBeforeCapture",function(){var g=t().onBeforeCapture;if(g){var p={draggableId:h,mode:f};g(p)}})},s=function(h,f){n&&I(),dn("onBeforeDragStart",function(){var g=t().onBeforeDragStart;g&&g(wi(h,f))})},a=function(h,f){n&&I();var g=wi(h,f);n={mode:f,lastCritical:h,lastLocation:g.source,lastCombine:null},r.add(function(){dn("onDragStart",function(){return va(t().onDragStart,g,e,Wi.onDragStart)})})},o=function(h,f){var g=No(f),p=Ws(f);n||I();var v=!fw(h,n.lastCritical);v&&(n.lastCritical=h);var b=!dw(n.lastLocation,g);b&&(n.lastLocation=g);var y=!hw(n.lastCombine,p);if(y&&(n.lastCombine=p),!(!v&&!b&&!y)){var _=H({},wi(h,n.mode),{combine:p,destination:g});r.add(function(){dn("onDragUpdate",function(){return va(t().onDragUpdate,_,e,Wi.onDragUpdate)})})}},l=function(){n||I(),r.flush()},c=function(h){n||I(),n=null,dn("onDragEnd",function(){return va(t().onDragEnd,h,e,Wi.onDragEnd)})},u=function(){if(n){var h=H({},wi(n.lastCritical,n.mode),{combine:null,destination:null,reason:"CANCEL"});c(h)}};return{beforeCapture:i,beforeStart:s,start:a,update:o,flush:l,drop:c,abort:u}},pw=function(t,e){var r=gw(t,e);return function(n){return function(i){return function(s){if(s.type==="BEFORE_INITIAL_CAPTURE"){r.beforeCapture(s.payload.draggableId,s.payload.movementMode);return}if(s.type==="INITIAL_PUBLISH"){var a=s.payload.critical;r.beforeStart(a,s.payload.movementMode),i(s),r.start(a,s.payload.movementMode);return}if(s.type==="DROP_COMPLETE"){var o=s.payload.completed.result;r.flush(),i(s),r.drop(o);return}if(i(s),s.type==="FLUSH"){r.abort();return}var l=n.getState();l.phase==="DRAGGING"&&r.update(l.critical,l.impact)}}}},mw=function(t){return function(e){return function(r){if(r.type!=="DROP_ANIMATION_FINISHED"){e(r);return}var n=t.getState();n.phase!=="DROP_ANIMATING"&&I(),t.dispatch(zo({completed:n.completed}))}}},vw=function(t){var e=null,r=null;function n(){r&&(cancelAnimationFrame(r),r=null),e&&(e(),e=null)}return function(i){return function(s){if((s.type==="FLUSH"||s.type==="DROP_COMPLETE"||s.type==="DROP_ANIMATION_FINISHED")&&n(),i(s),s.type==="DROP_ANIMATE"){var a={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var l=t.getState();l.phase==="DROP_ANIMATING"&&t.dispatch(ef())}};r=requestAnimationFrame(function(){r=null,e=et(window,[a])})}}}},bw=function(t){return function(){return function(e){return function(r){(r.type==="DROP_COMPLETE"||r.type==="FLUSH"||r.type==="DROP_ANIMATE")&&t.stopPublishing(),e(r)}}}},yw=function(t){var e=!1;return function(){return function(r){return function(n){if(n.type==="INITIAL_PUBLISH"){e=!0,t.tryRecordFocus(n.payload.critical.draggable.id),r(n),t.tryRestoreFocusRecorded();return}if(r(n),!!e){if(n.type==="FLUSH"){e=!1,t.tryRestoreFocusRecorded();return}if(n.type==="DROP_COMPLETE"){e=!1;var i=n.payload.completed.result;i.combine&&t.tryShiftRecord(i.draggableId,i.combine.draggableId),t.tryRestoreFocusRecorded()}}}}}},xw=function(e){return e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH"},ww=function(t){return function(e){return function(r){return function(n){if(xw(n)){t.stop(),r(n);return}if(n.type==="INITIAL_PUBLISH"){r(n);var i=e.getState();i.phase!=="DRAGGING"&&I(),t.start(i);return}r(n),t.scroll(e.getState())}}}},_w=function(t){return function(e){return function(r){if(e(r),r.type==="PUBLISH_WHILE_DRAGGING"){var n=t.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||t.dispatch(Zh({reason:n.reason})))}}}},Sw=lh,kw=function(t){var e=t.dimensionMarshal,r=t.focusMarshal,n=t.styleMarshal,i=t.getResponders,s=t.announce,a=t.autoScroller;return oh(Rx,Sw(uy(Qx(n),bw(e),Jx(e),iw,mw,vw,_w,ww(a),lw,yw(r),pw(i,s))))},ba=function(){return{additions:{},removals:{},modified:{}}};function Dw(t){var e=t.registry,r=t.callbacks,n=ba(),i=null,s=function(){i||(r.collectionStarting(),i=requestAnimationFrame(function(){i=null;var u=n,d=u.additions,h=u.removals,f=u.modified,g=Object.keys(d).map(function(b){return e.draggable.getById(b).getDimension(_e)}).sort(function(b,y){return b.descriptor.index-y.descriptor.index}),p=Object.keys(f).map(function(b){var y=e.droppable.getById(b),_=y.callbacks.getScrollWhileDragging();return{droppableId:b,scroll:_}}),v={additions:g,removals:Object.keys(h),modified:p};n=ba(),r.publish(v)}))},a=function(u){var d=u.descriptor.id;n.additions[d]=u,n.modified[u.descriptor.droppableId]=!0,n.removals[d]&&delete n.removals[d],s()},o=function(u){var d=u.descriptor;n.removals[d.id]=!0,n.modified[d.droppableId]=!0,n.additions[d.id]&&delete n.additions[d.id],s()},l=function(){i&&(cancelAnimationFrame(i),i=null,n=ba())};return{add:a,remove:o,stop:l}}var nf=function(t){var e=t.scrollHeight,r=t.scrollWidth,n=t.height,i=t.width,s=Ye({x:r,y:e},{x:i,y:n}),a={x:Math.max(0,s.x),y:Math.max(0,s.y)};return a},sf=function(){var t=document.documentElement;return t||I(),t},af=function(){var t=sf(),e=nf({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight});return e},Cw=function(){var t=rf(),e=af(),r=t.y,n=t.x,i=sf(),s=i.clientWidth,a=i.clientHeight,o=n+s,l=r+a,c=ut({top:r,left:n,right:o,bottom:l}),u={frame:c,scroll:{initial:t,current:t,max:e,diff:{value:_e,displacement:_e}}};return u},Pw=function(t){var e=t.critical,r=t.scrollOptions,n=t.registry,i=Cw(),s=i.scroll.current,a=e.droppable,o=n.droppable.getAllByType(a.type).map(function(d){return d.callbacks.getDimensionAndWatchScroll(s,r)}),l=n.draggable.getAllByType(e.draggable.type).map(function(d){return d.getDimension(s)}),c={draggables:Rh(l),droppables:Mh(o)},u={dimensions:c,critical:e,viewport:i};return u};function Dc(t,e,r){if(r.descriptor.id===e.id||r.descriptor.type!==e.type)return!1;var n=t.droppable.getById(r.descriptor.droppableId);return n.descriptor.mode==="virtual"}var Ew=function(t,e){var r=null,n=Dw({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:t}),i=function(f,g){t.droppable.exists(f)||I(),r&&e.updateDroppableIsEnabled({id:f,isEnabled:g})},s=function(f,g){r&&(t.droppable.exists(f)||I(),e.updateDroppableIsCombineEnabled({id:f,isCombineEnabled:g}))},a=function(f,g){r&&(t.droppable.exists(f)||I(),e.updateDroppableScroll({id:f,newScroll:g}))},o=function(f,g){r&&t.droppable.getById(f).callbacks.scroll(g)},l=function(){if(r){n.stop();var f=r.critical.droppable;t.droppable.getAllByType(f.type).forEach(function(g){return g.callbacks.dragStopped()}),r.unsubscribe(),r=null}},c=function(f){r||I();var g=r.critical.draggable;f.type==="ADDITION"&&Dc(t,g,f.value)&&n.add(f.value),f.type==="REMOVAL"&&Dc(t,g,f.value)&&n.remove(f.value)},u=function(f){r&&I();var g=t.draggable.getById(f.draggableId),p=t.droppable.getById(g.descriptor.droppableId),v={draggable:g.descriptor,droppable:p.descriptor},b=t.subscribe(c);return r={critical:v,unsubscribe:b},Pw({critical:v,registry:t,scrollOptions:f.scrollOptions})},d={updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:s,scrollDroppable:o,updateDroppableScroll:a,startPublishing:u,stopPublishing:l};return d},of=function(t,e){return t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===e?!1:t.completed.result.reason==="DROP"},Ow=function(t){window.scrollBy(t.x,t.y)},Tw=xe(function(t){return Us(t).filter(function(e){return!(!e.isEnabled||!e.frame)})}),Aw=function(e,r){var n=Jt(Tw(r),function(i){return i.frame||I(),Vh(i.frame.pageMarginBox)(e)});return n},Iw=function(t){var e=t.center,r=t.destination,n=t.droppables;if(r){var i=n[r];return i.frame?i:null}var s=Aw(e,n);return s},Ht={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(e){return Math.pow(e,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},Mw=function(t,e){var r=t[e.size]*Ht.startFromPercentage,n=t[e.size]*Ht.maxScrollAtPercentage,i={startScrollingFrom:r,maxScrollValueAt:n};return i},lf=function(t){var e=t.startOfRange,r=t.endOfRange,n=t.current,i=r-e;if(i===0)return 0;var s=n-e,a=s/i;return a},qo=1,Rw=function(t,e){if(t>e.startScrollingFrom)return 0;if(t<=e.maxScrollValueAt)return Ht.maxPixelScroll;if(t===e.startScrollingFrom)return qo;var r=lf({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:t}),n=1-r,i=Ht.maxPixelScroll*Ht.ease(n);return Math.ceil(i)},Cc=Ht.durationDampening.accelerateAt,Pc=Ht.durationDampening.stopDampeningAt,jw=function(t,e){var r=e,n=Pc,i=Date.now(),s=i-r;if(s>=Pc)return t;if(s<Cc)return qo;var a=lf({startOfRange:Cc,endOfRange:n,current:s}),o=t*Ht.ease(a);return Math.ceil(o)},Ec=function(t){var e=t.distanceToEdge,r=t.thresholds,n=t.dragStartTime,i=t.shouldUseTimeDampening,s=Rw(e,r);return s===0?0:i?Math.max(jw(s,n),qo):s},Oc=function(t){var e=t.container,r=t.distanceToEdges,n=t.dragStartTime,i=t.axis,s=t.shouldUseTimeDampening,a=Mw(e,i),o=r[i.end]<r[i.start];return o?Ec({distanceToEdge:r[i.end],thresholds:a,dragStartTime:n,shouldUseTimeDampening:s}):-1*Ec({distanceToEdge:r[i.start],thresholds:a,dragStartTime:n,shouldUseTimeDampening:s})},Nw=function(t){var e=t.container,r=t.subject,n=t.proposedScroll,i=r.height>e.height,s=r.width>e.width;return!s&&!i?n:s&&i?null:{x:s?0:n.x,y:i?0:n.y}},Lw=Ah(function(t){return t===0?0:t}),cf=function(t){var e=t.dragStartTime,r=t.container,n=t.subject,i=t.center,s=t.shouldUseTimeDampening,a={top:i.y-r.top,right:r.right-i.x,bottom:r.bottom-i.y,left:i.x-r.left},o=Oc({container:r,distanceToEdges:a,dragStartTime:e,axis:Lo,shouldUseTimeDampening:s}),l=Oc({container:r,distanceToEdges:a,dragStartTime:e,axis:Lh,shouldUseTimeDampening:s}),c=Lw({x:l,y:o});if(Vt(c,_e))return null;var u=Nw({container:r,subject:n,proposedScroll:c});return u?Vt(u,_e)?null:u:null},Fw=Ah(function(t){return t===0?0:t>0?1:-1}),Go=function(){var t=function(r,n){return r<0?r:r>n?r-n:0};return function(e){var r=e.current,n=e.max,i=e.change,s=Ee(r,i),a={x:t(s.x,n.x),y:t(s.y,n.y)};return Vt(a,_e)?null:a}}(),uf=function(e){var r=e.max,n=e.current,i=e.change,s={x:Math.max(n.x,r.x),y:Math.max(n.y,r.y)},a=Fw(i),o=Go({max:s,current:n,change:a});return!o||a.x!==0&&o.x===0||a.y!==0&&o.y===0},Yo=function(e,r){return uf({current:e.scroll.current,max:e.scroll.max,change:r})},Bw=function(e,r){if(!Yo(e,r))return null;var n=e.scroll.max,i=e.scroll.current;return Go({current:i,max:n,change:r})},Ko=function(e,r){var n=e.frame;return n?uf({current:n.scroll.current,max:n.scroll.max,change:r}):!1},$w=function(e,r){var n=e.frame;return!n||!Ko(e,r)?null:Go({current:n.scroll.current,max:n.scroll.max,change:r})},Uw=function(t){var e=t.viewport,r=t.subject,n=t.center,i=t.dragStartTime,s=t.shouldUseTimeDampening,a=cf({dragStartTime:i,container:e.frame,subject:r,center:n,shouldUseTimeDampening:s});return a&&Yo(e,a)?a:null},Ww=function(t){var e=t.droppable,r=t.subject,n=t.center,i=t.dragStartTime,s=t.shouldUseTimeDampening,a=e.frame;if(!a)return null;var o=cf({dragStartTime:i,container:a.pageMarginBox,subject:r,center:n,shouldUseTimeDampening:s});return o&&Ko(e,o)?o:null},Tc=function(t){var e=t.state,r=t.dragStartTime,n=t.shouldUseTimeDampening,i=t.scrollWindow,s=t.scrollDroppable,a=e.current.page.borderBoxCenter,o=e.dimensions.draggables[e.critical.draggable.id],l=o.page.marginBox;if(e.isWindowScrollAllowed){var c=e.viewport,u=Uw({dragStartTime:r,viewport:c,subject:l,center:a,shouldUseTimeDampening:n});if(u){i(u);return}}var d=Iw({center:a,destination:Ke(e.impact),droppables:e.dimensions.droppables});if(d){var h=Ww({dragStartTime:r,droppable:d,subject:l,center:a,shouldUseTimeDampening:n});h&&s(d.descriptor.id,h)}},zw=function(t){var e=t.scrollWindow,r=t.scrollDroppable,n=Fn(e),i=Fn(r),s=null,a=function(u){s||I();var d=s,h=d.shouldUseTimeDampening,f=d.dragStartTime;Tc({state:u,scrollWindow:n,scrollDroppable:i,dragStartTime:f,shouldUseTimeDampening:h})},o=function(u){s&&I();var d=Date.now(),h=!1,f=function(){h=!0};Tc({state:u,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:f,scrollDroppable:f}),s={dragStartTime:d,shouldUseTimeDampening:h},h&&a(u)},l=function(){s&&(n.cancel(),i.cancel(),s=null)};return{start:o,stop:l,scroll:a}},Vw=function(t){var e=t.move,r=t.scrollDroppable,n=t.scrollWindow,i=function(c,u){var d=Ee(c.current.client.selection,u);e({client:d})},s=function(c,u){if(!Ko(c,u))return u;var d=$w(c,u);if(!d)return r(c.descriptor.id,u),null;var h=Ye(u,d);r(c.descriptor.id,h);var f=Ye(u,h);return f},a=function(c,u,d){if(!c||!Yo(u,d))return d;var h=Bw(u,d);if(!h)return n(d),null;var f=Ye(d,h);n(f);var g=Ye(d,f);return g},o=function(c){var u=c.scrollJumpRequest;if(u){var d=Ke(c.impact);d||I();var h=s(c.dimensions.droppables[d],u);if(h){var f=c.viewport,g=a(c.isWindowScrollAllowed,f,h);g&&i(c,g)}}};return o},Hw=function(t){var e=t.scrollDroppable,r=t.scrollWindow,n=t.move,i=zw({scrollWindow:r,scrollDroppable:e}),s=Vw({move:n,scrollWindow:r,scrollDroppable:e}),a=function(c){if(c.phase==="DRAGGING"){if(c.movementMode==="FLUID"){i.scroll(c);return}c.scrollJumpRequest&&s(c)}},o={scroll:a,start:i.start,stop:i.stop};return o},Yr="data-rbd",Kr=function(){var t=Yr+"-drag-handle";return{base:t,draggableId:t+"-draggable-id",contextId:t+"-context-id"}}(),Xa=function(){var t=Yr+"-draggable";return{base:t,contextId:t+"-context-id",id:t+"-id"}}(),qw=function(){var t=Yr+"-droppable";return{base:t,contextId:t+"-context-id",id:t+"-id"}}(),Ac={contextId:Yr+"-scroll-container-context-id"},Gw=function(e){return function(r){return"["+r+'="'+e+'"]'}},hn=function(e,r){return e.map(function(n){var i=n.styles[r];return i?n.selector+" { "+i+" }":""}).join(" ")},Yw="pointer-events: none;",Kw=function(t){var e=Gw(t),r=function(){var o=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(Kr.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:o,dragging:Yw,dropAnimating:o}}}(),n=function(){var o=`
      transition: `+Tn.outOfTheWay+`;
    `;return{selector:e(Xa.contextId),styles:{dragging:o,dropAnimating:o,userCancel:o}}}(),i={selector:e(qw.contextId),styles:{always:"overflow-anchor: none;"}},s={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},a=[n,r,i,s];return{always:hn(a,"always"),resting:hn(a,"resting"),dragging:hn(a,"dragging"),dropAnimating:hn(a,"dropAnimating"),userCancel:hn(a,"userCancel")}},Xe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?P.useLayoutEffect:P.useEffect,ya=function(){var e=document.querySelector("head");return e||I(),e},Ic=function(e){var r=document.createElement("style");return e&&r.setAttribute("nonce",e),r.type="text/css",r};function Xw(t,e){var r=Z(function(){return Kw(t)},[t]),n=P.useRef(null),i=P.useRef(null),s=z(xe(function(d){var h=i.current;h||I(),h.textContent=d}),[]),a=z(function(d){var h=n.current;h||I(),h.textContent=d},[]);Xe(function(){!n.current&&!i.current||I();var d=Ic(e),h=Ic(e);return n.current=d,i.current=h,d.setAttribute(Yr+"-always",t),h.setAttribute(Yr+"-dynamic",t),ya().appendChild(d),ya().appendChild(h),a(r.always),s(r.resting),function(){var f=function(p){var v=p.current;v||I(),ya().removeChild(v),p.current=null};f(n),f(i)}},[e,a,s,r.always,r.resting,t]);var o=z(function(){return s(r.dragging)},[s,r.dragging]),l=z(function(d){if(d==="DROP"){s(r.dropAnimating);return}s(r.userCancel)},[s,r.dropAnimating,r.userCancel]),c=z(function(){i.current&&s(r.resting)},[s,r.resting]),u=Z(function(){return{dragging:o,dropping:l,resting:c}},[o,l,c]);return u}var df=function(t){return t&&t.ownerDocument?t.ownerDocument.defaultView:window};function Hs(t){return t instanceof df(t).HTMLElement}function Jw(t,e){var r="["+Kr.contextId+'="'+t+'"]',n=Ih(document.querySelectorAll(r));if(!n.length)return null;var i=Jt(n,function(s){return s.getAttribute(Kr.draggableId)===e});return!i||!Hs(i)?null:i}function Qw(t){var e=P.useRef({}),r=P.useRef(null),n=P.useRef(null),i=P.useRef(!1),s=z(function(h,f){var g={id:h,focus:f};return e.current[h]=g,function(){var v=e.current,b=v[h];b!==g&&delete v[h]}},[]),a=z(function(h){var f=Jw(t,h);f&&f!==document.activeElement&&f.focus()},[t]),o=z(function(h,f){r.current===h&&(r.current=f)},[]),l=z(function(){n.current||i.current&&(n.current=requestAnimationFrame(function(){n.current=null;var h=r.current;h&&a(h)}))},[a]),c=z(function(h){r.current=null;var f=document.activeElement;f&&f.getAttribute(Kr.draggableId)===h&&(r.current=h)},[]);Xe(function(){return i.current=!0,function(){i.current=!1;var h=n.current;h&&cancelAnimationFrame(h)}},[]);var u=Z(function(){return{register:s,tryRecordFocus:c,tryRestoreFocusRecorded:l,tryShiftRecord:o}},[s,c,l,o]);return u}function Zw(){var t={draggables:{},droppables:{}},e=[];function r(d){return e.push(d),function(){var f=e.indexOf(d);f!==-1&&e.splice(f,1)}}function n(d){e.length&&e.forEach(function(h){return h(d)})}function i(d){return t.draggables[d]||null}function s(d){var h=i(d);return h||I(),h}var a={register:function(h){t.draggables[h.descriptor.id]=h,n({type:"ADDITION",value:h})},update:function(h,f){var g=t.draggables[f.descriptor.id];g&&g.uniqueId===h.uniqueId&&(delete t.draggables[f.descriptor.id],t.draggables[h.descriptor.id]=h)},unregister:function(h){var f=h.descriptor.id,g=i(f);g&&h.uniqueId===g.uniqueId&&(delete t.draggables[f],n({type:"REMOVAL",value:h}))},getById:s,findById:i,exists:function(h){return!!i(h)},getAllByType:function(h){return is(t.draggables).filter(function(f){return f.descriptor.type===h})}};function o(d){return t.droppables[d]||null}function l(d){var h=o(d);return h||I(),h}var c={register:function(h){t.droppables[h.descriptor.id]=h},unregister:function(h){var f=o(h.descriptor.id);f&&h.uniqueId===f.uniqueId&&delete t.droppables[h.descriptor.id]},getById:l,findById:o,exists:function(h){return!!o(h)},getAllByType:function(h){return is(t.droppables).filter(function(f){return f.descriptor.type===h})}};function u(){t.draggables={},t.droppables={},e.length=0}return{draggable:a,droppable:c,subscribe:r,clean:u}}function e_(){var t=Z(Zw,[]);return P.useEffect(function(){return function(){requestAnimationFrame(t.clean)}},[t]),t}var Xo=Y.createContext(null),as=function(){var t=document.body;return t||I(),t},t_={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},r_=function(e){return"rbd-announcement-"+e};function n_(t){var e=Z(function(){return r_(t)},[t]),r=P.useRef(null);P.useEffect(function(){var s=document.createElement("div");return r.current=s,s.id=e,s.setAttribute("aria-live","assertive"),s.setAttribute("aria-atomic","true"),H(s.style,t_),as().appendChild(s),function(){setTimeout(function(){var l=as();l.contains(s)&&l.removeChild(s),s===r.current&&(r.current=null)})}},[e]);var n=z(function(i){var s=r.current;if(s){s.textContent=i;return}},[]);return n}var i_=0,s_={separator:"::"};function Jo(t,e){return e===void 0&&(e=s_),Z(function(){return""+t+e.separator+i_++},[e.separator,t])}function a_(t){var e=t.contextId,r=t.uniqueId;return"rbd-hidden-text-"+e+"-"+r}function o_(t){var e=t.contextId,r=t.text,n=Jo("hidden-text",{separator:"-"}),i=Z(function(){return a_({contextId:e,uniqueId:n})},[n,e]);return P.useEffect(function(){var a=document.createElement("div");return a.id=i,a.textContent=r,a.style.display="none",as().appendChild(a),function(){var l=as();l.contains(a)&&l.removeChild(a)}},[i,r]),i}var qs=Y.createContext(null);function hf(t){var e=P.useRef(t);return P.useEffect(function(){e.current=t}),e}function l_(){var t=null;function e(){return!!t}function r(a){return a===t}function n(a){t&&I();var o={abandon:a};return t=o,o}function i(){t||I(),t=null}function s(){t&&(t.abandon(),i())}return{isClaimed:e,isActive:r,claim:n,release:i,tryAbandon:s}}var c_=9,u_=13,Qo=27,ff=32,d_=33,h_=34,f_=35,g_=36,p_=37,m_=38,v_=39,b_=40,_i,y_=(_i={},_i[u_]=!0,_i[c_]=!0,_i),gf=function(t){y_[t.keyCode]&&t.preventDefault()},Gs=function(){var t="visibilitychange";if(typeof document>"u")return t;var e=[t,"ms"+t,"webkit"+t,"moz"+t,"o"+t],r=Jt(e,function(n){return"on"+n in document});return r||t}(),pf=0,Mc=5;function x_(t,e){return Math.abs(e.x-t.x)>=Mc||Math.abs(e.y-t.y)>=Mc}var Rc={type:"IDLE"};function w_(t){var e=t.cancel,r=t.completed,n=t.getPhase,i=t.setPhase;return[{eventName:"mousemove",fn:function(a){var o=a.button,l=a.clientX,c=a.clientY;if(o===pf){var u={x:l,y:c},d=n();if(d.type==="DRAGGING"){a.preventDefault(),d.actions.move(u);return}d.type!=="PENDING"&&I();var h=d.point;if(x_(h,u)){a.preventDefault();var f=d.actions.fluidLift(u);i({type:"DRAGGING",actions:f})}}}},{eventName:"mouseup",fn:function(a){var o=n();if(o.type!=="DRAGGING"){e();return}a.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"mousedown",fn:function(a){n().type==="DRAGGING"&&a.preventDefault(),e()}},{eventName:"keydown",fn:function(a){var o=n();if(o.type==="PENDING"){e();return}if(a.keyCode===Qo){a.preventDefault(),e();return}gf(a)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:function(a){var o=n();if(o.type==="IDLE"&&I(),o.actions.shouldRespectForcePress()){e();return}a.preventDefault()}},{eventName:Gs,fn:e}]}function __(t){var e=P.useRef(Rc),r=P.useRef(zt),n=Z(function(){return{eventName:"mousedown",fn:function(d){if(!d.defaultPrevented&&d.button===pf&&!(d.ctrlKey||d.metaKey||d.shiftKey||d.altKey)){var h=t.findClosestDraggableId(d);if(h){var f=t.tryGetLock(h,a,{sourceEvent:d});if(f){d.preventDefault();var g={x:d.clientX,y:d.clientY};r.current(),c(f,g)}}}}}},[t]),i=Z(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(d){if(!d.defaultPrevented){var h=t.findClosestDraggableId(d);if(h){var f=t.findOptionsForDraggable(h);f&&(f.shouldRespectForcePress||t.canGetLock(h)&&d.preventDefault())}}}}},[t]),s=z(function(){var d={passive:!1,capture:!0};r.current=et(window,[i,n],d)},[i,n]),a=z(function(){var u=e.current;u.type!=="IDLE"&&(e.current=Rc,r.current(),s())},[s]),o=z(function(){var u=e.current;a(),u.type==="DRAGGING"&&u.actions.cancel({shouldBlockNextClick:!0}),u.type==="PENDING"&&u.actions.abort()},[a]),l=z(function(){var d={capture:!0,passive:!1},h=w_({cancel:o,completed:a,getPhase:function(){return e.current},setPhase:function(g){e.current=g}});r.current=et(window,h,d)},[o,a]),c=z(function(d,h){e.current.type!=="IDLE"&&I(),e.current={type:"PENDING",point:h,actions:d},l()},[l]);Xe(function(){return s(),function(){r.current()}},[s])}var Nr;function S_(){}var k_=(Nr={},Nr[h_]=!0,Nr[d_]=!0,Nr[g_]=!0,Nr[f_]=!0,Nr);function D_(t,e){function r(){e(),t.cancel()}function n(){e(),t.drop()}return[{eventName:"keydown",fn:function(s){if(s.keyCode===Qo){s.preventDefault(),r();return}if(s.keyCode===ff){s.preventDefault(),n();return}if(s.keyCode===b_){s.preventDefault(),t.moveDown();return}if(s.keyCode===m_){s.preventDefault(),t.moveUp();return}if(s.keyCode===v_){s.preventDefault(),t.moveRight();return}if(s.keyCode===p_){s.preventDefault(),t.moveLeft();return}if(k_[s.keyCode]){s.preventDefault();return}gf(s)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:Gs,fn:r}]}function C_(t){var e=P.useRef(S_),r=Z(function(){return{eventName:"keydown",fn:function(s){if(s.defaultPrevented||s.keyCode!==ff)return;var a=t.findClosestDraggableId(s);if(!a)return;var o=t.tryGetLock(a,u,{sourceEvent:s});if(!o)return;s.preventDefault();var l=!0,c=o.snapLift();e.current();function u(){l||I(),l=!1,e.current(),n()}e.current=et(window,D_(c,u),{capture:!0,passive:!1})}}},[t]),n=z(function(){var s={passive:!1,capture:!0};e.current=et(window,[r],s)},[r]);Xe(function(){return n(),function(){e.current()}},[n])}var xa={type:"IDLE"},P_=120,E_=.15;function O_(t){var e=t.cancel,r=t.getPhase;return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:function(i){i.preventDefault()}},{eventName:"keydown",fn:function(i){if(r().type!=="DRAGGING"){e();return}i.keyCode===Qo&&i.preventDefault(),e()}},{eventName:Gs,fn:e}]}function T_(t){var e=t.cancel,r=t.completed,n=t.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(s){var a=n();if(a.type!=="DRAGGING"){e();return}a.hasMoved=!0;var o=s.touches[0],l=o.clientX,c=o.clientY,u={x:l,y:c};s.preventDefault(),a.actions.move(u)}},{eventName:"touchend",fn:function(s){var a=n();if(a.type!=="DRAGGING"){e();return}s.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"touchcancel",fn:function(s){if(n().type!=="DRAGGING"){e();return}s.preventDefault(),e()}},{eventName:"touchforcechange",fn:function(s){var a=n();a.type==="IDLE"&&I();var o=s.touches[0];if(o){var l=o.force>=E_;if(l){var c=a.actions.shouldRespectForcePress();if(a.type==="PENDING"){c&&e();return}if(c){if(a.hasMoved){s.preventDefault();return}e();return}s.preventDefault()}}}},{eventName:Gs,fn:e}]}function A_(t){var e=P.useRef(xa),r=P.useRef(zt),n=z(function(){return e.current},[]),i=z(function(f){e.current=f},[]),s=Z(function(){return{eventName:"touchstart",fn:function(f){if(!f.defaultPrevented){var g=t.findClosestDraggableId(f);if(g){var p=t.tryGetLock(g,o,{sourceEvent:f});if(p){var v=f.touches[0],b=v.clientX,y=v.clientY,_={x:b,y};r.current(),d(p,_)}}}}}},[t]),a=z(function(){var f={capture:!0,passive:!1};r.current=et(window,[s],f)},[s]),o=z(function(){var h=e.current;h.type!=="IDLE"&&(h.type==="PENDING"&&clearTimeout(h.longPressTimerId),i(xa),r.current(),a())},[a,i]),l=z(function(){var h=e.current;o(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[o]),c=z(function(){var f={capture:!0,passive:!1},g={cancel:l,completed:o,getPhase:n},p=et(window,T_(g),f),v=et(window,O_(g),f);r.current=function(){p(),v()}},[l,n,o]),u=z(function(){var f=n();f.type!=="PENDING"&&I();var g=f.actions.fluidLift(f.point);i({type:"DRAGGING",actions:g,hasMoved:!1})},[n,i]),d=z(function(f,g){n().type!=="IDLE"&&I();var p=setTimeout(u,P_);i({type:"PENDING",point:g,actions:f,longPressTimerId:p}),c()},[c,n,i,u]);Xe(function(){return a(),function(){r.current();var g=n();g.type==="PENDING"&&(clearTimeout(g.longPressTimerId),i(xa))}},[n,a,i]),Xe(function(){var f=et(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return f},[])}var I_={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function mf(t,e){if(e==null)return!1;var r=!!I_[e.tagName.toLowerCase()];if(r)return!0;var n=e.getAttribute("contenteditable");return n==="true"||n===""?!0:e===t?!1:mf(t,e.parentElement)}function M_(t,e){var r=e.target;return Hs(r)?mf(t,r):!1}var R_=function(t){return ut(t.getBoundingClientRect()).center};function j_(t){return t instanceof df(t).Element}var N_=function(){var t="matches";if(typeof document>"u")return t;var e=[t,"msMatchesSelector","webkitMatchesSelector"],r=Jt(e,function(n){return n in Element.prototype});return r||t}();function vf(t,e){return t==null?null:t[N_](e)?t:vf(t.parentElement,e)}function L_(t,e){return t.closest?t.closest(e):vf(t,e)}function F_(t){return"["+Kr.contextId+'="'+t+'"]'}function B_(t,e){var r=e.target;if(!j_(r))return null;var n=F_(t),i=L_(r,n);return!i||!Hs(i)?null:i}function $_(t,e){var r=B_(t,e);return r?r.getAttribute(Kr.draggableId):null}function U_(t,e){var r="["+Xa.contextId+'="'+t+'"]',n=Ih(document.querySelectorAll(r)),i=Jt(n,function(s){return s.getAttribute(Xa.id)===e});return!i||!Hs(i)?null:i}function W_(t){t.preventDefault()}function Si(t){var e=t.expected,r=t.phase,n=t.isLockActive;return t.shouldWarn,!(!n()||e!==r)}function bf(t){var e=t.lockAPI,r=t.store,n=t.registry,i=t.draggableId;if(e.isClaimed())return!1;var s=n.draggable.findById(i);return!(!s||!s.options.isEnabled||!of(r.getState(),i))}function z_(t){var e=t.lockAPI,r=t.contextId,n=t.store,i=t.registry,s=t.draggableId,a=t.forceSensorStop,o=t.sourceEvent,l=bf({lockAPI:e,store:n,registry:i,draggableId:s});if(!l)return null;var c=i.draggable.getById(s),u=U_(r,c.descriptor.id);if(!u||o&&!c.options.canDragInteractiveElements&&M_(u,o))return null;var d=e.claim(a||zt),h="PRE_DRAG";function f(){return c.options.shouldRespectForcePress}function g(){return e.isActive(d)}function p(D,E){Si({expected:D,phase:h,isLockActive:g,shouldWarn:!0})&&n.dispatch(E())}var v=p.bind(null,"DRAGGING");function b(D){function E(){e.release(),h="COMPLETED"}h!=="PRE_DRAG"&&(E(),h!=="PRE_DRAG"&&I()),n.dispatch(Nx(D.liftActionArgs)),h="DRAGGING";function O(T,L){if(L===void 0&&(L={shouldBlockNextClick:!1}),D.cleanup(),L.shouldBlockNextClick){var M=et(window,[{eventName:"click",fn:W_,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(M)}E(),n.dispatch(Zh({reason:T}))}return H({isActive:function(){return Si({expected:"DRAGGING",phase:h,isLockActive:g,shouldWarn:!1})},shouldRespectForcePress:f,drop:function(L){return O("DROP",L)},cancel:function(L){return O("CANCEL",L)}},D.actions)}function y(D){var E=Fn(function(T){v(function(){return Qh({client:T})})}),O=b({liftActionArgs:{id:s,clientSelection:D,movementMode:"FLUID"},cleanup:function(){return E.cancel()},actions:{move:E}});return H({},O,{move:E})}function _(){var D={moveUp:function(){return v(Hx)},moveRight:function(){return v(Gx)},moveDown:function(){return v(qx)},moveLeft:function(){return v(Yx)}};return b({liftActionArgs:{id:s,clientSelection:R_(u),movementMode:"SNAP"},cleanup:zt,actions:D})}function w(){var D=Si({expected:"PRE_DRAG",phase:h,isLockActive:g,shouldWarn:!0});D&&e.release()}var S={isActive:function(){return Si({expected:"PRE_DRAG",phase:h,isLockActive:g,shouldWarn:!1})},shouldRespectForcePress:f,fluidLift:y,snapLift:_,abort:w};return S}var V_=[__,C_,A_];function H_(t){var e=t.contextId,r=t.store,n=t.registry,i=t.customSensors,s=t.enableDefaultSensors,a=[].concat(s?V_:[],i||[]),o=P.useState(function(){return l_()})[0],l=z(function(y,_){y.isDragging&&!_.isDragging&&o.tryAbandon()},[o]);Xe(function(){var y=r.getState(),_=r.subscribe(function(){var w=r.getState();l(y,w),y=w});return _},[o,r,l]),Xe(function(){return o.tryAbandon},[o.tryAbandon]);for(var c=z(function(b){return bf({lockAPI:o,registry:n,store:r,draggableId:b})},[o,n,r]),u=z(function(b,y,_){return z_({lockAPI:o,registry:n,contextId:e,store:r,draggableId:b,forceSensorStop:y,sourceEvent:_&&_.sourceEvent?_.sourceEvent:null})},[e,o,n,r]),d=z(function(b){return $_(e,b)},[e]),h=z(function(b){var y=n.draggable.findById(b);return y?y.options:null},[n.draggable]),f=z(function(){o.isClaimed()&&(o.tryAbandon(),r.getState().phase!=="IDLE"&&r.dispatch(Wo()))},[o,r]),g=z(o.isClaimed,[o]),p=Z(function(){return{canGetLock:c,tryGetLock:u,findClosestDraggableId:d,findOptionsForDraggable:h,tryReleaseLock:f,isLockClaimed:g}},[c,u,d,h,f,g]),v=0;v<a.length;v++)a[v](p)}var q_=function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}};function fn(t){return t.current||I(),t.current}function G_(t){var e=t.contextId,r=t.setCallbacks,n=t.sensors,i=t.nonce,s=t.dragHandleUsageInstructions,a=P.useRef(null),o=hf(t),l=z(function(){return q_(o.current)},[o]),c=n_(e),u=o_({contextId:e,text:s}),d=Xw(e,i),h=z(function(T){fn(a).dispatch(T)},[]),f=Z(function(){return nc({publishWhileDragging:Fx,updateDroppableScroll:$x,updateDroppableIsEnabled:Ux,updateDroppableIsCombineEnabled:Wx,collectionStarting:Bx},h)},[h]),g=e_(),p=Z(function(){return Ew(g,f)},[g,f]),v=Z(function(){return Hw(H({scrollWindow:Ow,scrollDroppable:p.scrollDroppable},nc({move:Qh},h)))},[p.scrollDroppable,h]),b=Qw(e),y=Z(function(){return kw({announce:c,autoScroller:v,dimensionMarshal:p,focusMarshal:b,getResponders:l,styleMarshal:d})},[c,v,p,b,l,d]);a.current=y;var _=z(function(){var T=fn(a),L=T.getState();L.phase!=="IDLE"&&T.dispatch(Wo())},[]),w=z(function(){var T=fn(a).getState();return T.isDragging||T.phase==="DROP_ANIMATING"},[]),S=Z(function(){return{isDragging:w,tryAbort:_}},[w,_]);r(S);var D=z(function(T){return of(fn(a).getState(),T)},[]),E=z(function(){return cr(fn(a).getState())},[]),O=Z(function(){return{marshal:p,focus:b,contextId:e,canLift:D,isMovementAllowed:E,dragHandleUsageInstructionsId:u,registry:g}},[e,p,u,b,D,E,g]);return H_({contextId:e,store:y,registry:g,customSensors:n,enableDefaultSensors:t.enableDefaultSensors!==!1}),P.useEffect(function(){return _},[_]),Y.createElement(qs.Provider,{value:O},Y.createElement(py,{context:Xo,store:y},t.children))}var Y_=0;function K_(){return Z(function(){return""+Y_++},[])}function X_(t){var e=K_(),r=t.dragHandleUsageInstructions||Wi.dragHandleUsageInstructions;return Y.createElement(C0,null,function(n){return Y.createElement(G_,{nonce:t.nonce,contextId:e,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd},t.children)})}var yf=function(e){return function(r){return e===r}},J_=yf("scroll"),Q_=yf("auto"),jc=function(e,r){return r(e.overflowX)||r(e.overflowY)},Z_=function(e){var r=window.getComputedStyle(e),n={overflowX:r.overflowX,overflowY:r.overflowY};return jc(n,J_)||jc(n,Q_)},eS=function(){return!1},tS=function t(e){return e==null?null:e===document.body?eS()?e:null:e===document.documentElement?null:Z_(e)?e:t(e.parentElement)},Ja=function(t){return{x:t.scrollLeft,y:t.scrollTop}},rS=function t(e){if(!e)return!1;var r=window.getComputedStyle(e);return r.position==="fixed"?!0:t(e.parentElement)},nS=function(t){var e=tS(t),r=rS(t);return{closestScrollable:e,isFixedOnPage:r}},iS=function(t){var e=t.descriptor,r=t.isEnabled,n=t.isCombineEnabled,i=t.isFixedOnPage,s=t.direction,a=t.client,o=t.page,l=t.closest,c=function(){if(!l)return null;var f=l.scrollSize,g=l.client,p=nf({scrollHeight:f.scrollHeight,scrollWidth:f.scrollWidth,height:g.paddingBox.height,width:g.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:g,scrollSize:f,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:p,diff:{value:_e,displacement:_e}}}}(),u=s==="vertical"?Lo:Lh,d=Gr({page:o,withPlaceholder:null,axis:u,frame:c}),h={descriptor:e,isCombineEnabled:n,isFixedOnPage:i,axis:u,isEnabled:r,client:a,page:o,frame:c,subject:d};return h},sS=function(e,r){var n=Ph(e);if(!r||e!==r)return n;var i=n.paddingBox.top-r.scrollTop,s=n.paddingBox.left-r.scrollLeft,a=i+r.scrollHeight,o=s+r.scrollWidth,l={top:i,right:o,bottom:a,left:s},c=Io(l,n.border),u=Mo({borderBox:c,margin:n.margin,border:n.border,padding:n.padding});return u},aS=function(t){var e=t.ref,r=t.descriptor,n=t.env,i=t.windowScroll,s=t.direction,a=t.isDropDisabled,o=t.isCombineEnabled,l=t.shouldClipSubject,c=n.closestScrollable,u=sS(e,c),d=ts(u,i),h=function(){if(!c)return null;var g=Ph(c),p={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:g,page:ts(g,i),scroll:Ja(c),scrollSize:p,shouldClipSubject:l}}(),f=iS({descriptor:r,isEnabled:!a,isCombineEnabled:o,isFixedOnPage:n.isFixedOnPage,direction:s,client:u,page:d,closest:h});return f},oS={passive:!1},lS={passive:!0},Nc=function(t){return t.shouldPublishImmediately?oS:lS};function os(t){var e=P.useContext(t);return e||I(),e}var ki=function(e){return e&&e.env.closestScrollable||null};function cS(t){var e=P.useRef(null),r=os(qs),n=Jo("droppable"),i=r.registry,s=r.marshal,a=hf(t),o=Z(function(){return{id:t.droppableId,type:t.type,mode:t.mode}},[t.droppableId,t.mode,t.type]),l=P.useRef(o),c=Z(function(){return xe(function(w,S){e.current||I();var D={x:w,y:S};s.updateDroppableScroll(o.id,D)})},[o.id,s]),u=z(function(){var w=e.current;return!w||!w.env.closestScrollable?_e:Ja(w.env.closestScrollable)},[]),d=z(function(){var w=u();c(w.x,w.y)},[u,c]),h=Z(function(){return Fn(d)},[d]),f=z(function(){var w=e.current,S=ki(w);w&&S||I();var D=w.scrollOptions;if(D.shouldPublishImmediately){d();return}h()},[h,d]),g=z(function(w,S){e.current&&I();var D=a.current,E=D.getDroppableRef();E||I();var O=nS(E),T={ref:E,descriptor:o,env:O,scrollOptions:S};e.current=T;var L=aS({ref:E,descriptor:o,env:O,windowScroll:w,direction:D.direction,isDropDisabled:D.isDropDisabled,isCombineEnabled:D.isCombineEnabled,shouldClipSubject:!D.ignoreContainerClipping}),M=O.closestScrollable;return M&&(M.setAttribute(Ac.contextId,r.contextId),M.addEventListener("scroll",f,Nc(T.scrollOptions))),L},[r.contextId,o,f,a]),p=z(function(){var w=e.current,S=ki(w);return w&&S||I(),Ja(S)},[]),v=z(function(){var w=e.current;w||I();var S=ki(w);e.current=null,S&&(h.cancel(),S.removeAttribute(Ac.contextId),S.removeEventListener("scroll",f,Nc(w.scrollOptions)))},[f,h]),b=z(function(w){var S=e.current;S||I();var D=ki(S);D||I(),D.scrollTop+=w.y,D.scrollLeft+=w.x},[]),y=Z(function(){return{getDimensionAndWatchScroll:g,getScrollWhileDragging:p,dragStopped:v,scroll:b}},[v,g,p,b]),_=Z(function(){return{uniqueId:n,descriptor:o,callbacks:y}},[y,o,n]);Xe(function(){return l.current=_.descriptor,i.droppable.register(_),function(){e.current&&v(),i.droppable.unregister(_)}},[y,o,v,_,s,i.droppable]),Xe(function(){e.current&&s.updateDroppableIsEnabled(l.current.id,!t.isDropDisabled)},[t.isDropDisabled,s]),Xe(function(){e.current&&s.updateDroppableIsCombineEnabled(l.current.id,t.isCombineEnabled)},[t.isCombineEnabled,s])}function wa(){}var Lc={width:0,height:0,margin:I0},uS=function(e){var r=e.isAnimatingOpenOnMount,n=e.placeholder,i=e.animate;return r||i==="close"?Lc:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}},dS=function(e){var r=e.isAnimatingOpenOnMount,n=e.placeholder,i=e.animate,s=uS({isAnimatingOpenOnMount:r,placeholder:n,animate:i});return{display:n.display,boxSizing:"border-box",width:s.width,height:s.height,marginTop:s.margin.top,marginRight:s.margin.right,marginBottom:s.margin.bottom,marginLeft:s.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:i!=="none"?Tn.placeholder:null}};function hS(t){var e=P.useRef(null),r=z(function(){e.current&&(clearTimeout(e.current),e.current=null)},[]),n=t.animate,i=t.onTransitionEnd,s=t.onClose,a=t.contextId,o=P.useState(t.animate==="open"),l=o[0],c=o[1];P.useEffect(function(){return l?n!=="open"?(r(),c(!1),wa):e.current?wa:(e.current=setTimeout(function(){e.current=null,c(!1)}),r):wa},[n,l,r]);var u=z(function(h){h.propertyName==="height"&&(i(),n==="close"&&s())},[n,s,i]),d=dS({isAnimatingOpenOnMount:l,animate:t.animate,placeholder:t.placeholder});return Y.createElement(t.placeholder.tagName,{style:d,"data-rbd-placeholder-context-id":a,onTransitionEnd:u,ref:t.innerRef})}var fS=Y.memo(hS),Zo=Y.createContext(null),gS=function(t){ah(e,t);function e(){for(var n,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n=t.call.apply(t,[this].concat(s))||this,n.state={isVisible:!!n.props.on,data:n.props.on,animate:n.props.shouldAnimate&&n.props.on?"open":"none"},n.onClose=function(){n.state.animate==="close"&&n.setState({isVisible:!1})},n}e.getDerivedStateFromProps=function(i,s){return i.shouldAnimate?i.on?{isVisible:!0,data:i.on,animate:"open"}:s.isVisible?{isVisible:!0,data:s.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!i.on,data:i.on,animate:"none"}};var r=e.prototype;return r.render=function(){if(!this.state.isVisible)return null;var i={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(i)},e}(Y.PureComponent),Fc={dragging:5e3,dropAnimating:4500},pS=function(e,r){return r?Tn.drop(r.duration):e?Tn.snap:Tn.fluid},mS=function(e,r){return e?r?Wn.opacity.drop:Wn.opacity.combining:null},vS=function(e){return e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP"};function bS(t){var e=t.dimension,r=e.client,n=t.offset,i=t.combineWith,s=t.dropping,a=!!i,o=vS(t),l=!!s,c=l?Ya.drop(n,a):Ya.moveTo(n),u={position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:pS(o,s),transform:c,opacity:mS(a,l),zIndex:l?Fc.dropAnimating:Fc.dragging,pointerEvents:"none"};return u}function yS(t){return{transform:Ya.moveTo(t.offset),transition:t.shouldAnimateDisplacement?null:"none"}}function xS(t){return t.type==="DRAGGING"?bS(t):yS(t)}function wS(t,e,r){r===void 0&&(r=_e);var n=window.getComputedStyle(e),i=e.getBoundingClientRect(),s=Ch(i,n),a=ts(s,r),o={client:s,tagName:e.tagName.toLowerCase(),display:n.display},l={x:s.marginBox.width,y:s.marginBox.height},c={descriptor:t,placeholder:o,displaceBy:l,client:s,page:a};return c}function _S(t){var e=Jo("draggable"),r=t.descriptor,n=t.registry,i=t.getDraggableRef,s=t.canDragInteractiveElements,a=t.shouldRespectForcePress,o=t.isEnabled,l=Z(function(){return{canDragInteractiveElements:s,shouldRespectForcePress:a,isEnabled:o}},[s,o,a]),c=z(function(f){var g=i();return g||I(),wS(r,g,f)},[r,i]),u=Z(function(){return{uniqueId:e,descriptor:r,options:l,getDimension:c}},[r,c,l,e]),d=P.useRef(u),h=P.useRef(!0);Xe(function(){return n.draggable.register(d.current),function(){return n.draggable.unregister(d.current)}},[n.draggable]),Xe(function(){if(h.current){h.current=!1;return}var f=d.current;d.current=u,n.draggable.update(u,f)},[u,n.draggable])}function SS(t){t.preventDefault()}function kS(t){var e=P.useRef(null),r=z(function(T){e.current=T},[]),n=z(function(){return e.current},[]),i=os(qs),s=i.contextId,a=i.dragHandleUsageInstructionsId,o=i.registry,l=os(Zo),c=l.type,u=l.droppableId,d=Z(function(){return{id:t.draggableId,index:t.index,type:c,droppableId:u}},[t.draggableId,t.index,c,u]),h=t.children,f=t.draggableId,g=t.isEnabled,p=t.shouldRespectForcePress,v=t.canDragInteractiveElements,b=t.isClone,y=t.mapped,_=t.dropAnimationFinished;if(!b){var w=Z(function(){return{descriptor:d,registry:o,getDraggableRef:n,canDragInteractiveElements:v,shouldRespectForcePress:p,isEnabled:g}},[d,o,n,v,p,g]);_S(w)}var S=Z(function(){return g?{tabIndex:0,role:"button","aria-describedby":a,"data-rbd-drag-handle-draggable-id":f,"data-rbd-drag-handle-context-id":s,draggable:!1,onDragStart:SS}:null},[s,a,f,g]),D=z(function(T){y.type==="DRAGGING"&&y.dropping&&T.propertyName==="transform"&&_()},[_,y]),E=Z(function(){var T=xS(y),L=y.type==="DRAGGING"&&y.dropping?D:null,M={innerRef:r,draggableProps:{"data-rbd-draggable-context-id":s,"data-rbd-draggable-id":f,style:T,onTransitionEnd:L},dragHandleProps:S};return M},[s,S,f,y,D,r]),O=Z(function(){return{draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}},[d.droppableId,d.id,d.index,d.type]);return h(E,y.snapshot,O)}var xf=function(t,e){return t===e},wf=function(t){var e=t.combine,r=t.destination;return r?r.droppableId:e?e.droppableId:null},DS=function(e){return e.combine?e.combine.draggableId:null},CS=function(e){return e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null};function PS(){var t=xe(function(i,s){return{x:i,y:s}}),e=xe(function(i,s,a,o,l){return{isDragging:!0,isClone:s,isDropAnimating:!!l,dropAnimation:l,mode:i,draggingOver:a,combineWith:o,combineTargetFor:null}}),r=xe(function(i,s,a,o,l,c,u){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:c,mode:s,offset:i,dimension:a,forceShouldAnimate:u,snapshot:e(s,o,l,c,null)}}}),n=function(s,a){if(s.isDragging){if(s.critical.draggable.id!==a.draggableId)return null;var o=s.current.client.offset,l=s.dimensions.draggables[a.draggableId],c=Ke(s.impact),u=CS(s.impact),d=s.forceShouldAnimate;return r(t(o.x,o.y),s.movementMode,l,a.isClone,c,u,d)}if(s.phase==="DROP_ANIMATING"){var h=s.completed;if(h.result.draggableId!==a.draggableId)return null;var f=a.isClone,g=s.dimensions.draggables[a.draggableId],p=h.result,v=p.mode,b=wf(p),y=DS(p),_=s.dropDuration,w={duration:_,curve:Vo.drop,moveTo:s.newHomeClientOffset,opacity:y?Wn.opacity.drop:null,scale:y?Wn.scale.drop:null};return{mapped:{type:"DRAGGING",offset:s.newHomeClientOffset,dimension:g,dropping:w,draggingOver:b,combineWith:y,mode:v,forceShouldAnimate:null,snapshot:e(v,f,b,y,w)}}}return null};return n}function _f(t){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}var ES={mapped:{type:"SECONDARY",offset:_e,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:_f(null)}};function OS(){var t=xe(function(a,o){return{x:a,y:o}}),e=xe(_f),r=xe(function(a,o,l){return o===void 0&&(o=null),{mapped:{type:"SECONDARY",offset:a,combineTargetFor:o,shouldAnimateDisplacement:l,snapshot:e(o)}}}),n=function(o){return o?r(_e,o,!0):null},i=function(o,l,c,u){var d=c.displaced.visible[o],h=!!(u.inVirtualList&&u.effected[o]),f=Ws(c),g=f&&f.draggableId===o?l:null;if(!d){if(!h)return n(g);if(c.displaced.invisible[o])return null;var p=tn(u.displacedBy.point),v=t(p.x,p.y);return r(v,g,!0)}if(h)return n(g);var b=c.displacedBy.point,y=t(b.x,b.y);return r(y,g,d.shouldAnimate)},s=function(o,l){if(o.isDragging)return o.critical.draggable.id===l.draggableId?null:i(l.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){var c=o.completed;return c.result.draggableId===l.draggableId?null:i(l.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null};return s}var TS=function(){var e=PS(),r=OS(),n=function(s,a){return e(s,a)||r(s,a)||ES};return n},AS={dropAnimationFinished:ef},IS=kh(TS,AS,null,{context:Xo,pure:!0,areStatePropsEqual:xf})(kS);function Sf(t){var e=os(Zo),r=e.isUsingCloneFor;return r===t.draggableId&&!t.isClone?null:Y.createElement(IS,t)}function MS(t){var e=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,r=!!t.disableInteractiveElementBlocking,n=!!t.shouldRespectForcePress;return Y.createElement(Sf,H({},t,{isClone:!1,isEnabled:e,canDragInteractiveElements:r,shouldRespectForcePress:n}))}function RS(t){var e=P.useContext(qs);e||I();var r=e.contextId,n=e.isMovementAllowed,i=P.useRef(null),s=P.useRef(null),a=t.children,o=t.droppableId,l=t.type,c=t.mode,u=t.direction,d=t.ignoreContainerClipping,h=t.isDropDisabled,f=t.isCombineEnabled,g=t.snapshot,p=t.useClone,v=t.updateViewportMaxScroll,b=t.getContainerForClone,y=z(function(){return i.current},[]),_=z(function(M){i.current=M},[]);z(function(){return s.current},[]);var w=z(function(M){s.current=M},[]),S=z(function(){n()&&v({maxScroll:af()})},[n,v]);cS({droppableId:o,type:l,mode:c,direction:u,isDropDisabled:h,isCombineEnabled:f,ignoreContainerClipping:d,getDroppableRef:y});var D=Y.createElement(gS,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},function(M){var R=M.onClose,F=M.data,W=M.animate;return Y.createElement(fS,{placeholder:F,onClose:R,innerRef:w,animate:W,contextId:r,onTransitionEnd:S})}),E=Z(function(){return{innerRef:_,placeholder:D,droppableProps:{"data-rbd-droppable-id":o,"data-rbd-droppable-context-id":r}}},[r,o,D,_]),O=p?p.dragging.draggableId:null,T=Z(function(){return{droppableId:o,type:l,isUsingCloneFor:O}},[o,O,l]);function L(){if(!p)return null;var M=p.dragging,R=p.render,F=Y.createElement(Sf,{draggableId:M.draggableId,index:M.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(W,B){return R(W,B,M)});return Og.createPortal(F,b())}return Y.createElement(Zo.Provider,{value:T},a(E,g),L())}var _a=function(e,r){return e===r.droppable.type},Bc=function(e,r){return r.draggables[e.draggable.id]},jS=function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},r=H({},e,{shouldAnimatePlaceholder:!1}),n=xe(function(a){return{draggableId:a.id,type:a.type,source:{index:a.index,droppableId:a.droppableId}}}),i=xe(function(a,o,l,c,u,d){var h=u.descriptor.id,f=u.descriptor.droppableId===a;if(f){var g=d?{render:d,dragging:n(u.descriptor)}:null,p={isDraggingOver:l,draggingOverWith:l?h:null,draggingFromThisWith:h,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!1,snapshot:p,useClone:g}}if(!o)return r;if(!c)return e;var v={isDraggingOver:l,draggingOverWith:h,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!0,snapshot:v,useClone:null}}),s=function(o,l){var c=l.droppableId,u=l.type,d=!l.isDropDisabled,h=l.renderClone;if(o.isDragging){var f=o.critical;if(!_a(u,f))return r;var g=Bc(f,o.dimensions),p=Ke(o.impact)===c;return i(c,d,p,p,g,h)}if(o.phase==="DROP_ANIMATING"){var v=o.completed;if(!_a(u,v.critical))return r;var b=Bc(v.critical,o.dimensions);return i(c,d,wf(v.result)===c,Ke(v.impact)===c,b,h)}if(o.phase==="IDLE"&&o.completed&&!o.shouldFlush){var y=o.completed;if(!_a(u,y.critical))return r;var _=Ke(y.impact)===c,w=!!(y.impact.at&&y.impact.at.type==="COMBINE"),S=y.critical.droppable.id===c;return _?w?e:r:S?e:r}return r};return s},NS={updateViewportMaxScroll:Vx};function LS(){return document.body||I(),document.body}var FS={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:LS},kf=kh(jS,NS,null,{context:Xo,pure:!0,areStatePropsEqual:xf})(RS);kf.defaultProps=FS;function _r(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function ke(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function gt(t){ke(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||xr(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function BS(t,e){ke(2,arguments);var r=gt(t).getTime(),n=_r(e);return new Date(r+n)}var $S={};function Ys(){return $S}function US(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function $c(t){ke(1,arguments);var e=gt(t);return e.setHours(0,0,0,0),e}function WS(t,e){ke(2,arguments);var r=$c(t),n=$c(e);return r.getTime()===n.getTime()}function zS(t){return ke(1,arguments),t instanceof Date||xr(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function VS(t){if(ke(1,arguments),!zS(t)&&typeof t!="number")return!1;var e=gt(t);return!isNaN(Number(e))}function HS(t,e){ke(2,arguments);var r=_r(e);return BS(t,-r)}var qS=864e5;function GS(t){ke(1,arguments);var e=gt(t),r=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var n=e.getTime(),i=r-n;return Math.floor(i/qS)+1}function ls(t){ke(1,arguments);var e=1,r=gt(t),n=r.getUTCDay(),i=(n<e?7:0)+n-e;return r.setUTCDate(r.getUTCDate()-i),r.setUTCHours(0,0,0,0),r}function Df(t){ke(1,arguments);var e=gt(t),r=e.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var i=ls(n),s=new Date(0);s.setUTCFullYear(r,0,4),s.setUTCHours(0,0,0,0);var a=ls(s);return e.getTime()>=i.getTime()?r+1:e.getTime()>=a.getTime()?r:r-1}function YS(t){ke(1,arguments);var e=Df(t),r=new Date(0);r.setUTCFullYear(e,0,4),r.setUTCHours(0,0,0,0);var n=ls(r);return n}var KS=6048e5;function XS(t){ke(1,arguments);var e=gt(t),r=ls(e).getTime()-YS(e).getTime();return Math.round(r/KS)+1}function cs(t,e){var r,n,i,s,a,o,l,c;ke(1,arguments);var u=Ys(),d=_r((r=(n=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(a=e.locale)===null||a===void 0||(o=a.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&i!==void 0?i:u.weekStartsOn)!==null&&n!==void 0?n:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=gt(t),f=h.getUTCDay(),g=(f<d?7:0)+f-d;return h.setUTCDate(h.getUTCDate()-g),h.setUTCHours(0,0,0,0),h}function Cf(t,e){var r,n,i,s,a,o,l,c;ke(1,arguments);var u=gt(t),d=u.getUTCFullYear(),h=Ys(),f=_r((r=(n=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(a=e.locale)===null||a===void 0||(o=a.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&n!==void 0?n:(l=h.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(d+1,0,f),g.setUTCHours(0,0,0,0);var p=cs(g,e),v=new Date(0);v.setUTCFullYear(d,0,f),v.setUTCHours(0,0,0,0);var b=cs(v,e);return u.getTime()>=p.getTime()?d+1:u.getTime()>=b.getTime()?d:d-1}function JS(t,e){var r,n,i,s,a,o,l,c;ke(1,arguments);var u=Ys(),d=_r((r=(n=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(a=e.locale)===null||a===void 0||(o=a.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&i!==void 0?i:u.firstWeekContainsDate)!==null&&n!==void 0?n:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1),h=Cf(t,e),f=new Date(0);f.setUTCFullYear(h,0,d),f.setUTCHours(0,0,0,0);var g=cs(f,e);return g}var QS=6048e5;function ZS(t,e){ke(1,arguments);var r=gt(t),n=cs(r,e).getTime()-JS(r,e).getTime();return Math.round(n/QS)+1}function te(t,e){for(var r=t<0?"-":"",n=Math.abs(t).toString();n.length<e;)n="0"+n;return r+n}var Mt={y:function(e,r){var n=e.getUTCFullYear(),i=n>0?n:1-n;return te(r==="yy"?i%100:i,r.length)},M:function(e,r){var n=e.getUTCMonth();return r==="M"?String(n+1):te(n+1,2)},d:function(e,r){return te(e.getUTCDate(),r.length)},a:function(e,r){var n=e.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(e,r){return te(e.getUTCHours()%12||12,r.length)},H:function(e,r){return te(e.getUTCHours(),r.length)},m:function(e,r){return te(e.getUTCMinutes(),r.length)},s:function(e,r){return te(e.getUTCSeconds(),r.length)},S:function(e,r){var n=r.length,i=e.getUTCMilliseconds(),s=Math.floor(i*Math.pow(10,n-3));return te(s,r.length)}},Lr={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},e1={G:function(e,r,n){var i=e.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(e,r,n){if(r==="yo"){var i=e.getUTCFullYear(),s=i>0?i:1-i;return n.ordinalNumber(s,{unit:"year"})}return Mt.y(e,r)},Y:function(e,r,n,i){var s=Cf(e,i),a=s>0?s:1-s;if(r==="YY"){var o=a%100;return te(o,2)}return r==="Yo"?n.ordinalNumber(a,{unit:"year"}):te(a,r.length)},R:function(e,r){var n=Df(e);return te(n,r.length)},u:function(e,r){var n=e.getUTCFullYear();return te(n,r.length)},Q:function(e,r,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"Q":return String(i);case"QQ":return te(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,r,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"q":return String(i);case"qq":return te(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,r,n){var i=e.getUTCMonth();switch(r){case"M":case"MM":return Mt.M(e,r);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,r,n){var i=e.getUTCMonth();switch(r){case"L":return String(i+1);case"LL":return te(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,r,n,i){var s=ZS(e,i);return r==="wo"?n.ordinalNumber(s,{unit:"week"}):te(s,r.length)},I:function(e,r,n){var i=XS(e);return r==="Io"?n.ordinalNumber(i,{unit:"week"}):te(i,r.length)},d:function(e,r,n){return r==="do"?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):Mt.d(e,r)},D:function(e,r,n){var i=GS(e);return r==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):te(i,r.length)},E:function(e,r,n){var i=e.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,r,n,i){var s=e.getUTCDay(),a=(s-i.weekStartsOn+8)%7||7;switch(r){case"e":return String(a);case"ee":return te(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,r,n,i){var s=e.getUTCDay(),a=(s-i.weekStartsOn+8)%7||7;switch(r){case"c":return String(a);case"cc":return te(a,r.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,r,n){var i=e.getUTCDay(),s=i===0?7:i;switch(r){case"i":return String(s);case"ii":return te(s,r.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,r,n){var i=e.getUTCHours(),s=i/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,r,n){var i=e.getUTCHours(),s;switch(i===12?s=Lr.noon:i===0?s=Lr.midnight:s=i/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,r,n){var i=e.getUTCHours(),s;switch(i>=17?s=Lr.evening:i>=12?s=Lr.afternoon:i>=4?s=Lr.morning:s=Lr.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,r,n){if(r==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return Mt.h(e,r)},H:function(e,r,n){return r==="Ho"?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Mt.H(e,r)},K:function(e,r,n){var i=e.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(i,{unit:"hour"}):te(i,r.length)},k:function(e,r,n){var i=e.getUTCHours();return i===0&&(i=24),r==="ko"?n.ordinalNumber(i,{unit:"hour"}):te(i,r.length)},m:function(e,r,n){return r==="mo"?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Mt.m(e,r)},s:function(e,r,n){return r==="so"?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Mt.s(e,r)},S:function(e,r){return Mt.S(e,r)},X:function(e,r,n,i){var s=i._originalDate||e,a=s.getTimezoneOffset();if(a===0)return"Z";switch(r){case"X":return Wc(a);case"XXXX":case"XX":return ur(a);case"XXXXX":case"XXX":default:return ur(a,":")}},x:function(e,r,n,i){var s=i._originalDate||e,a=s.getTimezoneOffset();switch(r){case"x":return Wc(a);case"xxxx":case"xx":return ur(a);case"xxxxx":case"xxx":default:return ur(a,":")}},O:function(e,r,n,i){var s=i._originalDate||e,a=s.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+Uc(a,":");case"OOOO":default:return"GMT"+ur(a,":")}},z:function(e,r,n,i){var s=i._originalDate||e,a=s.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+Uc(a,":");case"zzzz":default:return"GMT"+ur(a,":")}},t:function(e,r,n,i){var s=i._originalDate||e,a=Math.floor(s.getTime()/1e3);return te(a,r.length)},T:function(e,r,n,i){var s=i._originalDate||e,a=s.getTime();return te(a,r.length)}};function Uc(t,e){var r=t>0?"-":"+",n=Math.abs(t),i=Math.floor(n/60),s=n%60;if(s===0)return r+String(i);var a=e;return r+String(i)+a+te(s,2)}function Wc(t,e){if(t%60===0){var r=t>0?"-":"+";return r+te(Math.abs(t)/60,2)}return ur(t,e)}function ur(t,e){var r=e||"",n=t>0?"-":"+",i=Math.abs(t),s=te(Math.floor(i/60),2),a=te(i%60,2);return n+s+r+a}var zc=function(e,r){switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},Pf=function(e,r){switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},t1=function(e,r){var n=e.match(/(P+)(p+)?/)||[],i=n[1],s=n[2];if(!s)return zc(e,r);var a;switch(i){case"P":a=r.dateTime({width:"short"});break;case"PP":a=r.dateTime({width:"medium"});break;case"PPP":a=r.dateTime({width:"long"});break;case"PPPP":default:a=r.dateTime({width:"full"});break}return a.replace("{{date}}",zc(i,r)).replace("{{time}}",Pf(s,r))},r1={p:Pf,P:t1},n1=["D","DD"],i1=["YY","YYYY"];function s1(t){return n1.indexOf(t)!==-1}function a1(t){return i1.indexOf(t)!==-1}function Vc(t,e,r){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var o1={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},l1=function(e,r,n){var i,s=o1[e];return typeof s=="string"?i=s:r===1?i=s.one:i=s.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function Wr(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.width?String(e.width):t.defaultWidth,n=t.formats[r]||t.formats[t.defaultWidth];return n}}var c1={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},u1={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},d1={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},h1={date:Wr({formats:c1,defaultWidth:"full"}),time:Wr({formats:u1,defaultWidth:"full"}),dateTime:Wr({formats:d1,defaultWidth:"full"})},f1={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},g1=function(e,r,n,i){return f1[e]};function wt(t){return function(e,r){var n=r!=null&&r.context?String(r.context):"standalone",i;if(n==="formatting"&&t.formattingValues){var s=t.defaultFormattingWidth||t.defaultWidth,a=r!=null&&r.width?String(r.width):s;i=t.formattingValues[a]||t.formattingValues[s]}else{var o=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[l]||t.values[o]}var c=t.argumentCallback?t.argumentCallback(e):e;return i[c]}}var p1={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},m1={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},v1={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},b1={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},y1={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},x1={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},w1=function(e,r){var n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},_1={ordinalNumber:w1,era:wt({values:p1,defaultWidth:"wide"}),quarter:wt({values:m1,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:wt({values:v1,defaultWidth:"wide"}),day:wt({values:b1,defaultWidth:"wide"}),dayPeriod:wt({values:y1,defaultWidth:"wide",formattingValues:x1,defaultFormattingWidth:"wide"})};function _t(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;var a=s[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?k1(o,function(d){return d.test(a)}):S1(o,function(d){return d.test(a)}),c;c=t.valueCallback?t.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;var u=e.slice(a.length);return{value:c,rest:u}}}function S1(t,e){for(var r in t)if(t.hasOwnProperty(r)&&e(t[r]))return r}function k1(t,e){for(var r=0;r<t.length;r++)if(e(t[r]))return r}function Ef(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.match(t.matchPattern);if(!n)return null;var i=n[0],s=e.match(t.parsePattern);if(!s)return null;var a=t.valueCallback?t.valueCallback(s[0]):s[0];a=r.valueCallback?r.valueCallback(a):a;var o=e.slice(i.length);return{value:a,rest:o}}}var D1=/^(\d+)(th|st|nd|rd)?/i,C1=/\d+/i,P1={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},E1={any:[/^b/i,/^(a|c)/i]},O1={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},T1={any:[/1/i,/2/i,/3/i,/4/i]},A1={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},I1={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},M1={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},R1={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},j1={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},N1={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},L1={ordinalNumber:Ef({matchPattern:D1,parsePattern:C1,valueCallback:function(e){return parseInt(e,10)}}),era:_t({matchPatterns:P1,defaultMatchWidth:"wide",parsePatterns:E1,defaultParseWidth:"any"}),quarter:_t({matchPatterns:O1,defaultMatchWidth:"wide",parsePatterns:T1,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:_t({matchPatterns:A1,defaultMatchWidth:"wide",parsePatterns:I1,defaultParseWidth:"any"}),day:_t({matchPatterns:M1,defaultMatchWidth:"wide",parsePatterns:R1,defaultParseWidth:"any"}),dayPeriod:_t({matchPatterns:j1,defaultMatchWidth:"any",parsePatterns:N1,defaultParseWidth:"any"})},F1={code:"en-US",formatDistance:l1,formatLong:h1,formatRelative:g1,localize:_1,match:L1,options:{weekStartsOn:0,firstWeekContainsDate:1}},B1=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$1=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,U1=/^'([^]*?)'?$/,W1=/''/g,z1=/[a-zA-Z]/;function Qa(t,e,r){var n,i,s,a,o,l,c,u,d,h,f,g,p,v,b,y,_,w;ke(2,arguments);var S=String(e),D=Ys(),E=(n=(i=r==null?void 0:r.locale)!==null&&i!==void 0?i:D.locale)!==null&&n!==void 0?n:F1,O=_r((s=(a=(o=(l=r==null?void 0:r.firstWeekContainsDate)!==null&&l!==void 0?l:r==null||(c=r.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&o!==void 0?o:D.firstWeekContainsDate)!==null&&a!==void 0?a:(d=D.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(O>=1&&O<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var T=_r((f=(g=(p=(v=r==null?void 0:r.weekStartsOn)!==null&&v!==void 0?v:r==null||(b=r.locale)===null||b===void 0||(y=b.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&p!==void 0?p:D.weekStartsOn)!==null&&g!==void 0?g:(_=D.locale)===null||_===void 0||(w=_.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&f!==void 0?f:0);if(!(T>=0&&T<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!E.localize)throw new RangeError("locale must contain localize property");if(!E.formatLong)throw new RangeError("locale must contain formatLong property");var L=gt(t);if(!VS(L))throw new RangeError("Invalid time value");var M=US(L),R=HS(L,M),F={firstWeekContainsDate:O,weekStartsOn:T,locale:E,_originalDate:L},W=S.match($1).map(function(B){var V=B[0];if(V==="p"||V==="P"){var X=r1[V];return X(B,E.formatLong)}return B}).join("").match(B1).map(function(B){if(B==="''")return"'";var V=B[0];if(V==="'")return V1(B);var X=e1[V];if(X)return!(r!=null&&r.useAdditionalWeekYearTokens)&&a1(B)&&Vc(B,e,String(t)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&s1(B)&&Vc(B,e,String(t)),X(R,B,E.localize,F);if(V.match(z1))throw new RangeError("Format string contains an unescaped latin alphabet character `"+V+"`");return B}).join("");return W}function V1(t){var e=t.match(U1);return e?e[1].replace(W1,"'"):t}function H1(t){return ke(1,arguments),WS(t,Date.now())}var q1={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},G1=function(e,r,n){var i,s=q1[e];return typeof s=="string"?i=s:r===1?i=s.one:i=s.other.replace("{{count}}",String(r)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"em "+i:"h "+i:i},Y1={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},K1={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},X1={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},J1={date:Wr({formats:Y1,defaultWidth:"full"}),time:Wr({formats:K1,defaultWidth:"full"}),dateTime:Wr({formats:X1,defaultWidth:"full"})},Q1={lastWeek:function(e){var r=e.getUTCDay(),n=r===0||r===6?"ltimo":"ltima";return"'"+n+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},Z1=function(e,r,n,i){var s=Q1[e];return typeof s=="function"?s(r):s},ek={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},tk={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},rk={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},nk={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},ik={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},sk={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},ak=function(e,r){var n=Number(e);return(r==null?void 0:r.unit)==="week"?n+"":n+""},ok={ordinalNumber:ak,era:wt({values:ek,defaultWidth:"wide"}),quarter:wt({values:tk,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:wt({values:rk,defaultWidth:"wide"}),day:wt({values:nk,defaultWidth:"wide"}),dayPeriod:wt({values:ik,defaultWidth:"wide",formattingValues:sk,defaultFormattingWidth:"wide"})},lk=/^(\d+)[o]?/i,ck=/\d+/i,uk={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},dk={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},hk={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},fk={any:[/1/i,/2/i,/3/i,/4/i]},gk={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},pk={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},mk={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},vk={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},bk={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},yk={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},xk={ordinalNumber:Ef({matchPattern:lk,parsePattern:ck,valueCallback:function(e){return parseInt(e,10)}}),era:_t({matchPatterns:uk,defaultMatchWidth:"wide",parsePatterns:dk,defaultParseWidth:"any"}),quarter:_t({matchPatterns:hk,defaultMatchWidth:"wide",parsePatterns:fk,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:_t({matchPatterns:gk,defaultMatchWidth:"wide",parsePatterns:pk,defaultParseWidth:"any"}),day:_t({matchPatterns:mk,defaultMatchWidth:"wide",parsePatterns:vk,defaultParseWidth:"any"}),dayPeriod:_t({matchPatterns:bk,defaultMatchWidth:"any",parsePatterns:yk,defaultParseWidth:"any"})},Of={code:"pt-BR",formatDistance:G1,formatLong:J1,formatRelative:Z1,localize:ok,match:xk,options:{weekStartsOn:0,firstWeekContainsDate:1}};const wk=({conversation:t,onClose:e})=>{const[r,n]=P.useState(""),{user:i}=Cr(),{assignConversation:s,updateConversationStatus:a}=ko(),[o]=P.useState([{id:"1",sender:"customer",text:"Ol, gostaria de saber se vocs tm o medicamento Dipirona em estoque.",timestamp:new Date(t.last_message_time).getTime()-1e3*60*5},{id:"2",sender:"ai",text:"Ol! Sim, temos Dipirona em estoque. Posso verificar as opes disponveis. Voc prefere em comprimido, gotas ou injetvel?",timestamp:new Date(t.last_message_time).getTime()-1e3*60*4},{id:"3",sender:"customer",text:"Preciso de comprimidos. Qual o preo da caixa com 20 comprimidos?",timestamp:new Date(t.last_message_time).getTime()-1e3*60*3},{id:"4",sender:"ai",text:t.last_message,timestamp:new Date(t.last_message_time).getTime()}]),l=h=>Qa(new Date(h),"HH:mm",{locale:Of}),c=h=>{h.preventDefault(),r.trim()&&(console.log("Sending message:",r),n(""))},u=async()=>{i&&(await s(t.id,i.id),await a(t.id,"waiting"),e())},d=t.assigned_to===(i==null?void 0:i.id);return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-2xl h-[80vh] flex flex-col",children:[m.jsxs("div",{className:"p-4 border-b flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"bg-gray-100 rounded-full w-10 h-10 flex items-center justify-center text-gray-600 mr-3",children:m.jsx(gm,{size:20})}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-medium text-gray-800",children:t.customer_name}),m.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[m.jsx(Ed,{size:14,className:"mr-1"}),m.jsx("span",{children:t.customer_phone})]})]})]}),m.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700",children:m.jsx(vo,{size:20})})]}),m.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-50",children:m.jsx("div",{className:"space-y-4",children:o.map(h=>m.jsx("div",{className:`flex ${h.sender==="customer"?"justify-start":"justify-end"}`,children:m.jsxs("div",{className:`max-w-[70%] rounded-lg p-3 ${h.sender==="customer"?"bg-white border border-gray-200":h.sender==="ai"?"bg-secondary-100 text-secondary-800":"bg-primary-100 text-primary-800"}`,children:[m.jsx("div",{className:"text-sm",children:h.text}),m.jsx("div",{className:"text-right mt-1",children:m.jsx("span",{className:"text-xs text-gray-500",children:l(h.timestamp)})})]})},h.id))})}),m.jsx("div",{className:"p-4 border-t",children:t.status==="ongoing"&&!d?m.jsx("button",{onClick:u,className:"w-full py-2 px-4 bg-primary-500 hover:bg-primary-600 text-white rounded-md font-medium transition",children:"Assumir Conversa"}):m.jsxs("form",{onSubmit:c,className:"flex items-center gap-2",children:[m.jsx("input",{type:"text",value:r,onChange:h=>n(h.target.value),placeholder:"Digite sua mensagem...",className:"flex-1 border border-gray-300 rounded-md py-2 px-3 focus:outline-none focus:ring-2 focus:ring-primary-400 focus:border-transparent"}),m.jsx("button",{type:"submit",className:"bg-primary-500 hover:bg-primary-600 text-white rounded-md p-2 transition",children:m.jsx(dm,{size:18})})]})})]})})},_k=({conversation:t})=>{const[e,r]=P.useState(!1),n=i=>{const s=new Date(i);return H1(s)?`Hoje s ${Qa(s,"HH:mm")}`:Qa(s,"dd 'de' MMMM 's' HH:mm",{locale:Of})};return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:`bg-white rounded-md shadow-card hover:shadow-card-hover p-4 cursor-pointer transition ${t.is_new?"ring-2 ring-accent-400":""}`,onClick:()=>r(!0),children:[m.jsxs("div",{className:"flex justify-between items-start mb-2",children:[m.jsx("h4",{className:"font-medium text-gray-800 truncate",children:t.customer_name}),m.jsx("div",{className:`text-xs px-2 py-1 rounded-full ${t.type==="vendor"?"bg-secondary-100 text-secondary-600":"bg-primary-100 text-primary-600"}`,children:t.type==="vendor"?"Vendedor":"Farmacutico"})]}),m.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:t.last_message}),m.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[m.jsx(Cd,{size:12,className:"mr-1"}),m.jsx("span",{children:n(t.last_message_time)})]}),m.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[m.jsx(Ed,{size:12,className:"mr-1"}),m.jsx("span",{children:t.customer_phone})]}),t.is_new&&m.jsx("span",{className:"inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white bg-accent-500 rounded-full animate-pulse-slow",children:"Nova"})]})]}),e&&m.jsx(wk,{conversation:t,onClose:()=>r(!1)})]})},Sk=()=>{const{conversations:t,updateConversationStatus:e,assignConversation:r}=ko(),{user:n}=Cr(),[i,s]=P.useState({ongoing:[],waiting:[],completed:[]});P.useEffect(()=>{t.find(c=>c.is_new)&&(new Audio("/notification.mp3").play().catch(u=>console.log("Error playing notification sound:",u)),pr.success("Nova conversa recebida!",{icon:""}));const l=t.reduce((c,u)=>{const d=u.status;return{...c,[d]:[...c[d],u]}},{ongoing:[],waiting:[],completed:[]});s(l)},[t]);const a=async o=>{const{source:l,destination:c,draggableId:u}=o;if(!c||l.droppableId===c.droppableId&&l.index===c.index)return;const d=t.find(f=>f.id===u);if(!d)return;const h=c.droppableId;h!==d.status&&(await e(u,h),h==="waiting"&&n&&await r(u,n.id))};return m.jsx(X_,{onDragEnd:a,children:m.jsx("div",{className:"flex flex-col lg:flex-row gap-4",children:Object.entries(i).map(([o,l])=>m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("h3",{className:"text-md font-semibold mb-3 text-gray-700 flex items-center",children:[m.jsx(Dk,{status:o}),m.jsx("span",{className:"ml-2",children:kk(o)}),m.jsx("span",{className:"ml-2 bg-gray-100 text-gray-600 rounded-full px-2 py-0.5 text-xs",children:l.length})]}),m.jsx(kf,{droppableId:o,children:c=>m.jsxs("div",{ref:c.innerRef,...c.droppableProps,className:"bg-gray-50 rounded-md p-3 min-h-[500px] border border-gray-200",children:[l.length===0?m.jsx("div",{className:"flex items-center justify-center h-20 text-gray-400 text-sm",children:"Sem conversas"}):l.map((u,d)=>m.jsx(MS,{draggableId:u.id,index:d,children:h=>m.jsx("div",{ref:h.innerRef,...h.draggableProps,...h.dragHandleProps,className:"mb-3",children:m.jsx(_k,{conversation:u})})},u.id)),c.placeholder]})})]},o))})})},kk=t=>{switch(t){case"ongoing":return"Conversas em Andamento";case"waiting":return"Aguardando Atendimento";case"completed":return"Conversas Finalizadas";default:return""}},Dk=({status:t})=>{const e={ongoing:"text-blue-500",waiting:"text-orange-500",completed:"text-green-500"};return m.jsx("span",{className:`inline-block w-3 h-3 rounded-full ${e[t]}`,children:m.jsx("span",{className:`animate-ping absolute inline-flex h-3 w-3 rounded-full ${e[t]} opacity-75`})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function ui(t){return t+.5|0}const Ut=(t,e,r)=>Math.max(Math.min(t,r),e);function xn(t){return Ut(ui(t*2.55),0,255)}function qt(t){return Ut(ui(t*255),0,255)}function At(t){return Ut(ui(t/2.55)/100,0,1)}function Hc(t){return Ut(ui(t*100),0,100)}const Ze={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Za=[..."0123456789ABCDEF"],Ck=t=>Za[t&15],Pk=t=>Za[(t&240)>>4]+Za[t&15],Di=t=>(t&240)>>4===(t&15),Ek=t=>Di(t.r)&&Di(t.g)&&Di(t.b)&&Di(t.a);function Ok(t){var e=t.length,r;return t[0]==="#"&&(e===4||e===5?r={r:255&Ze[t[1]]*17,g:255&Ze[t[2]]*17,b:255&Ze[t[3]]*17,a:e===5?Ze[t[4]]*17:255}:(e===7||e===9)&&(r={r:Ze[t[1]]<<4|Ze[t[2]],g:Ze[t[3]]<<4|Ze[t[4]],b:Ze[t[5]]<<4|Ze[t[6]],a:e===9?Ze[t[7]]<<4|Ze[t[8]]:255})),r}const Tk=(t,e)=>t<255?e(t):"";function Ak(t){var e=Ek(t)?Ck:Pk;return t?"#"+e(t.r)+e(t.g)+e(t.b)+Tk(t.a,e):void 0}const Ik=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Tf(t,e,r){const n=e*Math.min(r,1-r),i=(s,a=(s+t/30)%12)=>r-n*Math.max(Math.min(a-3,9-a,1),-1);return[i(0),i(8),i(4)]}function Mk(t,e,r){const n=(i,s=(i+t/60)%6)=>r-r*e*Math.max(Math.min(s,4-s,1),0);return[n(5),n(3),n(1)]}function Rk(t,e,r){const n=Tf(t,1,.5);let i;for(e+r>1&&(i=1/(e+r),e*=i,r*=i),i=0;i<3;i++)n[i]*=1-e-r,n[i]+=e;return n}function jk(t,e,r,n,i){return t===i?(e-r)/n+(e<r?6:0):e===i?(r-t)/n+2:(t-e)/n+4}function el(t){const r=t.r/255,n=t.g/255,i=t.b/255,s=Math.max(r,n,i),a=Math.min(r,n,i),o=(s+a)/2;let l,c,u;return s!==a&&(u=s-a,c=o>.5?u/(2-s-a):u/(s+a),l=jk(r,n,i,u,s),l=l*60+.5),[l|0,c||0,o]}function tl(t,e,r,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,r,n)).map(qt)}function rl(t,e,r){return tl(Tf,t,e,r)}function Nk(t,e,r){return tl(Rk,t,e,r)}function Lk(t,e,r){return tl(Mk,t,e,r)}function Af(t){return(t%360+360)%360}function Fk(t){const e=Ik.exec(t);let r=255,n;if(!e)return;e[5]!==n&&(r=e[6]?xn(+e[5]):qt(+e[5]));const i=Af(+e[2]),s=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?n=Nk(i,s,a):e[1]==="hsv"?n=Lk(i,s,a):n=rl(i,s,a),{r:n[0],g:n[1],b:n[2],a:r}}function Bk(t,e){var r=el(t);r[0]=Af(r[0]+e),r=rl(r),t.r=r[0],t.g=r[1],t.b=r[2]}function $k(t){if(!t)return;const e=el(t),r=e[0],n=Hc(e[1]),i=Hc(e[2]);return t.a<255?`hsla(${r}, ${n}%, ${i}%, ${At(t.a)})`:`hsl(${r}, ${n}%, ${i}%)`}const qc={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Gc={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Uk(){const t={},e=Object.keys(Gc),r=Object.keys(qc);let n,i,s,a,o;for(n=0;n<e.length;n++){for(a=o=e[n],i=0;i<r.length;i++)s=r[i],o=o.replace(s,qc[s]);s=parseInt(Gc[a],16),t[o]=[s>>16&255,s>>8&255,s&255]}return t}let Ci;function Wk(t){Ci||(Ci=Uk(),Ci.transparent=[0,0,0,0]);const e=Ci[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const zk=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Vk(t){const e=zk.exec(t);let r=255,n,i,s;if(e){if(e[7]!==n){const a=+e[7];r=e[8]?xn(a):Ut(a*255,0,255)}return n=+e[1],i=+e[3],s=+e[5],n=255&(e[2]?xn(n):Ut(n,0,255)),i=255&(e[4]?xn(i):Ut(i,0,255)),s=255&(e[6]?xn(s):Ut(s,0,255)),{r:n,g:i,b:s,a:r}}}function Hk(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${At(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Sa=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Fr=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function qk(t,e,r){const n=Fr(At(t.r)),i=Fr(At(t.g)),s=Fr(At(t.b));return{r:qt(Sa(n+r*(Fr(At(e.r))-n))),g:qt(Sa(i+r*(Fr(At(e.g))-i))),b:qt(Sa(s+r*(Fr(At(e.b))-s))),a:t.a+r*(e.a-t.a)}}function Pi(t,e,r){if(t){let n=el(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*r,e===0?360:1)),n=rl(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function If(t,e){return t&&Object.assign(e||{},t)}function Yc(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=qt(t[3]))):(e=If(t,{r:0,g:0,b:0,a:1}),e.a=qt(e.a)),e}function Gk(t){return t.charAt(0)==="r"?Vk(t):Fk(t)}class zn{constructor(e){if(e instanceof zn)return e;const r=typeof e;let n;r==="object"?n=Yc(e):r==="string"&&(n=Ok(e)||Wk(e)||Gk(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=If(this._rgb);return e&&(e.a=At(e.a)),e}set rgb(e){this._rgb=Yc(e)}rgbString(){return this._valid?Hk(this._rgb):void 0}hexString(){return this._valid?Ak(this._rgb):void 0}hslString(){return this._valid?$k(this._rgb):void 0}mix(e,r){if(e){const n=this.rgb,i=e.rgb;let s;const a=r===s?.5:r,o=2*a-1,l=n.a-i.a,c=((o*l===-1?o:(o+l)/(1+o*l))+1)/2;s=1-c,n.r=255&c*n.r+s*i.r+.5,n.g=255&c*n.g+s*i.g+.5,n.b=255&c*n.b+s*i.b+.5,n.a=a*n.a+(1-a)*i.a,this.rgb=n}return this}interpolate(e,r){return e&&(this._rgb=qk(this._rgb,e._rgb,r)),this}clone(){return new zn(this.rgb)}alpha(e){return this._rgb.a=qt(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=ui(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Pi(this._rgb,2,e),this}darken(e){return Pi(this._rgb,2,-e),this}saturate(e){return Pi(this._rgb,1,e),this}desaturate(e){return Pi(this._rgb,1,-e),this}rotate(e){return Bk(this._rgb,e),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Pt(){}const Yk=(()=>{let t=0;return()=>t++})();function ae(t){return t==null}function be(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Q(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Re(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function pt(t,e){return Re(t)?t:e}function J(t,e){return typeof t>"u"?e:t}const Kk=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function le(t,e,r){if(t&&typeof t.call=="function")return t.apply(r,e)}function re(t,e,r,n){let i,s,a;if(be(t))for(s=t.length,i=0;i<s;i++)e.call(r,t[i],i);else if(Q(t))for(a=Object.keys(t),s=a.length,i=0;i<s;i++)e.call(r,t[a[i]],a[i])}function us(t,e){let r,n,i,s;if(!t||!e||t.length!==e.length)return!1;for(r=0,n=t.length;r<n;++r)if(i=t[r],s=e[r],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function ds(t){if(be(t))return t.map(ds);if(Q(t)){const e=Object.create(null),r=Object.keys(t),n=r.length;let i=0;for(;i<n;++i)e[r[i]]=ds(t[r[i]]);return e}return t}function Mf(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Xk(t,e,r,n){if(!Mf(t))return;const i=e[t],s=r[t];Q(i)&&Q(s)?Vn(i,s,n):e[t]=ds(s)}function Vn(t,e,r){const n=be(e)?e:[e],i=n.length;if(!Q(t))return t;r=r||{};const s=r.merger||Xk;let a;for(let o=0;o<i;++o){if(a=n[o],!Q(a))continue;const l=Object.keys(a);for(let c=0,u=l.length;c<u;++c)s(l[c],t,a,r)}return t}function An(t,e){return Vn(t,e,{merger:Jk})}function Jk(t,e,r){if(!Mf(t))return;const n=e[t],i=r[t];Q(n)&&Q(i)?An(n,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=ds(i))}const Kc={"":t=>t,x:t=>t.x,y:t=>t.y};function Qk(t){const e=t.split("."),r=[];let n="";for(const i of e)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}function Zk(t){const e=Qk(t);return r=>{for(const n of e){if(n==="")break;r=r&&r[n]}return r}}function hs(t,e){return(Kc[e]||(Kc[e]=Zk(e)))(t)}function nl(t){return t.charAt(0).toUpperCase()+t.slice(1)}const fs=t=>typeof t<"u",Yt=t=>typeof t=="function",Xc=(t,e)=>{if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0};function eD(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const we=Math.PI,ht=2*we,tD=ht+we,gs=Number.POSITIVE_INFINITY,rD=we/180,dt=we/2,sr=we/4,Jc=we*2/3,eo=Math.log10,Xr=Math.sign;function In(t,e,r){return Math.abs(t-e)<r}function Qc(t){const e=Math.round(t);t=In(t,e,t/1e3)?e:t;const r=Math.pow(10,Math.floor(eo(t))),n=t/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function nD(t){const e=[],r=Math.sqrt(t);let n;for(n=1;n<r;n++)t%n===0&&(e.push(n),e.push(t/n));return r===(r|0)&&e.push(r),e.sort((i,s)=>i-s).pop(),e}function iD(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Hn(t){return!iD(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function sD(t,e){const r=Math.round(t);return r-e<=t&&r+e>=t}function aD(t,e,r){let n,i,s;for(n=0,i=t.length;n<i;n++)s=t[n][r],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function vr(t){return t*(we/180)}function oD(t){return t*(180/we)}function Zc(t){if(!Re(t))return;let e=1,r=0;for(;Math.round(t*e)/e!==t;)e*=10,r++;return r}function lD(t,e){const r=e.x-t.x,n=e.y-t.y,i=Math.sqrt(r*r+n*n);let s=Math.atan2(n,r);return s<-.5*we&&(s+=ht),{angle:s,distance:i}}function to(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function cD(t,e){return(t-e+tD)%ht-we}function xt(t){return(t%ht+ht)%ht}function Rf(t,e,r,n){const i=xt(t),s=xt(e),a=xt(r),o=xt(s-i),l=xt(a-i),c=xt(i-s),u=xt(i-a);return i===s||i===a||n&&s===a||o>l&&c<u}function tt(t,e,r){return Math.max(e,Math.min(r,t))}function uD(t){return tt(t,-32768,32767)}function $r(t,e,r,n=1e-6){return t>=Math.min(e,r)-n&&t<=Math.max(e,r)+n}function il(t,e,r){r=r||(a=>t[a]<e);let n=t.length-1,i=0,s;for(;n-i>1;)s=i+n>>1,r(s)?i=s:n=s;return{lo:i,hi:n}}const br=(t,e,r,n)=>il(t,r,n?i=>{const s=t[i][e];return s<r||s===r&&t[i+1][e]===r}:i=>t[i][e]<r),dD=(t,e,r)=>il(t,r,n=>t[n][e]>=r);function hD(t,e,r){let n=0,i=t.length;for(;n<i&&t[n]<e;)n++;for(;i>n&&t[i-1]>r;)i--;return n>0||i<t.length?t.slice(n,i):t}const jf=["push","pop","shift","splice","unshift"];function fD(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),jf.forEach(r=>{const n="_onData"+nl(r),i=t[r];Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value(...s){const a=i.apply(this,s);return t._chartjs.listeners.forEach(o=>{typeof o[n]=="function"&&o[n](...s)}),a}})})}function eu(t,e){const r=t._chartjs;if(!r)return;const n=r.listeners,i=n.indexOf(e);i!==-1&&n.splice(i,1),!(n.length>0)&&(jf.forEach(s=>{delete t[s]}),delete t._chartjs)}function gD(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Nf=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function Lf(t,e){let r=[],n=!1;return function(...i){r=i,n||(n=!0,Nf.call(window,()=>{n=!1,t.apply(e,r)}))}}function pD(t,e){let r;return function(...n){return e?(clearTimeout(r),r=setTimeout(t,e,n)):t.apply(this,n),e}}const sl=t=>t==="start"?"left":t==="end"?"right":"center",Ie=(t,e,r)=>t==="start"?e:t==="end"?r:(e+r)/2,mD=(t,e,r,n)=>t===(n?"left":"right")?r:t==="center"?(e+r)/2:e;function vD(t,e,r){const n=e.length;let i=0,s=n;if(t._sorted){const{iScale:a,vScale:o,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=a.axis,{min:d,max:h,minDefined:f,maxDefined:g}=a.getUserBounds();if(f){if(i=Math.min(br(l,u,d).lo,r?n:br(e,u,a.getPixelForValue(d)).lo),c){const p=l.slice(0,i+1).reverse().findIndex(v=>!ae(v[o.axis]));i-=Math.max(0,p)}i=tt(i,0,n-1)}if(g){let p=Math.max(br(l,a.axis,h,!0).hi+1,r?0:br(e,u,a.getPixelForValue(h),!0).hi+1);if(c){const v=l.slice(p-1).findIndex(b=>!ae(b[o.axis]));p+=Math.max(0,v)}s=tt(p,i,n)-i}else s=n-i}return{start:i,count:s}}function bD(t){const{xScale:e,yScale:r,_scaleRanges:n}=t,i={xmin:e.min,xmax:e.max,ymin:r.min,ymax:r.max};if(!n)return t._scaleRanges=i,!0;const s=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,i),s}const Ei=t=>t===0||t===1,tu=(t,e,r)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*ht/r)),ru=(t,e,r)=>Math.pow(2,-10*t)*Math.sin((t-e)*ht/r)+1,Mn={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*dt)+1,easeOutSine:t=>Math.sin(t*dt),easeInOutSine:t=>-.5*(Math.cos(we*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Ei(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Ei(t)?t:tu(t,.075,.3),easeOutElastic:t=>Ei(t)?t:ru(t,.075,.3),easeInOutElastic(t){return Ei(t)?t:t<.5?.5*tu(t*2,.1125,.45):.5+.5*ru(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Mn.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Mn.easeInBounce(t*2)*.5:Mn.easeOutBounce(t*2-1)*.5+.5};function al(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function nu(t){return al(t)?t:new zn(t)}function ka(t){return al(t)?t:new zn(t).saturate(.5).darken(.1).hexString()}const yD=["x","y","borderWidth","radius","tension"],xD=["color","borderColor","backgroundColor"];function wD(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:xD},numbers:{type:"number",properties:yD}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function _D(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const iu=new Map;function SD(t,e){e=e||{};const r=t+JSON.stringify(e);let n=iu.get(r);return n||(n=new Intl.NumberFormat(t,e),iu.set(r,n)),n}function Ff(t,e,r){return SD(e,r).format(t)}const Bf={values(t){return be(t)?t:""+t},numeric(t,e,r){if(t===0)return"0";const n=this.chart.options.locale;let i,s=t;if(r.length>1){const c=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=kD(t,r)}const a=eo(Math.abs(s)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:i,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),Ff(t,n,l)},logarithmic(t,e,r){if(t===0)return"0";const n=r[e].significand||t/Math.pow(10,Math.floor(eo(t)));return[1,2,3,5,10,15].includes(n)||e>.8*r.length?Bf.numeric.call(this,t,e,r):""}};function kD(t,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&t!==Math.floor(t)&&(r=t-Math.floor(t)),r}var $f={formatters:Bf};function DD(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,r)=>r.lineWidth,tickColor:(e,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:$f.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Sr=Object.create(null),ro=Object.create(null);function Rn(t,e){if(!e)return t;const r=e.split(".");for(let n=0,i=r.length;n<i;++n){const s=r[n];t=t[s]||(t[s]=Object.create(null))}return t}function Da(t,e,r){return typeof e=="string"?Vn(Rn(t,e),r):Vn(Rn(t,""),e)}class CD{constructor(e,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>ka(i.backgroundColor),this.hoverBorderColor=(n,i)=>ka(i.borderColor),this.hoverColor=(n,i)=>ka(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(r)}set(e,r){return Da(this,e,r)}get(e){return Rn(this,e)}describe(e,r){return Da(ro,e,r)}override(e,r){return Da(Sr,e,r)}route(e,r,n,i){const s=Rn(this,e),a=Rn(this,n),o="_"+r;Object.defineProperties(s,{[o]:{value:s[r],writable:!0},[r]:{enumerable:!0,get(){const l=this[o],c=a[i];return Q(l)?Object.assign({},c,l):J(l,c)},set(l){this[o]=l}}})}apply(e){e.forEach(r=>r(this))}}var fe=new CD({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[wD,_D,DD]);function PD(t){return!t||ae(t.size)||ae(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function su(t,e,r,n,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,r.push(i)),s>n&&(n=s),n}function ar(t,e,r){const n=t.currentDevicePixelRatio,i=r!==0?Math.max(r/2,.5):0;return Math.round((e-i)*n)/n+i}function au(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function no(t,e,r,n){Uf(t,e,r,n,null)}function Uf(t,e,r,n,i){let s,a,o,l,c,u,d,h;const f=e.pointStyle,g=e.rotation,p=e.radius;let v=(g||0)*rD;if(f&&typeof f=="object"&&(s=f.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(r,n),t.rotate(v),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(p)||p<=0)){switch(t.beginPath(),f){default:i?t.ellipse(r,n,i/2,p,0,0,ht):t.arc(r,n,p,0,ht),t.closePath();break;case"triangle":u=i?i/2:p,t.moveTo(r+Math.sin(v)*u,n-Math.cos(v)*p),v+=Jc,t.lineTo(r+Math.sin(v)*u,n-Math.cos(v)*p),v+=Jc,t.lineTo(r+Math.sin(v)*u,n-Math.cos(v)*p),t.closePath();break;case"rectRounded":c=p*.516,l=p-c,a=Math.cos(v+sr)*l,d=Math.cos(v+sr)*(i?i/2-c:l),o=Math.sin(v+sr)*l,h=Math.sin(v+sr)*(i?i/2-c:l),t.arc(r-d,n-o,c,v-we,v-dt),t.arc(r+h,n-a,c,v-dt,v),t.arc(r+d,n+o,c,v,v+dt),t.arc(r-h,n+a,c,v+dt,v+we),t.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*p,u=i?i/2:l,t.rect(r-u,n-l,2*u,2*l);break}v+=sr;case"rectRot":d=Math.cos(v)*(i?i/2:p),a=Math.cos(v)*p,o=Math.sin(v)*p,h=Math.sin(v)*(i?i/2:p),t.moveTo(r-d,n-o),t.lineTo(r+h,n-a),t.lineTo(r+d,n+o),t.lineTo(r-h,n+a),t.closePath();break;case"crossRot":v+=sr;case"cross":d=Math.cos(v)*(i?i/2:p),a=Math.cos(v)*p,o=Math.sin(v)*p,h=Math.sin(v)*(i?i/2:p),t.moveTo(r-d,n-o),t.lineTo(r+d,n+o),t.moveTo(r+h,n-a),t.lineTo(r-h,n+a);break;case"star":d=Math.cos(v)*(i?i/2:p),a=Math.cos(v)*p,o=Math.sin(v)*p,h=Math.sin(v)*(i?i/2:p),t.moveTo(r-d,n-o),t.lineTo(r+d,n+o),t.moveTo(r+h,n-a),t.lineTo(r-h,n+a),v+=sr,d=Math.cos(v)*(i?i/2:p),a=Math.cos(v)*p,o=Math.sin(v)*p,h=Math.sin(v)*(i?i/2:p),t.moveTo(r-d,n-o),t.lineTo(r+d,n+o),t.moveTo(r+h,n-a),t.lineTo(r-h,n+a);break;case"line":a=i?i/2:Math.cos(v)*p,o=Math.sin(v)*p,t.moveTo(r-a,n-o),t.lineTo(r+a,n+o);break;case"dash":t.moveTo(r,n),t.lineTo(r+Math.cos(v)*(i?i/2:p),n+Math.sin(v)*p);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function qn(t,e,r){return r=r||.5,!e||t&&t.x>e.left-r&&t.x<e.right+r&&t.y>e.top-r&&t.y<e.bottom+r}function Ks(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Xs(t){t.restore()}function ED(t,e,r,n,i){if(!e)return t.lineTo(r.x,r.y);if(i==="middle"){const s=(e.x+r.x)/2;t.lineTo(s,e.y),t.lineTo(s,r.y)}else i==="after"!=!!n?t.lineTo(e.x,r.y):t.lineTo(r.x,e.y);t.lineTo(r.x,r.y)}function OD(t,e,r,n){if(!e)return t.lineTo(r.x,r.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function TD(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ae(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function AD(t,e,r,n,i){if(i.strikethrough||i.underline){const s=t.measureText(n),a=e-s.actualBoundingBoxLeft,o=e+s.actualBoundingBoxRight,l=r-s.actualBoundingBoxAscent,c=r+s.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(a,u),t.lineTo(o,u),t.stroke()}}function ID(t,e){const r=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=r}function Gn(t,e,r,n,i,s={}){const a=be(e)?e:[e],o=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,TD(t,s),l=0;l<a.length;++l)c=a[l],s.backdrop&&ID(t,s.backdrop),o&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),ae(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,r,n,s.maxWidth)),t.fillText(c,r,n,s.maxWidth),AD(t,r,n,c,s),n+=Number(i.lineHeight);t.restore()}function io(t,e){const{x:r,y:n,w:i,h:s,radius:a}=e;t.arc(r+a.topLeft,n+a.topLeft,a.topLeft,1.5*we,we,!0),t.lineTo(r,n+s-a.bottomLeft),t.arc(r+a.bottomLeft,n+s-a.bottomLeft,a.bottomLeft,we,dt,!0),t.lineTo(r+i-a.bottomRight,n+s),t.arc(r+i-a.bottomRight,n+s-a.bottomRight,a.bottomRight,dt,0,!0),t.lineTo(r+i,n+a.topRight),t.arc(r+i-a.topRight,n+a.topRight,a.topRight,0,-dt,!0),t.lineTo(r+a.topLeft,n)}const MD=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,RD=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function jD(t,e){const r=(""+t).match(MD);if(!r||r[1]==="normal")return e*1.2;switch(t=+r[2],r[3]){case"px":return t;case"%":t/=100;break}return e*t}const ND=t=>+t||0;function Wf(t,e){const r={},n=Q(e),i=n?Object.keys(e):e,s=Q(t)?n?a=>J(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of i)r[a]=ND(s(a));return r}function LD(t){return Wf(t,{top:"y",right:"x",bottom:"y",left:"x"})}function jn(t){return Wf(t,["topLeft","topRight","bottomLeft","bottomRight"])}function at(t){const e=LD(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Me(t,e){t=t||{},e=e||fe.font;let r=J(t.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let n=J(t.style,e.style);n&&!(""+n).match(RD)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const i={family:J(t.family,e.family),lineHeight:jD(J(t.lineHeight,e.lineHeight),r),size:r,style:n,weight:J(t.weight,e.weight),string:""};return i.string=PD(i),i}function Oi(t,e,r,n){let i,s,a;for(i=0,s=t.length;i<s;++i)if(a=t[i],a!==void 0&&a!==void 0)return a}function FD(t,e,r){const{min:n,max:i}=t,s=Kk(e,(i-n)/2),a=(o,l)=>r&&o===0?0:o+l;return{min:a(n,-Math.abs(s)),max:a(i,s)}}function Pr(t,e){return Object.assign(Object.create(t),e)}function ol(t,e=[""],r,n,i=()=>t[0]){const s=r||t;typeof n>"u"&&(n=qf("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:n,_getTarget:i,override:o=>ol([o,...t],e,s,n)};return new Proxy(a,{deleteProperty(o,l){return delete o[l],delete o._keys,delete t[0][l],!0},get(o,l){return Vf(o,l,()=>qD(l,e,t,o))},getOwnPropertyDescriptor(o,l){return Reflect.getOwnPropertyDescriptor(o._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(o,l){return lu(o).includes(l)},ownKeys(o){return lu(o)},set(o,l,c){const u=o._storage||(o._storage=i());return o[l]=u[l]=c,delete o._keys,!0}})}function Jr(t,e,r,n){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:r,_stack:new Set,_descriptors:zf(t,n),setContext:s=>Jr(t,s,r,n),override:s=>Jr(t.override(s),e,r,n)};return new Proxy(i,{deleteProperty(s,a){return delete s[a],delete t[a],!0},get(s,a,o){return Vf(s,a,()=>$D(s,a,o))},getOwnPropertyDescriptor(s,a){return s._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(s,a,o){return t[a]=o,delete s[a],!0}})}function zf(t,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:n=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:r,indexable:n,isScriptable:Yt(r)?r:()=>r,isIndexable:Yt(n)?n:()=>n}}const BD=(t,e)=>t?t+nl(e):e,ll=(t,e)=>Q(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Vf(t,e,r){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=r();return t[e]=n,n}function $D(t,e,r){const{_proxy:n,_context:i,_subProxy:s,_descriptors:a}=t;let o=n[e];return Yt(o)&&a.isScriptable(e)&&(o=UD(e,o,t,r)),be(o)&&o.length&&(o=WD(e,o,t,a.isIndexable)),ll(e,o)&&(o=Jr(o,i,s&&s[e],a)),o}function UD(t,e,r,n){const{_proxy:i,_context:s,_subProxy:a,_stack:o}=r;if(o.has(t))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+t);o.add(t);let l=e(s,a||n);return o.delete(t),ll(t,l)&&(l=cl(i._scopes,i,t,l)),l}function WD(t,e,r,n){const{_proxy:i,_context:s,_subProxy:a,_descriptors:o}=r;if(typeof s.index<"u"&&n(t))return e[s.index%e.length];if(Q(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=cl(c,i,t,u);e.push(Jr(d,s,a&&a[t],o))}}return e}function Hf(t,e,r){return Yt(t)?t(e,r):t}const zD=(t,e)=>t===!0?e:typeof t=="string"?hs(e,t):void 0;function VD(t,e,r,n,i){for(const s of e){const a=zD(r,s);if(a){t.add(a);const o=Hf(a._fallback,r,i);if(typeof o<"u"&&o!==r&&o!==n)return o}else if(a===!1&&typeof n<"u"&&r!==n)return null}return!1}function cl(t,e,r,n){const i=e._rootScopes,s=Hf(e._fallback,r,n),a=[...t,...i],o=new Set;o.add(n);let l=ou(o,a,r,s||r,n);return l===null||typeof s<"u"&&s!==r&&(l=ou(o,a,s,l,n),l===null)?!1:ol(Array.from(o),[""],i,s,()=>HD(e,r,n))}function ou(t,e,r,n,i){for(;r;)r=VD(t,e,r,n,i);return r}function HD(t,e,r){const n=t._getTarget();e in n||(n[e]={});const i=n[e];return be(i)&&Q(r)?r:i||{}}function qD(t,e,r,n){let i;for(const s of e)if(i=qf(BD(s,t),r),typeof i<"u")return ll(t,i)?cl(r,n,t,i):i}function qf(t,e){for(const r of e){if(!r)continue;const n=r[t];if(typeof n<"u")return n}}function lu(t){let e=t._keys;return e||(e=t._keys=GD(t._scopes)),e}function GD(t){const e=new Set;for(const r of t)for(const n of Object.keys(r).filter(i=>!i.startsWith("_")))e.add(n);return Array.from(e)}const YD=Number.EPSILON||1e-14,Qr=(t,e)=>e<t.length&&!t[e].skip&&t[e],Gf=t=>t==="x"?"y":"x";function KD(t,e,r,n){const i=t.skip?e:t,s=e,a=r.skip?e:r,o=to(s,i),l=to(a,s);let c=o/(o+l),u=l/(o+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=n*c,h=n*u;return{previous:{x:s.x-d*(a.x-i.x),y:s.y-d*(a.y-i.y)},next:{x:s.x+h*(a.x-i.x),y:s.y+h*(a.y-i.y)}}}function XD(t,e,r){const n=t.length;let i,s,a,o,l,c=Qr(t,0);for(let u=0;u<n-1;++u)if(l=c,c=Qr(t,u+1),!(!l||!c)){if(In(e[u],0,YD)){r[u]=r[u+1]=0;continue}i=r[u]/e[u],s=r[u+1]/e[u],o=Math.pow(i,2)+Math.pow(s,2),!(o<=9)&&(a=3/Math.sqrt(o),r[u]=i*a*e[u],r[u+1]=s*a*e[u])}}function JD(t,e,r="x"){const n=Gf(r),i=t.length;let s,a,o,l=Qr(t,0);for(let c=0;c<i;++c){if(a=o,o=l,l=Qr(t,c+1),!o)continue;const u=o[r],d=o[n];a&&(s=(u-a[r])/3,o[`cp1${r}`]=u-s,o[`cp1${n}`]=d-s*e[c]),l&&(s=(l[r]-u)/3,o[`cp2${r}`]=u+s,o[`cp2${n}`]=d+s*e[c])}}function QD(t,e="x"){const r=Gf(e),n=t.length,i=Array(n).fill(0),s=Array(n);let a,o,l,c=Qr(t,0);for(a=0;a<n;++a)if(o=l,l=c,c=Qr(t,a+1),!!l){if(c){const u=c[e]-l[e];i[a]=u!==0?(c[r]-l[r])/u:0}s[a]=o?c?Xr(i[a-1])!==Xr(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}XD(t,i,s),JD(t,s,e)}function Ti(t,e,r){return Math.max(Math.min(t,r),e)}function ZD(t,e){let r,n,i,s,a,o=qn(t[0],e);for(r=0,n=t.length;r<n;++r)a=s,s=o,o=r<n-1&&qn(t[r+1],e),s&&(i=t[r],a&&(i.cp1x=Ti(i.cp1x,e.left,e.right),i.cp1y=Ti(i.cp1y,e.top,e.bottom)),o&&(i.cp2x=Ti(i.cp2x,e.left,e.right),i.cp2y=Ti(i.cp2y,e.top,e.bottom)))}function eC(t,e,r,n,i){let s,a,o,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")QD(t,i);else{let c=n?t[t.length-1]:t[0];for(s=0,a=t.length;s<a;++s)o=t[s],l=KD(c,o,t[Math.min(s+1,a-(n?0:1))%a],e.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,c=o}e.capBezierPoints&&ZD(t,r)}function ul(){return typeof window<"u"&&typeof document<"u"}function dl(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function ps(t,e,r){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[r])):n=t,n}const Js=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function tC(t,e){return Js(t).getPropertyValue(e)}const rC=["top","right","bottom","left"];function yr(t,e,r){const n={};r=r?"-"+r:"";for(let i=0;i<4;i++){const s=rC[i];n[s]=parseFloat(t[e+"-"+s+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const nC=(t,e,r)=>(t>0||e>0)&&(!r||!r.shadowRoot);function iC(t,e){const r=t.touches,n=r&&r.length?r[0]:t,{offsetX:i,offsetY:s}=n;let a=!1,o,l;if(nC(i,s,t.target))o=i,l=s;else{const c=e.getBoundingClientRect();o=n.clientX-c.left,l=n.clientY-c.top,a=!0}return{x:o,y:l,box:a}}function dr(t,e){if("native"in t)return t;const{canvas:r,currentDevicePixelRatio:n}=e,i=Js(r),s=i.boxSizing==="border-box",a=yr(i,"padding"),o=yr(i,"border","width"),{x:l,y:c,box:u}=iC(t,r),d=a.left+(u&&o.left),h=a.top+(u&&o.top);let{width:f,height:g}=e;return s&&(f-=a.width+o.width,g-=a.height+o.height),{x:Math.round((l-d)/f*r.width/n),y:Math.round((c-h)/g*r.height/n)}}function sC(t,e,r){let n,i;if(e===void 0||r===void 0){const s=t&&dl(t);if(!s)e=t.clientWidth,r=t.clientHeight;else{const a=s.getBoundingClientRect(),o=Js(s),l=yr(o,"border","width"),c=yr(o,"padding");e=a.width-c.width-l.width,r=a.height-c.height-l.height,n=ps(o.maxWidth,s,"clientWidth"),i=ps(o.maxHeight,s,"clientHeight")}}return{width:e,height:r,maxWidth:n||gs,maxHeight:i||gs}}const Ai=t=>Math.round(t*10)/10;function aC(t,e,r,n){const i=Js(t),s=yr(i,"margin"),a=ps(i.maxWidth,t,"clientWidth")||gs,o=ps(i.maxHeight,t,"clientHeight")||gs,l=sC(t,e,r);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const h=yr(i,"border","width"),f=yr(i,"padding");c-=f.width+h.width,u-=f.height+h.height}return c=Math.max(0,c-s.width),u=Math.max(0,n?c/n:u-s.height),c=Ai(Math.min(c,a,l.maxWidth)),u=Ai(Math.min(u,o,l.maxHeight)),c&&!u&&(u=Ai(c/2)),(e!==void 0||r!==void 0)&&n&&l.height&&u>l.height&&(u=l.height,c=Ai(Math.floor(u*n))),{width:c,height:u}}function cu(t,e,r){const n=e||1,i=Math.floor(t.height*n),s=Math.floor(t.width*n);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const a=t.canvas;return a.style&&(r||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||a.height!==i||a.width!==s?(t.currentDevicePixelRatio=n,a.height=i,a.width=s,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const oC=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};ul()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function uu(t,e){const r=tC(t,e),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function hr(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:t.y+r*(e.y-t.y)}}function lC(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:n==="middle"?r<.5?t.y:e.y:n==="after"?r<1?t.y:e.y:r>0?e.y:t.y}}function cC(t,e,r,n){const i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},a=hr(t,i,r),o=hr(i,s,r),l=hr(s,e,r),c=hr(a,o,r),u=hr(o,l,r);return hr(c,u,r)}const uC=function(t,e){return{x(r){return t+t+e-r},setWidth(r){e=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,n){return r-n},leftForLtr(r,n){return r-n}}},dC=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function zr(t,e,r){return t?uC(e,r):dC()}function Yf(t,e){let r,n;(e==="ltr"||e==="rtl")&&(r=t.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",e,"important"),t.prevTextDirection=n)}function Kf(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Xf(t){return t==="angle"?{between:Rf,compare:cD,normalize:xt}:{between:$r,compare:(e,r)=>e-r,normalize:e=>e}}function du({start:t,end:e,count:r,loop:n,style:i}){return{start:t%r,end:e%r,loop:n&&(e-t+1)%r===0,style:i}}function hC(t,e,r){const{property:n,start:i,end:s}=r,{between:a,normalize:o}=Xf(n),l=e.length;let{start:c,end:u,loop:d}=t,h,f;if(d){for(c+=l,u+=l,h=0,f=l;h<f&&a(o(e[c%l][n]),i,s);++h)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:t.style}}function Jf(t,e,r){if(!r)return[t];const{property:n,start:i,end:s}=r,a=e.length,{compare:o,between:l,normalize:c}=Xf(n),{start:u,end:d,loop:h,style:f}=hC(t,e,r),g=[];let p=!1,v=null,b,y,_;const w=()=>l(i,_,b)&&o(i,_)!==0,S=()=>o(s,b)===0||l(s,_,b),D=()=>p||w(),E=()=>!p||S();for(let O=u,T=u;O<=d;++O)y=e[O%a],!y.skip&&(b=c(y[n]),b!==_&&(p=l(b,i,s),v===null&&D()&&(v=o(b,i)===0?O:T),v!==null&&E()&&(g.push(du({start:v,end:O,loop:h,count:a,style:f})),v=null),T=O,_=b));return v!==null&&g.push(du({start:v,end:d,loop:h,count:a,style:f})),g}function Qf(t,e){const r=[],n=t.segments;for(let i=0;i<n.length;i++){const s=Jf(n[i],t.points,e);s.length&&r.push(...s)}return r}function fC(t,e,r,n){let i=0,s=e-1;if(r&&!n)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,r&&(s+=i);s>i&&t[s%e].skip;)s--;return s%=e,{start:i,end:s}}function gC(t,e,r,n){const i=t.length,s=[];let a=e,o=t[e],l;for(l=e+1;l<=r;++l){const c=t[l%i];c.skip||c.stop?o.skip||(n=!1,s.push({start:e%i,end:(l-1)%i,loop:n}),e=a=c.stop?l:null):(a=l,o.skip&&(e=l)),o=c}return a!==null&&s.push({start:e%i,end:a%i,loop:n}),s}function pC(t,e){const r=t.points,n=t.options.spanGaps,i=r.length;if(!i)return[];const s=!!t._loop,{start:a,end:o}=fC(r,i,s,n);if(n===!0)return hu(t,[{start:a,end:o,loop:s}],r,e);const l=o<a?o+i:o,c=!!t._fullLoop&&a===0&&o===i-1;return hu(t,gC(r,a,l,c),r,e)}function hu(t,e,r,n){return!n||!n.setContext||!r?e:mC(t,e,r,n)}function mC(t,e,r,n){const i=t._chart.getContext(),s=fu(t.options),{_datasetIndex:a,options:{spanGaps:o}}=t,l=r.length,c=[];let u=s,d=e[0].start,h=d;function f(g,p,v,b){const y=o?-1:1;if(g!==p){for(g+=l;r[g%l].skip;)g-=y;for(;r[p%l].skip;)p+=y;g%l!==p%l&&(c.push({start:g%l,end:p%l,loop:v,style:b}),u=b,d=p%l)}}for(const g of e){d=o?d:g.start;let p=r[d%l],v;for(h=d+1;h<=g.end;h++){const b=r[h%l];v=fu(n.setContext(Pr(i,{type:"segment",p0:p,p1:b,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:a}))),vC(v,u)&&f(d,h-1,g.loop,u),p=b,u=v}d<h-1&&f(d,h-1,g.loop,u)}return c}function fu(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function vC(t,e){if(!e)return!1;const r=[],n=function(i,s){return al(s)?(r.includes(s)||r.push(s),r.indexOf(s)):s};return JSON.stringify(t,n)!==JSON.stringify(e,n)}function Ii(t,e,r){return t.options.clip?t[r]:e[r]}function bC(t,e){const{xScale:r,yScale:n}=t;return r&&n?{left:Ii(r,e,"left"),right:Ii(r,e,"right"),top:Ii(n,e,"top"),bottom:Ii(n,e,"bottom")}:e}function Zf(t,e){const r=e._clip;if(r.disabled)return!1;const n=bC(e,t.chartArea);return{left:r.left===!1?0:n.left-(r.left===!0?0:r.left),right:r.right===!1?t.width:n.right+(r.right===!0?0:r.right),top:r.top===!1?0:n.top-(r.top===!0?0:r.top),bottom:r.bottom===!1?t.height:n.bottom+(r.bottom===!0?0:r.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class yC{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,n,i){const s=r.listeners[i],a=r.duration;s.forEach(o=>o({chart:e,initial:r.initial,numSteps:a,currentStep:Math.min(n-r.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=Nf.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let r=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const s=n.items;let a=s.length-1,o=!1,l;for(;a>=0;--a)l=s[a],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(e),o=!0):(s[a]=s[s.length-1],s.pop());o&&(i.draw(),this._notify(i,n,e,"progress")),s.length||(n.running=!1,this._notify(i,n,e,"complete"),n.initial=!1),r+=s.length}),this._lastDate=e,r===0&&(this._running=!1)}_getAnims(e){const r=this._charts;let n=r.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,n)),n}listen(e,r,n){this._getAnims(e).listeners[r].push(n)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){const r=this._charts.get(e);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){const r=this._charts.get(e);if(!r||!r.items.length)return;const n=r.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Et=new yC;const gu="transparent",xC={boolean(t,e,r){return r>.5?e:t},color(t,e,r){const n=nu(t||gu),i=n.valid&&nu(e||gu);return i&&i.valid?i.mix(n,r).hexString():e},number(t,e,r){return t+(e-t)*r}};class wC{constructor(e,r,n,i){const s=r[n];i=Oi([e.to,i,s,e.from]);const a=Oi([e.from,s,i]);this._active=!0,this._fn=e.fn||xC[e.type||typeof a],this._easing=Mn[e.easing]||Mn.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=n,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(e,r,n){if(this._active){this._notify(!1);const i=this._target[this._prop],s=n-this._start,a=this._duration-s;this._start=n,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Oi([e.to,r,i,e.from]),this._from=Oi([e.from,i,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const r=e-this._start,n=this._duration,i=this._prop,s=this._from,a=this._loop,o=this._to;let l;if(this._active=s!==o&&(a||r<n),!this._active){this._target[i]=o,this._notify(!0);return}if(r<0){this._target[i]=s;return}l=r/n%2,l=a&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,o,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((r,n)=>{e.push({res:r,rej:n})})}_notify(e){const r=e?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][r]()}}class eg{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!Q(e))return;const r=Object.keys(fe.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!Q(s))return;const a={};for(const o of r)a[o]=s[o];(be(s.properties)&&s.properties||[i]).forEach(o=>{(o===i||!n.has(o))&&n.set(o,a)})})}_animateOptions(e,r){const n=r.options,i=SC(e,n);if(!i)return[];const s=this._createAnimations(i,n);return n.$shared&&_C(e.options.$animations,n).then(()=>{e.options=n},()=>{}),s}_createAnimations(e,r){const n=this._properties,i=[],s=e.$animations||(e.$animations={}),a=Object.keys(r),o=Date.now();let l;for(l=a.length-1;l>=0;--l){const c=a[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,r));continue}const u=r[c];let d=s[c];const h=n.get(c);if(d)if(h&&d.active()){d.update(h,u,o);continue}else d.cancel();if(!h||!h.duration){e[c]=u;continue}s[c]=d=new wC(h,e,c,u),i.push(d)}return i}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}const n=this._createAnimations(e,r);if(n.length)return Et.add(this._chart,n),!0}}function _C(t,e){const r=[],n=Object.keys(e);for(let i=0;i<n.length;i++){const s=t[n[i]];s&&s.active()&&r.push(s.wait())}return Promise.all(r)}function SC(t,e){if(!e)return;let r=t.options;if(!r){t.options=e;return}return r.$shared&&(t.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function pu(t,e){const r=t&&t.options||{},n=r.reverse,i=r.min===void 0?e:0,s=r.max===void 0?e:0;return{start:n?s:i,end:n?i:s}}function kC(t,e,r){if(r===!1)return!1;const n=pu(t,r),i=pu(e,r);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function DC(t){let e,r,n,i;return Q(t)?(e=t.top,r=t.right,n=t.bottom,i=t.left):e=r=n=i=t,{top:e,right:r,bottom:n,left:i,disabled:t===!1}}function tg(t,e){const r=[],n=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=n.length;i<s;++i)r.push(n[i].index);return r}function mu(t,e,r,n={}){const i=t.keys,s=n.mode==="single";let a,o,l,c;if(e===null)return;let u=!1;for(a=0,o=i.length;a<o;++a){if(l=+i[a],l===r){if(u=!0,n.all)continue;break}c=t.values[l],Re(c)&&(s||e===0||Xr(e)===Xr(c))&&(e+=c)}return!u&&!n.all?0:e}function CC(t,e){const{iScale:r,vScale:n}=e,i=r.axis==="x"?"x":"y",s=n.axis==="x"?"x":"y",a=Object.keys(t),o=new Array(a.length);let l,c,u;for(l=0,c=a.length;l<c;++l)u=a[l],o[l]={[i]:u,[s]:t[u]};return o}function Ca(t,e){const r=t&&t.options.stacked;return r||r===void 0&&e.stack!==void 0}function PC(t,e,r){return`${t.id}.${e.id}.${r.stack||r.type}`}function EC(t){const{min:e,max:r,minDefined:n,maxDefined:i}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:i?r:Number.POSITIVE_INFINITY}}function OC(t,e,r){const n=t[e]||(t[e]={});return n[r]||(n[r]={})}function vu(t,e,r,n){for(const i of e.getMatchingVisibleMetas(n).reverse()){const s=t[i.index];if(r&&s>0||!r&&s<0)return i.index}return null}function bu(t,e){const{chart:r,_cachedMeta:n}=t,i=r._stacks||(r._stacks={}),{iScale:s,vScale:a,index:o}=n,l=s.axis,c=a.axis,u=PC(s,a,n),d=e.length;let h;for(let f=0;f<d;++f){const g=e[f],{[l]:p,[c]:v}=g,b=g._stacks||(g._stacks={});h=b[c]=OC(i,u,p),h[o]=v,h._top=vu(h,a,!0,n.type),h._bottom=vu(h,a,!1,n.type);const y=h._visualValues||(h._visualValues={});y[o]=v}}function Pa(t,e){const r=t.scales;return Object.keys(r).filter(n=>r[n].axis===e).shift()}function TC(t,e){return Pr(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function AC(t,e,r){return Pr(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function gn(t,e){const r=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[n]===void 0||s[n][r]===void 0)return;delete s[n][r],s[n]._visualValues!==void 0&&s[n]._visualValues[r]!==void 0&&delete s[n]._visualValues[r]}}}const Ea=t=>t==="reset"||t==="none",yu=(t,e)=>e?t:Object.assign({},t),IC=(t,e,r)=>t&&!e.hidden&&e._stacked&&{keys:tg(r,!0),values:null};class Nn{constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Ca(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&gn(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,n=this.getDataset(),i=(d,h,f,g)=>d==="x"?h:d==="r"?g:f,s=r.xAxisID=J(n.xAxisID,Pa(e,"x")),a=r.yAxisID=J(n.yAxisID,Pa(e,"y")),o=r.rAxisID=J(n.rAxisID,Pa(e,"r")),l=r.indexAxis,c=r.iAxisID=i(l,s,a,o),u=r.vAxisID=i(l,a,s,o);r.xScale=this.getScaleForId(s),r.yScale=this.getScaleForId(a),r.rScale=this.getScaleForId(o),r.iScale=this.getScaleForId(c),r.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&eu(this._data,this),e._stacked&&gn(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),n=this._data;if(Q(r)){const i=this._cachedMeta;this._data=CC(r,i)}else if(n!==r){if(n){eu(n,this);const i=this._cachedMeta;gn(i),i._parsed=[]}r&&Object.isExtensible(r)&&fD(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const s=r._stacked;r._stacked=Ca(r.vScale,r),r.stack!==n.stack&&(i=!0,gn(r),r.stack=n.stack),this._resyncElements(e),(i||s!==r._stacked)&&(bu(this,r._parsed),r._stacked=Ca(r.vScale,r))}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:n,_data:i}=this,{iScale:s,_stacked:a}=n,o=s.axis;let l=e===0&&r===i.length?!0:n._sorted,c=e>0&&n._parsed[e-1],u,d,h;if(this._parsing===!1)n._parsed=i,n._sorted=!0,h=i;else{be(i[e])?h=this.parseArrayData(n,i,e,r):Q(i[e])?h=this.parseObjectData(n,i,e,r):h=this.parsePrimitiveData(n,i,e,r);const f=()=>d[o]===null||c&&d[o]<c[o];for(u=0;u<r;++u)n._parsed[u+e]=d=h[u],l&&(f()&&(l=!1),c=d);n._sorted=l}a&&bu(this,h)}parsePrimitiveData(e,r,n,i){const{iScale:s,vScale:a}=e,o=s.axis,l=a.axis,c=s.getLabels(),u=s===a,d=new Array(i);let h,f,g;for(h=0,f=i;h<f;++h)g=h+n,d[h]={[o]:u||s.parse(c[g],g),[l]:a.parse(r[g],g)};return d}parseArrayData(e,r,n,i){const{xScale:s,yScale:a}=e,o=new Array(i);let l,c,u,d;for(l=0,c=i;l<c;++l)u=l+n,d=r[u],o[l]={x:s.parse(d[0],u),y:a.parse(d[1],u)};return o}parseObjectData(e,r,n,i){const{xScale:s,yScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,d,h,f;for(u=0,d=i;u<d;++u)h=u+n,f=r[h],c[u]={x:s.parse(hs(f,o),h),y:a.parse(hs(f,l),h)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,n){const i=this.chart,s=this._cachedMeta,a=r[e.axis],o={keys:tg(i,!0),values:r._stacks[e.axis]._visualValues};return mu(o,a,s.index,{mode:n})}updateRangeFromParsed(e,r,n,i){const s=n[r.axis];let a=s===null?NaN:s;const o=i&&n._stacks[r.axis];i&&o&&(i.values=o,a=mu(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,r){const n=this._cachedMeta,i=n._parsed,s=n._sorted&&e===n.iScale,a=i.length,o=this._getOtherScale(e),l=IC(r,n,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=EC(o);let h,f;function g(){f=i[h];const p=f[o.axis];return!Re(f[e.axis])||u>p||d<p}for(h=0;h<a&&!(!g()&&(this.updateRangeFromParsed(c,e,f,l),s));++h);if(s){for(h=a-1;h>=0;--h)if(!g()){this.updateRangeFromParsed(c,e,f,l);break}}return c}getAllParsedValues(e){const r=this._cachedMeta._parsed,n=[];let i,s,a;for(i=0,s=r.length;i<s;++i)a=r[i][e.axis],Re(a)&&n.push(a);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,n=r.iScale,i=r.vScale,s=this.getParsed(e);return{label:n?""+n.getLabelForValue(s[n.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=DC(J(this.options.clip,kC(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this.chart,n=this._cachedMeta,i=n.data||[],s=r.chartArea,a=[],o=this._drawStart||0,l=this._drawCount||i.length-o,c=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(e,s,o,l),u=o;u<o+l;++u){const d=i[u];d.hidden||(d.active&&c?a.push(d):d.draw(e,s))}for(u=0;u<a.length;++u)a[u].draw(e,s)}getStyle(e,r){const n=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,r,n){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];s=a.$context||(a.$context=AC(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=TC(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!r,s.mode=n,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",n){const i=r==="active",s=this._cachedDataOpts,a=e+"-"+r,o=s[a],l=this.enableOptionSharing&&fs(n);if(o)return yu(o,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=i?[`${e}Hover`,"hover",e,""]:[e,""],h=c.getOptionScopes(this.getDataset(),u),f=Object.keys(fe.elements[e]),g=()=>this.getContext(n,i,r),p=c.resolveNamedOptions(h,f,g,d);return p.$shared&&(p.$shared=l,s[a]=Object.freeze(yu(p,l))),p}_resolveAnimations(e,r,n){const i=this.chart,s=this._cachedDataOpts,a=`animation-${r}`,o=s[a];if(o)return o;let l;if(i.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,r),h=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(h,this.getContext(e,n,r))}const c=new eg(i,l&&l.animations);return l&&l._cacheable&&(s[a]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||Ea(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){const n=this.resolveDataElementOptions(e,r),i=this._sharedOptions,s=this.getSharedOptions(n),a=this.includeOptions(r,s)||s!==i;return this.updateSharedOptions(s,r,n),{sharedOptions:s,includeOptions:a}}updateElement(e,r,n,i){Ea(i)?Object.assign(e,n):this._resolveAnimations(r,i).update(e,n)}updateSharedOptions(e,r,n){e&&!Ea(r)&&this._resolveAnimations(void 0,r).update(e,n)}_setStyle(e,r,n,i){e.active=i;const s=this.getStyle(r,i);this._resolveAnimations(r,n,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,r,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,r,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,n=this._cachedMeta.data;for(const[o,l,c]of this._syncList)this[o](l,c);this._syncList=[];const i=n.length,s=r.length,a=Math.min(s,i);a&&this.parse(0,a),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,r,n=!0){const i=this._cachedMeta,s=i.data,a=e+r;let o;const l=c=>{for(c.length+=r,o=c.length-1;o>=a;o--)c[o]=c[o-r]};for(l(s),o=e;o<a;++o)s[o]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,r),n&&this.updateElements(s,e,r,"reset")}updateElements(e,r,n,i){}_removeElements(e,r){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(e,r);n._stacked&&gn(n,i)}n.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,n,i]=e;this[r](n,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}G(Nn,"defaults",{}),G(Nn,"datasetElementType",null),G(Nn,"dataElementType",null);class zi extends Nn{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const r=this._cachedMeta,{dataset:n,data:i=[],_dataset:s}=r,a=this.chart._animationsDisabled;let{start:o,count:l}=vD(r,i,a);this._drawStart=o,this._drawCount=l,bD(r)&&(o=0,l=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!s._decimated,n.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(n,void 0,{animated:!a,options:c},e),this.updateElements(i,o,l,e)}updateElements(e,r,n,i){const s=i==="reset",{iScale:a,vScale:o,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(r,i),h=a.axis,f=o.axis,{spanGaps:g,segment:p}=this.options,v=Hn(g)?g:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||s||i==="none",y=r+n,_=e.length;let w=r>0&&this.getParsed(r-1);for(let S=0;S<_;++S){const D=e[S],E=b?D:{};if(S<r||S>=y){E.skip=!0;continue}const O=this.getParsed(S),T=ae(O[f]),L=E[h]=a.getPixelForValue(O[h],S),M=E[f]=s||T?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,O,l):O[f],S);E.skip=isNaN(L)||isNaN(M)||T,E.stop=S>0&&Math.abs(O[h]-w[h])>v,p&&(E.parsed=O,E.raw=c.data[S]),d&&(E.options=u||this.resolveDataElementOptions(S,D.active?"active":i)),b||this.updateElement(D,S,E,i),w=O}}getMaxOverflow(){const e=this._cachedMeta,r=e.dataset,n=r.options&&r.options.borderWidth||0,i=e.data||[];if(!i.length)return n;const s=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,s,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}G(zi,"id","line"),G(zi,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),G(zi,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function or(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class hl{constructor(e){G(this,"options");this.options=e||{}}static override(e){Object.assign(hl.prototype,e)}init(){}formats(){return or()}parse(){return or()}format(){return or()}add(){return or()}diff(){return or()}startOf(){return or()}endOf(){return or()}}var MC={_date:hl};function RC(t,e,r,n){const{controller:i,data:s,_sorted:a}=t,o=i._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(o&&e===o.axis&&e!=="r"&&a&&s.length){const c=o._reversePixels?dD:br;if(n){if(i._sharedOptions){const u=s[0],d=typeof u.getRange=="function"&&u.getRange(e);if(d){const h=c(s,e,r-d),f=c(s,e,r+d);return{lo:h.lo,hi:f.hi}}}}else{const u=c(s,e,r);if(l){const{vScale:d}=i._cachedMeta,{_parsed:h}=t,f=h.slice(0,u.lo+1).reverse().findIndex(p=>!ae(p[d.axis]));u.lo-=Math.max(0,f);const g=h.slice(u.hi).findIndex(p=>!ae(p[d.axis]));u.hi+=Math.max(0,g)}return u}}return{lo:0,hi:s.length-1}}function di(t,e,r,n,i){const s=t.getSortedVisibleDatasetMetas(),a=r[e];for(let o=0,l=s.length;o<l;++o){const{index:c,data:u}=s[o],{lo:d,hi:h}=RC(s[o],e,a,i);for(let f=d;f<=h;++f){const g=u[f];g.skip||n(g,c,f)}}}function jC(t){const e=t.indexOf("x")!==-1,r=t.indexOf("y")!==-1;return function(n,i){const s=e?Math.abs(n.x-i.x):0,a=r?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}function Oa(t,e,r,n,i){const s=[];return!i&&!t.isPointInArea(e)||di(t,r,e,function(o,l,c){!i&&!qn(o,t.chartArea,0)||o.inRange(e.x,e.y,n)&&s.push({element:o,datasetIndex:l,index:c})},!0),s}function NC(t,e,r,n){let i=[];function s(a,o,l){const{startAngle:c,endAngle:u}=a.getProps(["startAngle","endAngle"],n),{angle:d}=lD(a,{x:e.x,y:e.y});Rf(d,c,u)&&i.push({element:a,datasetIndex:o,index:l})}return di(t,r,e,s),i}function LC(t,e,r,n,i,s){let a=[];const o=jC(r);let l=Number.POSITIVE_INFINITY;function c(u,d,h){const f=u.inRange(e.x,e.y,i);if(n&&!f)return;const g=u.getCenterPoint(i);if(!(!!s||t.isPointInArea(g))&&!f)return;const v=o(e,g);v<l?(a=[{element:u,datasetIndex:d,index:h}],l=v):v===l&&a.push({element:u,datasetIndex:d,index:h})}return di(t,r,e,c),a}function Ta(t,e,r,n,i,s){return!s&&!t.isPointInArea(e)?[]:r==="r"&&!n?NC(t,e,r,i):LC(t,e,r,n,i,s)}function xu(t,e,r,n,i){const s=[],a=r==="x"?"inXRange":"inYRange";let o=!1;return di(t,r,e,(l,c,u)=>{l[a]&&l[a](e[r],i)&&(s.push({element:l,datasetIndex:c,index:u}),o=o||l.inRange(e.x,e.y,i))}),n&&!o?[]:s}var FC={evaluateInteractionItems:di,modes:{index(t,e,r,n){const i=dr(e,t),s=r.axis||"x",a=r.includeInvisible||!1,o=r.intersect?Oa(t,i,s,n,a):Ta(t,i,s,!1,n,a),l=[];return o.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=o[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,r,n){const i=dr(e,t),s=r.axis||"xy",a=r.includeInvisible||!1;let o=r.intersect?Oa(t,i,s,n,a):Ta(t,i,s,!1,n,a);if(o.length>0){const l=o[0].datasetIndex,c=t.getDatasetMeta(l).data;o=[];for(let u=0;u<c.length;++u)o.push({element:c[u],datasetIndex:l,index:u})}return o},point(t,e,r,n){const i=dr(e,t),s=r.axis||"xy",a=r.includeInvisible||!1;return Oa(t,i,s,n,a)},nearest(t,e,r,n){const i=dr(e,t),s=r.axis||"xy",a=r.includeInvisible||!1;return Ta(t,i,s,r.intersect,n,a)},x(t,e,r,n){const i=dr(e,t);return xu(t,i,"x",r.intersect,n)},y(t,e,r,n){const i=dr(e,t);return xu(t,i,"y",r.intersect,n)}}};const rg=["left","top","right","bottom"];function pn(t,e){return t.filter(r=>r.pos===e)}function wu(t,e){return t.filter(r=>rg.indexOf(r.pos)===-1&&r.box.axis===e)}function mn(t,e){return t.sort((r,n)=>{const i=e?n:r,s=e?r:n;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function BC(t){const e=[];let r,n,i,s,a,o;for(r=0,n=(t||[]).length;r<n;++r)i=t[r],{position:s,options:{stack:a,stackWeight:o=1}}=i,e.push({index:r,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&s+a,stackWeight:o});return e}function $C(t){const e={};for(const r of t){const{stack:n,pos:i,stackWeight:s}=r;if(!n||!rg.includes(i))continue;const a=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return e}function UC(t,e){const r=$C(t),{vBoxMaxWidth:n,hBoxMaxHeight:i}=e;let s,a,o;for(s=0,a=t.length;s<a;++s){o=t[s];const{fullSize:l}=o.box,c=r[o.stack],u=c&&o.stackWeight/c.weight;o.horizontal?(o.width=u?u*n:l&&e.availableWidth,o.height=i):(o.width=n,o.height=u?u*i:l&&e.availableHeight)}return r}function WC(t){const e=BC(t),r=mn(e.filter(c=>c.box.fullSize),!0),n=mn(pn(e,"left"),!0),i=mn(pn(e,"right")),s=mn(pn(e,"top"),!0),a=mn(pn(e,"bottom")),o=wu(e,"x"),l=wu(e,"y");return{fullSize:r,leftAndTop:n.concat(s),rightAndBottom:i.concat(l).concat(a).concat(o),chartArea:pn(e,"chartArea"),vertical:n.concat(i).concat(l),horizontal:s.concat(a).concat(o)}}function _u(t,e,r,n){return Math.max(t[r],e[r])+Math.max(t[n],e[n])}function ng(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function zC(t,e,r,n){const{pos:i,box:s}=r,a=t.maxPadding;if(!Q(i)){r.size&&(t[i]-=r.size);const d=n[r.stack]||{size:0,count:1};d.size=Math.max(d.size,r.horizontal?s.height:s.width),r.size=d.size/d.count,t[i]+=r.size}s.getPadding&&ng(a,s.getPadding());const o=Math.max(0,e.outerWidth-_u(a,t,"left","right")),l=Math.max(0,e.outerHeight-_u(a,t,"top","bottom")),c=o!==t.w,u=l!==t.h;return t.w=o,t.h=l,r.horizontal?{same:c,other:u}:{same:u,other:c}}function VC(t){const e=t.maxPadding;function r(n){const i=Math.max(e[n]-t[n],0);return t[n]+=i,i}t.y+=r("top"),t.x+=r("left"),r("right"),r("bottom")}function HC(t,e){const r=e.maxPadding;function n(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(a=>{s[a]=Math.max(e[a],r[a])}),s}return n(t?["left","right"]:["top","bottom"])}function wn(t,e,r,n){const i=[];let s,a,o,l,c,u;for(s=0,a=t.length,c=0;s<a;++s){o=t[s],l=o.box,l.update(o.width||e.w,o.height||e.h,HC(o.horizontal,e));const{same:d,other:h}=zC(e,r,o,n);c|=d&&i.length,u=u||h,l.fullSize||i.push(o)}return c&&wn(i,e,r,n)||u}function Mi(t,e,r,n,i){t.top=r,t.left=e,t.right=e+n,t.bottom=r+i,t.width=n,t.height=i}function Su(t,e,r,n){const i=r.padding;let{x:s,y:a}=e;for(const o of t){const l=o.box,c=n[o.stack]||{count:1,placed:0,weight:1},u=o.stackWeight/c.weight||1;if(o.horizontal){const d=e.w*u,h=c.size||l.height;fs(c.start)&&(a=c.start),l.fullSize?Mi(l,i.left,a,r.outerWidth-i.right-i.left,h):Mi(l,e.left+c.placed,a,d,h),c.start=a,c.placed+=d,a=l.bottom}else{const d=e.h*u,h=c.size||l.width;fs(c.start)&&(s=c.start),l.fullSize?Mi(l,s,i.top,h,r.outerHeight-i.bottom-i.top):Mi(l,s,e.top+c.placed,h,d),c.start=s,c.placed+=d,s=l.right}}e.x=s,e.y=a}var rt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},t.boxes.push(e)},removeBox(t,e){const r=t.boxes?t.boxes.indexOf(e):-1;r!==-1&&t.boxes.splice(r,1)},configure(t,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(t,e,r,n){if(!t)return;const i=at(t.options.layout.padding),s=Math.max(e-i.width,0),a=Math.max(r-i.height,0),o=WC(t.boxes),l=o.vertical,c=o.horizontal;re(t.boxes,p=>{typeof p.beforeLayout=="function"&&p.beforeLayout()});const u=l.reduce((p,v)=>v.box.options&&v.box.options.display===!1?p:p+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:r,padding:i,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/u,hBoxMaxHeight:a/2}),h=Object.assign({},i);ng(h,at(n));const f=Object.assign({maxPadding:h,w:s,h:a,x:i.left,y:i.top},i),g=UC(l.concat(c),d);wn(o.fullSize,f,d,g),wn(l,f,d,g),wn(c,f,d,g)&&wn(l,f,d,g),VC(f),Su(o.leftAndTop,f,d,g),f.x+=f.w,f.y+=f.h,Su(o.rightAndBottom,f,d,g),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},re(o.chartArea,p=>{const v=p.box;Object.assign(v,t.chartArea),v.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class ig{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,n){}removeEventListener(e,r,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,n,i){return r=Math.max(0,r||e.width),n=n||e.height,{width:r,height:Math.max(0,i?Math.floor(r/i):n)}}isAttached(e){return!0}updateConfig(e){}}class qC extends ig{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Vi="$chartjs",GC={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ku=t=>t===null||t==="";function YC(t,e){const r=t.style,n=t.getAttribute("height"),i=t.getAttribute("width");if(t[Vi]={initial:{height:n,width:i,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",ku(i)){const s=uu(t,"width");s!==void 0&&(t.width=s)}if(ku(n))if(t.style.height==="")t.height=t.width/(e||2);else{const s=uu(t,"height");s!==void 0&&(t.height=s)}return t}const sg=oC?{passive:!0}:!1;function KC(t,e,r){t&&t.addEventListener(e,r,sg)}function XC(t,e,r){t&&t.canvas&&t.canvas.removeEventListener(e,r,sg)}function JC(t,e){const r=GC[t.type]||t.type,{x:n,y:i}=dr(t,e);return{type:r,chart:e,native:t,x:n!==void 0?n:null,y:i!==void 0?i:null}}function ms(t,e){for(const r of t)if(r===e||r.contains(e))return!0}function QC(t,e,r){const n=t.canvas,i=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||ms(o.addedNodes,n),a=a&&!ms(o.removedNodes,n);a&&r()});return i.observe(document,{childList:!0,subtree:!0}),i}function ZC(t,e,r){const n=t.canvas,i=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||ms(o.removedNodes,n),a=a&&!ms(o.addedNodes,n);a&&r()});return i.observe(document,{childList:!0,subtree:!0}),i}const Yn=new Map;let Du=0;function ag(){const t=window.devicePixelRatio;t!==Du&&(Du=t,Yn.forEach((e,r)=>{r.currentDevicePixelRatio!==t&&e()}))}function eP(t,e){Yn.size||window.addEventListener("resize",ag),Yn.set(t,e)}function tP(t){Yn.delete(t),Yn.size||window.removeEventListener("resize",ag)}function rP(t,e,r){const n=t.canvas,i=n&&dl(n);if(!i)return;const s=Lf((o,l)=>{const c=i.clientWidth;r(o,l),c<i.clientWidth&&r()},window),a=new ResizeObserver(o=>{const l=o[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return a.observe(i),eP(t,s),a}function Aa(t,e,r){r&&r.disconnect(),e==="resize"&&tP(t)}function nP(t,e,r){const n=t.canvas,i=Lf(s=>{t.ctx!==null&&r(JC(s,t))},t);return KC(n,e,i),i}class iP extends ig{acquireContext(e,r){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(YC(e,r),n):null}releaseContext(e){const r=e.canvas;if(!r[Vi])return!1;const n=r[Vi].initial;["height","width"].forEach(s=>{const a=n[s];ae(a)?r.removeAttribute(s):r.setAttribute(s,a)});const i=n.style||{};return Object.keys(i).forEach(s=>{r.style[s]=i[s]}),r.width=r.width,delete r[Vi],!0}addEventListener(e,r,n){this.removeEventListener(e,r);const i=e.$proxies||(e.$proxies={}),a={attach:QC,detach:ZC,resize:rP}[r]||nP;i[r]=a(e,r,n)}removeEventListener(e,r){const n=e.$proxies||(e.$proxies={}),i=n[r];if(!i)return;({attach:Aa,detach:Aa,resize:Aa}[r]||XC)(e,r,i),n[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,n,i){return aC(e,r,n,i)}isAttached(e){const r=e&&dl(e);return!!(r&&r.isConnected)}}function sP(t){return!ul()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?qC:iP}var Bi;let Er=(Bi=class{constructor(){G(this,"x");G(this,"y");G(this,"active",!1);G(this,"options");G(this,"$animations")}tooltipPosition(e){const{x:r,y:n}=this.getProps(["x","y"],e);return{x:r,y:n}}hasValue(){return Hn(this.x)&&Hn(this.y)}getProps(e,r){const n=this.$animations;if(!r||!n)return this;const i={};return e.forEach(s=>{i[s]=n[s]&&n[s].active()?n[s]._to:this[s]}),i}},G(Bi,"defaults",{}),G(Bi,"defaultRoutes"),Bi);function aP(t,e){const r=t.options.ticks,n=oP(t),i=Math.min(r.maxTicksLimit||n,n),s=r.major.enabled?cP(e):[],a=s.length,o=s[0],l=s[a-1],c=[];if(a>i)return uP(e,c,s,a/i),c;const u=lP(s,e,i);if(a>0){let d,h;const f=a>1?Math.round((l-o)/(a-1)):null;for(Ri(e,c,u,ae(f)?0:o-f,o),d=0,h=a-1;d<h;d++)Ri(e,c,u,s[d],s[d+1]);return Ri(e,c,u,l,ae(f)?e.length:l+f),c}return Ri(e,c,u),c}function oP(t){const e=t.options.offset,r=t._tickSize(),n=t._length/r+(e?0:1),i=t._maxLength/r;return Math.floor(Math.min(n,i))}function lP(t,e,r){const n=dP(t),i=e.length/r;if(!n)return Math.max(i,1);const s=nD(n);for(let a=0,o=s.length-1;a<o;a++){const l=s[a];if(l>i)return l}return Math.max(i,1)}function cP(t){const e=[];let r,n;for(r=0,n=t.length;r<n;r++)t[r].major&&e.push(r);return e}function uP(t,e,r,n){let i=0,s=r[0],a;for(n=Math.ceil(n),a=0;a<t.length;a++)a===s&&(e.push(t[a]),i++,s=r[i*n])}function Ri(t,e,r,n,i){const s=J(n,0),a=Math.min(J(i,t.length),t.length);let o=0,l,c,u;for(r=Math.ceil(r),i&&(l=i-n,r=l/Math.floor(l/r)),u=s;u<0;)o++,u=Math.round(s+o*r);for(c=Math.max(s,0);c<a;c++)c===u&&(e.push(t[c]),o++,u=Math.round(s+o*r))}function dP(t){const e=t.length;let r,n;if(e<2)return!1;for(n=t[0],r=1;r<e;++r)if(t[r]-t[r-1]!==n)return!1;return n}const hP=t=>t==="left"?"right":t==="right"?"left":t,Cu=(t,e,r)=>e==="top"||e==="left"?t[e]+r:t[e]-r,Pu=(t,e)=>Math.min(e||t,t);function Eu(t,e){const r=[],n=t.length/e,i=t.length;let s=0;for(;s<i;s+=n)r.push(t[Math.floor(s)]);return r}function fP(t,e,r){const n=t.ticks.length,i=Math.min(e,n-1),s=t._startPixel,a=t._endPixel,o=1e-6;let l=t.getPixelForTick(i),c;if(!(r&&(n===1?c=Math.max(l-s,a-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<s-o||l>a+o)))return l}function gP(t,e){re(t,r=>{const n=r.gc,i=n.length/2;let s;if(i>e){for(s=0;s<i;++s)delete r.data[n[s]];n.splice(0,i)}})}function vn(t){return t.drawTicks?t.tickLength:0}function Ou(t,e){if(!t.display)return 0;const r=Me(t.font,e),n=at(t.padding);return(be(t.text)?t.text.length:1)*r.lineHeight+n.height}function pP(t,e){return Pr(t,{scale:e,type:"scale"})}function mP(t,e,r){return Pr(t,{tick:r,index:e,type:"tick"})}function vP(t,e,r){let n=sl(t);return(r&&e!=="right"||!r&&e==="right")&&(n=hP(n)),n}function bP(t,e,r,n){const{top:i,left:s,bottom:a,right:o,chart:l}=t,{chartArea:c,scales:u}=l;let d=0,h,f,g;const p=a-i,v=o-s;if(t.isHorizontal()){if(f=Ie(n,s,o),Q(r)){const b=Object.keys(r)[0],y=r[b];g=u[b].getPixelForValue(y)+p-e}else r==="center"?g=(c.bottom+c.top)/2+p-e:g=Cu(t,r,e);h=o-s}else{if(Q(r)){const b=Object.keys(r)[0],y=r[b];f=u[b].getPixelForValue(y)-v+e}else r==="center"?f=(c.left+c.right)/2-v+e:f=Cu(t,r,e);g=Ie(n,a,i),d=r==="left"?-dt:dt}return{titleX:f,titleY:g,maxWidth:h,rotation:d}}class sn extends Er{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:n,_suggestedMax:i}=this;return e=pt(e,Number.POSITIVE_INFINITY),r=pt(r,Number.NEGATIVE_INFINITY),n=pt(n,Number.POSITIVE_INFINITY),i=pt(i,Number.NEGATIVE_INFINITY),{min:pt(e,n),max:pt(r,i),minDefined:Re(e),maxDefined:Re(r)}}getMinMax(e){let{min:r,max:n,minDefined:i,maxDefined:s}=this.getUserBounds(),a;if(i&&s)return{min:r,max:n};const o=this.getMatchingVisibleMetas();for(let l=0,c=o.length;l<c;++l)a=o[l].controller.getMinMax(this,e),i||(r=Math.min(r,a.min)),s||(n=Math.max(n,a.max));return r=s&&r>n?n:r,n=i&&r>n?r:n,{min:pt(r,pt(n,r)),max:pt(n,pt(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){le(this.options.beforeUpdate,[this])}update(e,r,n){const{beginAtZero:i,grace:s,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=r,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=FD(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=o<this.ticks.length;this._convertTicksToLabels(l?Eu(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=aP(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,r,n;this.isHorizontal()?(r=this.left,n=this.right):(r=this.top,n=this.bottom,e=!e),this._startPixel=r,this._endPixel=n,this._reversePixels=e,this._length=n-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){le(this.options.afterUpdate,[this])}beforeSetDimensions(){le(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){le(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),le(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){le(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const r=this.options.ticks;let n,i,s;for(n=0,i=e.length;n<i;n++)s=e[n],s.label=le(r.callback,[s.value,n,e],this)}afterTickToLabelConversion(){le(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){le(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,r=e.ticks,n=Pu(this.ticks.length,e.ticks.maxTicksLimit),i=r.minRotation||0,s=r.maxRotation;let a=i,o,l,c;if(!this._isVisible()||!r.display||i>=s||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),d=u.widest.width,h=u.highest.height,f=tt(this.chart.width-d,0,this.maxWidth);o=e.offset?this.maxWidth/n:f/(n-1),d+6>o&&(o=f/(n-(e.offset?.5:1)),l=this.maxHeight-vn(e.grid)-r.padding-Ou(e.title,this.chart.options.font),c=Math.sqrt(d*d+h*h),a=oD(Math.min(Math.asin(tt((u.highest.height+6)/o,-1,1)),Math.asin(tt(l/c,-1,1))-Math.asin(tt(h/c,-1,1)))),a=Math.max(i,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){le(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){le(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:r,options:{ticks:n,title:i,grid:s}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const l=Ou(i,r.options.font);if(o?(e.width=this.maxWidth,e.height=vn(s)+l):(e.height=this.maxHeight,e.width=vn(s)+l),n.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:h}=this._getLabelSizes(),f=n.padding*2,g=vr(this.labelRotation),p=Math.cos(g),v=Math.sin(g);if(o){const b=n.mirror?0:v*d.width+p*h.height;e.height=Math.min(this.maxHeight,e.height+b+f)}else{const b=n.mirror?0:p*d.width+v*h.height;e.width=Math.min(this.maxWidth,e.width+b+f)}this._calculatePadding(c,u,v,p)}}this._handleMargins(),o?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,r,n,i){const{ticks:{align:s,padding:a},position:o}=this.options,l=this.labelRotation!==0,c=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,f=0;l?c?(h=i*e.width,f=n*r.height):(h=n*e.height,f=i*r.width):s==="start"?f=r.width:s==="end"?h=e.width:s!=="inner"&&(h=e.width/2,f=r.width/2),this.paddingLeft=Math.max((h-u+a)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-d+a)*this.width/(this.width-d),0)}else{let u=r.height/2,d=e.height/2;s==="start"?(u=0,d=e.height):s==="end"&&(u=r.height,d=0),this.paddingTop=u+a,this.paddingBottom=d+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){le(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let r,n;for(r=0,n=e.length;r<n;r++)ae(e[r].label)&&(e.splice(r,1),n--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const r=this.options.ticks.sampleSize;let n=this.ticks;r<n.length&&(n=Eu(n,r)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,r,n){const{ctx:i,_longestTextCache:s}=this,a=[],o=[],l=Math.floor(r/Pu(r,n));let c=0,u=0,d,h,f,g,p,v,b,y,_,w,S;for(d=0;d<r;d+=l){if(g=e[d].label,p=this._resolveTickFontOptions(d),i.font=v=p.string,b=s[v]=s[v]||{data:{},gc:[]},y=p.lineHeight,_=w=0,!ae(g)&&!be(g))_=su(i,b.data,b.gc,_,g),w=y;else if(be(g))for(h=0,f=g.length;h<f;++h)S=g[h],!ae(S)&&!be(S)&&(_=su(i,b.data,b.gc,_,S),w+=y);a.push(_),o.push(w),c=Math.max(_,c),u=Math.max(w,u)}gP(s,r);const D=a.indexOf(c),E=o.indexOf(u),O=T=>({width:a[T]||0,height:o[T]||0});return{first:O(0),last:O(r-1),widest:O(D),highest:O(E),widths:a,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const r=this._startPixel+e*this._length;return uD(this._alignToPixels?ar(this.chart,r,0):r)}getDecimalForPixel(e){const r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){const r=this.ticks||[];if(e>=0&&e<r.length){const n=r[e];return n.$context||(n.$context=mP(this.getContext(),e,n))}return this.$context||(this.$context=pP(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,r=vr(this.labelRotation),n=Math.abs(Math.cos(r)),i=Math.abs(Math.sin(r)),s=this._getLabelSizes(),a=e.autoSkipPadding||0,o=s?s.widest.width+a:0,l=s?s.highest.height+a:0;return this.isHorizontal()?l*n>o*i?o/n:l/i:l*i<o*n?l/n:o/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const r=this.axis,n=this.chart,i=this.options,{grid:s,position:a,border:o}=i,l=s.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),h=vn(s),f=[],g=o.setContext(this.getContext()),p=g.display?g.width:0,v=p/2,b=function(V){return ar(n,V,p)};let y,_,w,S,D,E,O,T,L,M,R,F;if(a==="top")y=b(this.bottom),E=this.bottom-h,T=y-v,M=b(e.top)+v,F=e.bottom;else if(a==="bottom")y=b(this.top),M=e.top,F=b(e.bottom)-v,E=y+v,T=this.top+h;else if(a==="left")y=b(this.right),D=this.right-h,O=y-v,L=b(e.left)+v,R=e.right;else if(a==="right")y=b(this.left),L=e.left,R=b(e.right)-v,D=y+v,O=this.left+h;else if(r==="x"){if(a==="center")y=b((e.top+e.bottom)/2+.5);else if(Q(a)){const V=Object.keys(a)[0],X=a[V];y=b(this.chart.scales[V].getPixelForValue(X))}M=e.top,F=e.bottom,E=y+v,T=E+h}else if(r==="y"){if(a==="center")y=b((e.left+e.right)/2);else if(Q(a)){const V=Object.keys(a)[0],X=a[V];y=b(this.chart.scales[V].getPixelForValue(X))}D=y-v,O=D-h,L=e.left,R=e.right}const W=J(i.ticks.maxTicksLimit,d),B=Math.max(1,Math.ceil(d/W));for(_=0;_<d;_+=B){const V=this.getContext(_),X=s.setContext(V),he=o.setContext(V),De=X.lineWidth,ue=X.color,Oe=he.dash||[],de=he.dashOffset,Be=X.tickWidth,$e=X.tickColor,Ce=X.tickBorderDash||[],Ue=X.tickBorderDashOffset;w=fP(this,_,l),w!==void 0&&(S=ar(n,w,De),c?D=O=L=R=S:E=T=M=F=S,f.push({tx1:D,ty1:E,tx2:O,ty2:T,x1:L,y1:M,x2:R,y2:F,width:De,color:ue,borderDash:Oe,borderDashOffset:de,tickWidth:Be,tickColor:$e,tickBorderDash:Ce,tickBorderDashOffset:Ue}))}return this._ticksLength=d,this._borderValue=y,f}_computeLabelItems(e){const r=this.axis,n=this.options,{position:i,ticks:s}=n,a=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=s,h=vn(n.grid),f=h+u,g=d?-u:f,p=-vr(this.labelRotation),v=[];let b,y,_,w,S,D,E,O,T,L,M,R,F="middle";if(i==="top")D=this.bottom-g,E=this._getXAxisLabelAlignment();else if(i==="bottom")D=this.top+g,E=this._getXAxisLabelAlignment();else if(i==="left"){const B=this._getYAxisLabelAlignment(h);E=B.textAlign,S=B.x}else if(i==="right"){const B=this._getYAxisLabelAlignment(h);E=B.textAlign,S=B.x}else if(r==="x"){if(i==="center")D=(e.top+e.bottom)/2+f;else if(Q(i)){const B=Object.keys(i)[0],V=i[B];D=this.chart.scales[B].getPixelForValue(V)+f}E=this._getXAxisLabelAlignment()}else if(r==="y"){if(i==="center")S=(e.left+e.right)/2-f;else if(Q(i)){const B=Object.keys(i)[0],V=i[B];S=this.chart.scales[B].getPixelForValue(V)}E=this._getYAxisLabelAlignment(h).textAlign}r==="y"&&(l==="start"?F="top":l==="end"&&(F="bottom"));const W=this._getLabelSizes();for(b=0,y=o.length;b<y;++b){_=o[b],w=_.label;const B=s.setContext(this.getContext(b));O=this.getPixelForTick(b)+s.labelOffset,T=this._resolveTickFontOptions(b),L=T.lineHeight,M=be(w)?w.length:1;const V=M/2,X=B.color,he=B.textStrokeColor,De=B.textStrokeWidth;let ue=E;a?(S=O,E==="inner"&&(b===y-1?ue=this.options.reverse?"left":"right":b===0?ue=this.options.reverse?"right":"left":ue="center"),i==="top"?c==="near"||p!==0?R=-M*L+L/2:c==="center"?R=-W.highest.height/2-V*L+L:R=-W.highest.height+L/2:c==="near"||p!==0?R=L/2:c==="center"?R=W.highest.height/2-V*L:R=W.highest.height-M*L,d&&(R*=-1),p!==0&&!B.showLabelBackdrop&&(S+=L/2*Math.sin(p))):(D=O,R=(1-M)*L/2);let Oe;if(B.showLabelBackdrop){const de=at(B.backdropPadding),Be=W.heights[b],$e=W.widths[b];let Ce=R-de.top,Ue=0-de.left;switch(F){case"middle":Ce-=Be/2;break;case"bottom":Ce-=Be;break}switch(E){case"center":Ue-=$e/2;break;case"right":Ue-=$e;break;case"inner":b===y-1?Ue-=$e:b>0&&(Ue-=$e/2);break}Oe={left:Ue,top:Ce,width:$e+de.width,height:Be+de.height,color:B.backdropColor}}v.push({label:w,font:T,textOffset:R,options:{rotation:p,color:X,strokeColor:he,strokeWidth:De,textAlign:ue,textBaseline:F,translation:[S,D],backdrop:Oe}})}return v}_getXAxisLabelAlignment(){const{position:e,ticks:r}=this.options;if(-vr(this.labelRotation))return e==="top"?"left":"right";let i="center";return r.align==="start"?i="left":r.align==="end"?i="right":r.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:r,ticks:{crossAlign:n,mirror:i,padding:s}}=this.options,a=this._getLabelSizes(),o=e+s,l=a.widest.width;let c,u;return r==="left"?i?(u=this.right+s,n==="near"?c="left":n==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-o,n==="near"?c="right":n==="center"?(c="center",u-=l/2):(c="left",u=this.left)):r==="right"?i?(u=this.left+s,n==="near"?c="right":n==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+o,n==="near"?c="left":n==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:r},left:n,top:i,width:s,height:a}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(n,i,s,a),e.restore())}getLineWidthForValue(e){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?r.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const r=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,a;const o=(l,c,u)=>{!u.width||!u.color||(n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.setLineDash(u.borderDash||[]),n.lineDashOffset=u.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(c.x,c.y),n.stroke(),n.restore())};if(r.display)for(s=0,a=i.length;s<a;++s){const l=i[s];r.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),r.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:r,options:{border:n,grid:i}}=this,s=n.setContext(this.getContext()),a=n.display?s.width:0;if(!a)return;const o=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,h;this.isHorizontal()?(c=ar(e,this.left,a)-a/2,u=ar(e,this.right,o)+o/2,d=h=l):(d=ar(e,this.top,a)-a/2,h=ar(e,this.bottom,o)+o/2,c=u=l),r.save(),r.lineWidth=s.width,r.strokeStyle=s.color,r.beginPath(),r.moveTo(c,d),r.lineTo(u,h),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&Ks(n,i);const s=this.getLabelItems(e);for(const a of s){const o=a.options,l=a.font,c=a.label,u=a.textOffset;Gn(n,c,0,u,l,o)}i&&Xs(n)}drawTitle(){const{ctx:e,options:{position:r,title:n,reverse:i}}=this;if(!n.display)return;const s=Me(n.font),a=at(n.padding),o=n.align;let l=s.lineHeight/2;r==="bottom"||r==="center"||Q(r)?(l+=a.bottom,be(n.text)&&(l+=s.lineHeight*(n.text.length-1))):l+=a.top;const{titleX:c,titleY:u,maxWidth:d,rotation:h}=bP(this,l,r,o);Gn(e,n.text,0,0,s,{color:n.color,maxWidth:d,rotation:h,textAlign:vP(o,r,i),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,r=e.ticks&&e.ticks.z||0,n=J(e.grid&&e.grid.z,-1),i=J(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==sn.prototype.draw?[{z:r,draw:s=>{this.draw(s)}}]:[{z:n,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:r,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const r=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let s,a;for(s=0,a=r.length;s<a;++s){const o=r[s];o[n]===this.id&&(!e||o.type===e)&&i.push(o)}return i}_resolveTickFontOptions(e){const r=this.options.ticks.setContext(this.getContext(e));return Me(r.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class ji{constructor(e,r,n){this.type=e,this.scope=r,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const r=Object.getPrototypeOf(e);let n;wP(r)&&(n=this.register(r));const i=this.items,s=e.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,yP(e,a,n),this.override&&fe.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const r=this.items,n=e.id,i=this.scope;n in r&&delete r[n],i&&n in fe[i]&&(delete fe[i][n],this.override&&delete Sr[n])}}function yP(t,e,r){const n=Vn(Object.create(null),[r?fe.get(r):{},fe.get(e),t.defaults]);fe.set(e,n),t.defaultRoutes&&xP(e,t.defaultRoutes),t.descriptors&&fe.describe(e,t.descriptors)}function xP(t,e){Object.keys(e).forEach(r=>{const n=r.split("."),i=n.pop(),s=[t].concat(n).join("."),a=e[r].split("."),o=a.pop(),l=a.join(".");fe.route(s,i,l,o)})}function wP(t){return"id"in t&&"defaults"in t}class _P{constructor(){this.controllers=new ji(Nn,"datasets",!0),this.elements=new ji(Er,"elements"),this.plugins=new ji(Object,"plugins"),this.scales=new ji(sn,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,n){[...r].forEach(i=>{const s=n||this._getRegistryForType(i);n||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):re(i,a=>{const o=n||this._getRegistryForType(a);this._exec(e,o,a)})})}_exec(e,r,n){const i=nl(e);le(n["before"+i],[],n),r[e](n),le(n["after"+i],[],n)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){const n=this._typedRegistries[r];if(n.isForType(e))return n}return this.plugins}_get(e,r,n){const i=r.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return i}}var bt=new _P;class SP{constructor(){this._init=[]}notify(e,r,n,i){r==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),a=this._notify(s,e,r,n);return r==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,r,n,i){i=i||{};for(const s of e){const a=s.plugin,o=a[n],l=[r,i,s.options];if(le(o,l,a)===!1&&i.cancelable)return!1}return!0}invalidate(){ae(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){const n=e&&e.config,i=J(n.options&&n.options.plugins,{}),s=kP(n);return i===!1&&!r?[]:CP(e,s,i,r)}_notifyStateChanges(e){const r=this._oldCache||[],n=this._cache,i=(s,a)=>s.filter(o=>!a.some(l=>o.plugin.id===l.plugin.id));this._notify(i(r,n),e,"stop"),this._notify(i(n,r),e,"start")}}function kP(t){const e={},r=[],n=Object.keys(bt.plugins.items);for(let s=0;s<n.length;s++)r.push(bt.getPlugin(n[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const a=i[s];r.indexOf(a)===-1&&(r.push(a),e[a.id]=!0)}return{plugins:r,localIds:e}}function DP(t,e){return!e&&t===!1?null:t===!0?{}:t}function CP(t,{plugins:e,localIds:r},n,i){const s=[],a=t.getContext();for(const o of e){const l=o.id,c=DP(n[l],i);c!==null&&s.push({plugin:o,options:PP(t.config,{plugin:o,local:r[l]},c,a)})}return s}function PP(t,{plugin:e,local:r},n,i){const s=t.pluginScopeKeys(e),a=t.getOptionScopes(n,s);return r&&e.defaults&&a.push(e.defaults),t.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function so(t,e){const r=fe.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function EP(t,e){let r=t;return t==="_index_"?r=e:t==="_value_"&&(r=e==="x"?"y":"x"),r}function OP(t,e){return t===e?"_index_":"_value_"}function Tu(t){if(t==="x"||t==="y"||t==="r")return t}function TP(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function ao(t,...e){if(Tu(t))return t;for(const r of e){const n=r.axis||TP(r.position)||t.length>1&&Tu(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Au(t,e,r){if(r[e+"AxisID"]===t)return{axis:e}}function AP(t,e){if(e.data&&e.data.datasets){const r=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(r.length)return Au(t,"x",r[0])||Au(t,"y",r[0])}return{}}function IP(t,e){const r=Sr[t.type]||{scales:{}},n=e.scales||{},i=so(t.type,e),s=Object.create(null);return Object.keys(n).forEach(a=>{const o=n[a];if(!Q(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const l=ao(a,o,AP(a,t),fe.scales[o.type]),c=OP(l,i),u=r.scales||{};s[a]=An(Object.create(null),[{axis:l},o,u[l],u[c]])}),t.data.datasets.forEach(a=>{const o=a.type||t.type,l=a.indexAxis||so(o,e),u=(Sr[o]||{}).scales||{};Object.keys(u).forEach(d=>{const h=EP(d,l),f=a[h+"AxisID"]||h;s[f]=s[f]||Object.create(null),An(s[f],[{axis:h},n[f],u[d]])})}),Object.keys(s).forEach(a=>{const o=s[a];An(o,[fe.scales[o.type],fe.scale])}),s}function og(t){const e=t.options||(t.options={});e.plugins=J(e.plugins,{}),e.scales=IP(t,e)}function lg(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function MP(t){return t=t||{},t.data=lg(t.data),og(t),t}const Iu=new Map,cg=new Set;function Ni(t,e){let r=Iu.get(t);return r||(r=e(),Iu.set(t,r),cg.add(r)),r}const bn=(t,e,r)=>{const n=hs(e,r);n!==void 0&&t.add(n)};class RP{constructor(e){this._config=MP(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=lg(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),og(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Ni(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return Ni(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return Ni(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){const r=e.id,n=this.type;return Ni(`${n}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){const n=this._scopeCache;let i=n.get(e);return(!i||r)&&(i=new Map,n.set(e,i)),i}getOptionScopes(e,r,n){const{options:i,type:s}=this,a=this._cachedScopes(e,n),o=a.get(r);if(o)return o;const l=new Set;r.forEach(u=>{e&&(l.add(e),u.forEach(d=>bn(l,e,d))),u.forEach(d=>bn(l,i,d)),u.forEach(d=>bn(l,Sr[s]||{},d)),u.forEach(d=>bn(l,fe,d)),u.forEach(d=>bn(l,ro,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),cg.has(r)&&a.set(r,c),c}chartOptionScopes(){const{options:e,type:r}=this;return[e,Sr[r]||{},fe.datasets[r]||{},{type:r},fe,ro]}resolveNamedOptions(e,r,n,i=[""]){const s={$shared:!0},{resolver:a,subPrefixes:o}=Mu(this._resolverCache,e,i);let l=a;if(NP(a,r)){s.$shared=!1,n=Yt(n)?n():n;const c=this.createResolver(e,n,o);l=Jr(a,n,c)}for(const c of r)s[c]=l[c];return s}createResolver(e,r,n=[""],i){const{resolver:s}=Mu(this._resolverCache,e,n);return Q(r)?Jr(s,r,void 0,i):s}}function Mu(t,e,r){let n=t.get(e);n||(n=new Map,t.set(e,n));const i=r.join();let s=n.get(i);return s||(s={resolver:ol(e,r),subPrefixes:r.filter(o=>!o.toLowerCase().includes("hover"))},n.set(i,s)),s}const jP=t=>Q(t)&&Object.getOwnPropertyNames(t).some(e=>Yt(t[e]));function NP(t,e){const{isScriptable:r,isIndexable:n}=zf(t);for(const i of e){const s=r(i),a=n(i),o=(a||s)&&t[i];if(s&&(Yt(o)||jP(o))||a&&be(o))return!0}return!1}var LP="4.4.9";const FP=["top","bottom","left","right","chartArea"];function Ru(t,e){return t==="top"||t==="bottom"||FP.indexOf(t)===-1&&e==="x"}function ju(t,e){return function(r,n){return r[t]===n[t]?r[e]-n[e]:r[t]-n[t]}}function Nu(t){const e=t.chart,r=e.options.animation;e.notifyPlugins("afterRender"),le(r&&r.onComplete,[t],e)}function BP(t){const e=t.chart,r=e.options.animation;le(r&&r.onProgress,[t],e)}function ug(t){return ul()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Hi={},Lu=t=>{const e=ug(t);return Object.values(Hi).filter(r=>r.canvas===e).pop()};function $P(t,e,r){const n=Object.keys(t);for(const i of n){const s=+i;if(s>=e){const a=t[i];delete t[i],(r>0||s>e)&&(t[s+r]=a)}}}function UP(t,e,r,n){return!r||t.type==="mouseout"?null:n?e:t}var Rt;let Qs=(Rt=class{static register(...e){bt.add(...e),Fu()}static unregister(...e){bt.remove(...e),Fu()}constructor(e,r){const n=this.config=new RP(r),i=ug(e),s=Lu(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||sP(i)),this.platform.updateConfig(n);const o=this.platform.acquireContext(i,a.aspectRatio),l=o&&o.canvas,c=l&&l.height,u=l&&l.width;if(this.id=Yk(),this.ctx=o,this.canvas=l,this.width=u,this.height=c,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new SP,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=pD(d=>this.update(d),a.resizeDelay||0),this._dataChanges=[],Hi[this.id]=this,!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Et.listen(this,"complete",Nu),Et.listen(this,"progress",BP),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:n,height:i,_aspectRatio:s}=this;return ae(e)?r&&s?s:i?n/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return bt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():cu(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return au(this.canvas,this.ctx),this}stop(){return Et.stop(this),this}resize(e,r){Et.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const n=this.options,i=this.canvas,s=n.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(i,e,r,s),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,cu(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),le(n.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};re(r,(n,i)=>{n.id=i})}buildOrUpdateScales(){const e=this.options,r=e.scales,n=this.scales,i=Object.keys(n).reduce((a,o)=>(a[o]=!1,a),{});let s=[];r&&(s=s.concat(Object.keys(r).map(a=>{const o=r[a],l=ao(a,o),c=l==="r",u=l==="x";return{options:o,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),re(s,a=>{const o=a.options,l=o.id,c=ao(l,o),u=J(o.type,a.dtype);(o.position===void 0||Ru(o.position,c)!==Ru(a.dposition))&&(o.position=a.dposition),i[l]=!0;let d=null;if(l in n&&n[l].type===u)d=n[l];else{const h=bt.getScale(u);d=new h({id:l,type:u,ctx:this.ctx,chart:this}),n[d.id]=d}d.init(o,e)}),re(i,(a,o)=>{a||delete n[o]}),re(n,a=>{rt.configure(this,a,a.options),rt.addBox(this,a)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,n=e.length;if(e.sort((i,s)=>i.index-s.index),n>r){for(let i=r;i<n;++i)this._destroyDatasetMeta(i);e.splice(r,n-r)}this._sortedMetasets=e.slice(0).sort(ju("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((n,i)=>{r.filter(s=>s===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=r.length;n<i;n++){const s=r[n];let a=this.getDatasetMeta(n);const o=s.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(n),a=this.getDatasetMeta(n)),a.type=o,a.indexAxis=s.indexAxis||so(o,this.options),a.order=s.order||0,a.index=n,a.label=""+s.label,a.visible=this.isDatasetVisible(n),a.controller)a.controller.updateIndex(n),a.controller.linkScales();else{const l=bt.getController(o),{datasetElementType:c,dataElementType:u}=fe.datasets[o];Object.assign(l,{dataElementType:bt.getElement(u),datasetElementType:c&&bt.getElement(c)}),a.controller=new l(this,n),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){re(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const n=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),h=!i&&s.indexOf(d)===-1;d.buildOrUpdateElements(h),a=Math.max(+d.getMaxOverflow(),a)}a=this._minPadding=n.layout.autoPadding?a:0,this._updateLayout(a),i||re(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(ju("z","_idx"));const{_active:o,_lastEvent:l}=this;l?this._eventHandler(l,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){re(this.scales,e=>{rt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!Xc(r,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:s}of r){const a=n==="_removeElements"?-s:s;$P(e,i,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,n=s=>new Set(e.filter(a=>a[0]===s).map((a,o)=>o+","+a.splice(1).join(","))),i=n(0);for(let s=1;s<r;s++)if(!Xc(i,n(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;rt.update(this,this.width,this.height,e);const r=this.chartArea,n=r.width<=0||r.height<=0;this._layers=[],re(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,n=this.data.datasets.length;r<n;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,n=this.data.datasets.length;r<n;++r)this._updateDataset(r,Yt(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const n=this.getDatasetMeta(e),i={meta:n,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(r),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Et.has(this)?this.attached&&!Et.running(this)&&Et.start(this):(this.draw(),Nu({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,n=[];let i,s;for(i=0,s=r.length;i<s;++i){const a=r[i];(!e||a.visible)&&n.push(a)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,n={meta:e,index:e.index,cancelable:!0},i=Zf(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(i&&Ks(r,i),e.controller.draw(),i&&Xs(r),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return qn(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,n,i){const s=FC.modes[r];return typeof s=="function"?s(this,e,n,i):[]}getDatasetMeta(e){const r=this.data.datasets[e],n=this._metasets;let i=n.filter(s=>s&&s._dataset===r).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=Pr(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(e,r){const n=this.getDatasetMeta(e);n.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,n){const i=n?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,i);fs(r)?(s.data[r].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),a.update(s,{visible:n}),this.update(o=>o.datasetIndex===e?i:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),Et.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),au(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete Hi[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,n=(s,a)=>{r.addEventListener(this,s,a),e[s]=a},i=(s,a,o)=>{s.offsetX=a,s.offsetY=o,this._eventHandler(s)};re(this.options.events,s=>n(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,n=(l,c)=>{r.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(r.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let a;const o=()=>{i("attach",o),this.attached=!0,this.resize(),n("resize",s),n("detach",a)};a=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),n("attach",o)},r.isAttached(this.canvas)?o():a()}unbindEvents(){re(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},re(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,n){const i=n?"set":"remove";let s,a,o,l;for(r==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),o=0,l=e.length;o<l;++o){a=e[o];const c=a&&this.getDatasetMeta(a.datasetIndex).controller;c&&c[i+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],n=e.map(({datasetIndex:s,index:a})=>{const o=this.getDatasetMeta(s);if(!o)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:o.data[a],index:a}});!us(n,r)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,r))}notifyPlugins(e,r,n){return this._plugins.notify(this,e,r,n)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,n){const i=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),a=s(r,e),o=n?e:s(e,r);a.length&&this.updateHoverStyle(a,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(e,r){const n={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},i=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const s=this._handleEvent(e,r,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(s||n.changed)&&this.render(),this}_handleEvent(e,r,n){const{_active:i=[],options:s}=this,a=r,o=this._getActiveElements(e,i,n,a),l=eD(e),c=UP(e,this._lastEvent,n,l);n&&(this._lastEvent=null,le(s.onHover,[e,o,this],this),l&&le(s.onClick,[e,o,this],this));const u=!us(o,i);return(u||r)&&(this._active=o,this._updateHoverStyles(o,i,r)),this._lastEvent=c,u}_getActiveElements(e,r,n,i){if(e.type==="mouseout")return[];if(!n)return r;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}},G(Rt,"defaults",fe),G(Rt,"instances",Hi),G(Rt,"overrides",Sr),G(Rt,"registry",bt),G(Rt,"version",LP),G(Rt,"getChart",Lu),Rt);function Fu(){return re(Qs.instances,t=>t._plugins.invalidate())}function dg(t,e,r=e){t.lineCap=J(r.borderCapStyle,e.borderCapStyle),t.setLineDash(J(r.borderDash,e.borderDash)),t.lineDashOffset=J(r.borderDashOffset,e.borderDashOffset),t.lineJoin=J(r.borderJoinStyle,e.borderJoinStyle),t.lineWidth=J(r.borderWidth,e.borderWidth),t.strokeStyle=J(r.borderColor,e.borderColor)}function WP(t,e,r){t.lineTo(r.x,r.y)}function zP(t){return t.stepped?ED:t.tension||t.cubicInterpolationMode==="monotone"?OD:WP}function hg(t,e,r={}){const n=t.length,{start:i=0,end:s=n-1}=r,{start:a,end:o}=e,l=Math.max(i,a),c=Math.min(s,o),u=i<a&&s<a||i>o&&s>o;return{count:n,start:l,loop:e.loop,ilen:c<l&&!u?n+c-l:c-l}}function VP(t,e,r,n){const{points:i,options:s}=e,{count:a,start:o,loop:l,ilen:c}=hg(i,r,n),u=zP(s);let{move:d=!0,reverse:h}=n||{},f,g,p;for(f=0;f<=c;++f)g=i[(o+(h?c-f:f))%a],!g.skip&&(d?(t.moveTo(g.x,g.y),d=!1):u(t,p,g,h,s.stepped),p=g);return l&&(g=i[(o+(h?c:0))%a],u(t,p,g,h,s.stepped)),!!l}function HP(t,e,r,n){const i=e.points,{count:s,start:a,ilen:o}=hg(i,r,n),{move:l=!0,reverse:c}=n||{};let u=0,d=0,h,f,g,p,v,b;const y=w=>(a+(c?o-w:w))%s,_=()=>{p!==v&&(t.lineTo(u,v),t.lineTo(u,p),t.lineTo(u,b))};for(l&&(f=i[y(0)],t.moveTo(f.x,f.y)),h=0;h<=o;++h){if(f=i[y(h)],f.skip)continue;const w=f.x,S=f.y,D=w|0;D===g?(S<p?p=S:S>v&&(v=S),u=(d*u+w)/++d):(_(),t.lineTo(w,S),g=D,d=0,p=v=S),b=S}_()}function oo(t){const e=t.options,r=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!r?HP:VP}function qP(t){return t.stepped?lC:t.tension||t.cubicInterpolationMode==="monotone"?cC:hr}function GP(t,e,r,n){let i=e._path;i||(i=e._path=new Path2D,e.path(i,r,n)&&i.closePath()),dg(t,e.options),t.stroke(i)}function YP(t,e,r,n){const{segments:i,options:s}=e,a=oo(e);for(const o of i)dg(t,s,o.style),t.beginPath(),a(t,e,o,{start:r,end:r+n-1})&&t.closePath(),t.stroke()}const KP=typeof Path2D=="function";function XP(t,e,r,n){KP&&!e.options.segment?GP(t,e,r,n):YP(t,e,r,n)}class Wt extends Er{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;eC(this._points,n,e,i,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=pC(this,this.options.segment))}first(){const e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){const e=this.segments,r=this.points,n=e.length;return n&&r[e[n-1].end]}interpolate(e,r){const n=this.options,i=e[r],s=this.points,a=Qf(this,{property:r,start:i,end:i});if(!a.length)return;const o=[],l=qP(n);let c,u;for(c=0,u=a.length;c<u;++c){const{start:d,end:h}=a[c],f=s[d],g=s[h];if(f===g){o.push(f);continue}const p=Math.abs((i-f[r])/(g[r]-f[r])),v=l(f,g,p,n.stepped);v[r]=e[r],o.push(v)}return o.length===1?o[0]:o}pathSegment(e,r,n){return oo(this)(e,this,r,n)}path(e,r,n){const i=this.segments,s=oo(this);let a=this._loop;r=r||0,n=n||this.points.length-r;for(const o of i)a&=s(e,this,o,{start:r,end:r+n-1});return!!a}draw(e,r,n,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),XP(e,this,n,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}G(Wt,"id","line"),G(Wt,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),G(Wt,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),G(Wt,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Bu(t,e,r,n){const i=t.options,{[r]:s}=t.getProps([r],n);return Math.abs(e-s)<i.radius+i.hitRadius}class qi extends Er{constructor(r){super();G(this,"parsed");G(this,"skip");G(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,n,i){const s=this.options,{x:a,y:o}=this.getProps(["x","y"],i);return Math.pow(r-a,2)+Math.pow(n-o,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(r,n){return Bu(this,r,"x",n)}inYRange(r,n){return Bu(this,r,"y",n)}getCenterPoint(r){const{x:n,y:i}=this.getProps(["x","y"],r);return{x:n,y:i}}size(r){r=r||this.options||{};let n=r.radius||0;n=Math.max(n,n&&r.hoverRadius||0);const i=n&&r.borderWidth||0;return(n+i)*2}draw(r,n){const i=this.options;this.skip||i.radius<.1||!qn(this,n,this.size(i)/2)||(r.strokeStyle=i.borderColor,r.lineWidth=i.borderWidth,r.fillStyle=i.backgroundColor,no(r,i,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}G(qi,"id","point"),G(qi,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),G(qi,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function JP(t,e,r){const n=t.segments,i=t.points,s=e.points,a=[];for(const o of n){let{start:l,end:c}=o;c=fl(l,c,i);const u=lo(r,i[l],i[c],o.loop);if(!e.segments){a.push({source:o,target:u,start:i[l],end:i[c]});continue}const d=Qf(e,u);for(const h of d){const f=lo(r,s[h.start],s[h.end],h.loop),g=Jf(o,i,f);for(const p of g)a.push({source:p,target:h,start:{[r]:$u(u,f,"start",Math.max)},end:{[r]:$u(u,f,"end",Math.min)}})}}return a}function lo(t,e,r,n){if(n)return;let i=e[t],s=r[t];return t==="angle"&&(i=xt(i),s=xt(s)),{property:t,start:i,end:s}}function QP(t,e){const{x:r=null,y:n=null}=t||{},i=e.points,s=[];return e.segments.forEach(({start:a,end:o})=>{o=fl(a,o,i);const l=i[a],c=i[o];n!==null?(s.push({x:l.x,y:n}),s.push({x:c.x,y:n})):r!==null&&(s.push({x:r,y:l.y}),s.push({x:r,y:c.y}))}),s}function fl(t,e,r){for(;e>t;e--){const n=r[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function $u(t,e,r,n){return t&&e?n(t[r],e[r]):t?t[r]:e?e[r]:0}function fg(t,e){let r=[],n=!1;return be(t)?(n=!0,r=t):r=QP(t,e),r.length?new Wt({points:r,options:{tension:0},_loop:n,_fullLoop:n}):null}function Uu(t){return t&&t.fill!==!1}function ZP(t,e,r){let i=t[e].fill;const s=[e];let a;if(!r)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!Re(i))return i;if(a=t[i],!a)return!1;if(a.visible)return i;s.push(i),i=a.fill}return!1}function eE(t,e,r){const n=iE(t);if(Q(n))return isNaN(n.value)?!1:n;let i=parseFloat(n);return Re(i)&&Math.floor(i)===i?tE(n[0],e,i,r):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function tE(t,e,r,n){return(t==="-"||t==="+")&&(r=e+r),r===e||r<0||r>=n?!1:r}function rE(t,e){let r=null;return t==="start"?r=e.bottom:t==="end"?r=e.top:Q(t)?r=e.getPixelForValue(t.value):e.getBasePixel&&(r=e.getBasePixel()),r}function nE(t,e,r){let n;return t==="start"?n=r:t==="end"?n=e.options.reverse?e.min:e.max:Q(t)?n=t.value:n=e.getBaseValue(),n}function iE(t){const e=t.options,r=e.fill;let n=J(r&&r.target,r);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function sE(t){const{scale:e,index:r,line:n}=t,i=[],s=n.segments,a=n.points,o=aE(e,r);o.push(fg({x:null,y:e.bottom},n));for(let l=0;l<s.length;l++){const c=s[l];for(let u=c.start;u<=c.end;u++)oE(i,a[u],o)}return new Wt({points:i,options:{}})}function aE(t,e){const r=[],n=t.getMatchingVisibleMetas("line");for(let i=0;i<n.length;i++){const s=n[i];if(s.index===e)break;s.hidden||r.unshift(s.dataset)}return r}function oE(t,e,r){const n=[];for(let i=0;i<r.length;i++){const s=r[i],{first:a,last:o,point:l}=lE(s,e,"x");if(!(!l||a&&o)){if(a)n.unshift(l);else if(t.push(l),!o)break}}t.push(...n)}function lE(t,e,r){const n=t.interpolate(e,r);if(!n)return{};const i=n[r],s=t.segments,a=t.points;let o=!1,l=!1;for(let c=0;c<s.length;c++){const u=s[c],d=a[u.start][r],h=a[u.end][r];if($r(i,d,h)){o=i===d,l=i===h;break}}return{first:o,last:l,point:n}}class gg{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,r,n){const{x:i,y:s,radius:a}=this;return r=r||{start:0,end:ht},e.arc(i,s,a,r.end,r.start,!0),!n.bounds}interpolate(e){const{x:r,y:n,radius:i}=this,s=e.angle;return{x:r+Math.cos(s)*i,y:n+Math.sin(s)*i,angle:s}}}function cE(t){const{chart:e,fill:r,line:n}=t;if(Re(r))return uE(e,r);if(r==="stack")return sE(t);if(r==="shape")return!0;const i=dE(t);return i instanceof gg?i:fg(i,n)}function uE(t,e){const r=t.getDatasetMeta(e);return r&&t.isDatasetVisible(e)?r.dataset:null}function dE(t){return(t.scale||{}).getPointPositionForValue?fE(t):hE(t)}function hE(t){const{scale:e={},fill:r}=t,n=rE(r,e);if(Re(n)){const i=e.isHorizontal();return{x:i?n:null,y:i?null:n}}return null}function fE(t){const{scale:e,fill:r}=t,n=e.options,i=e.getLabels().length,s=n.reverse?e.max:e.min,a=nE(r,e,s),o=[];if(n.grid.circular){const l=e.getPointPositionForValue(0,s);return new gg({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(a)})}for(let l=0;l<i;++l)o.push(e.getPointPositionForValue(l,a));return o}function Ia(t,e,r){const n=cE(e),{chart:i,index:s,line:a,scale:o,axis:l}=e,c=a.options,u=c.fill,d=c.backgroundColor,{above:h=d,below:f=d}=u||{},g=i.getDatasetMeta(s),p=Zf(i,g);n&&a.points.length&&(Ks(t,r),gE(t,{line:a,target:n,above:h,below:f,area:r,scale:o,axis:l,clip:p}),Xs(t))}function gE(t,e){const{line:r,target:n,above:i,below:s,area:a,scale:o,clip:l}=e,c=r._loop?"angle":e.axis;t.save(),c==="x"&&s!==i&&(Wu(t,n,a.top),zu(t,{line:r,target:n,color:i,scale:o,property:c,clip:l}),t.restore(),t.save(),Wu(t,n,a.bottom)),zu(t,{line:r,target:n,color:s,scale:o,property:c,clip:l}),t.restore()}function Wu(t,e,r){const{segments:n,points:i}=e;let s=!0,a=!1;t.beginPath();for(const o of n){const{start:l,end:c}=o,u=i[l],d=i[fl(l,c,i)];s?(t.moveTo(u.x,u.y),s=!1):(t.lineTo(u.x,r),t.lineTo(u.x,u.y)),a=!!e.pathSegment(t,o,{move:a}),a?t.closePath():t.lineTo(d.x,r)}t.lineTo(e.first().x,r),t.closePath(),t.clip()}function zu(t,e){const{line:r,target:n,property:i,color:s,scale:a,clip:o}=e,l=JP(r,n,i);for(const{source:c,target:u,start:d,end:h}of l){const{style:{backgroundColor:f=s}={}}=c,g=n!==!0;t.save(),t.fillStyle=f,pE(t,a,o,g&&lo(i,d,h)),t.beginPath();const p=!!r.pathSegment(t,c);let v;if(g){p?t.closePath():Vu(t,n,h,i);const b=!!n.pathSegment(t,u,{move:p,reverse:!0});v=p&&b,v||Vu(t,n,d,i)}t.closePath(),t.fill(v?"evenodd":"nonzero"),t.restore()}}function pE(t,e,r,n){const i=e.chart.chartArea,{property:s,start:a,end:o}=n||{};if(s==="x"||s==="y"){let l,c,u,d;s==="x"?(l=a,c=i.top,u=o,d=i.bottom):(l=i.left,c=a,u=i.right,d=o),t.beginPath(),r&&(l=Math.max(l,r.left),u=Math.min(u,r.right),c=Math.max(c,r.top),d=Math.min(d,r.bottom)),t.rect(l,c,u-l,d-c),t.clip()}}function Vu(t,e,r,n){const i=e.interpolate(r,n);i&&t.lineTo(i.x,i.y)}var mE={id:"filler",afterDatasetsUpdate(t,e,r){const n=(t.data.datasets||[]).length,i=[];let s,a,o,l;for(a=0;a<n;++a)s=t.getDatasetMeta(a),o=s.dataset,l=null,o&&o.options&&o instanceof Wt&&(l={visible:t.isDatasetVisible(a),index:a,fill:eE(o,a,n),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:o}),s.$filler=l,i.push(l);for(a=0;a<n;++a)l=i[a],!(!l||l.fill===!1)&&(l.fill=ZP(i,a,r.propagate))},beforeDraw(t,e,r){const n=r.drawTime==="beforeDraw",i=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let a=i.length-1;a>=0;--a){const o=i[a].$filler;o&&(o.line.updateControlPoints(s,o.axis),n&&o.fill&&Ia(t.ctx,o,s))}},beforeDatasetsDraw(t,e,r){if(r.drawTime!=="beforeDatasetsDraw")return;const n=t.getSortedVisibleDatasetMetas();for(let i=n.length-1;i>=0;--i){const s=n[i].$filler;Uu(s)&&Ia(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,r){const n=e.meta.$filler;!Uu(n)||r.drawTime!=="beforeDatasetDraw"||Ia(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Hu=(t,e)=>{let{boxHeight:r=e,boxWidth:n=e}=t;return t.usePointStyle&&(r=Math.min(r,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(e,r)}},vE=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class qu extends Er{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r,n){this.maxWidth=e,this.maxHeight=r,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let r=le(e.generateLabels,[this.chart],this)||[];e.filter&&(r=r.filter(n=>e.filter(n,this.chart.data))),e.sort&&(r=r.sort((n,i)=>e.sort(n,i,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:e,ctx:r}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,i=Me(n.font),s=i.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:l}=Hu(n,s);let c,u;r.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(a,s,o,l)+10):(u=this.maxHeight,c=this._fitCols(a,i,o,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,r,n,i){const{ctx:s,maxWidth:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+o;let d=e;s.textAlign="left",s.textBaseline="middle";let h=-1,f=-u;return this.legendItems.forEach((g,p)=>{const v=n+r/2+s.measureText(g.text).width;(p===0||c[c.length-1]+v+2*o>a)&&(d+=u,c[c.length-(p>0?0:1)]=0,f+=u,h++),l[p]={left:0,top:f,row:h,width:v,height:i},c[c.length-1]+=v+o}),d}_fitCols(e,r,n,i){const{ctx:s,maxHeight:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=a-e;let d=o,h=0,f=0,g=0,p=0;return this.legendItems.forEach((v,b)=>{const{itemWidth:y,itemHeight:_}=bE(n,r,s,v,i);b>0&&f+_+2*o>u&&(d+=h+o,c.push({width:h,height:f}),g+=h+o,p++,h=f=0),l[b]={left:g,top:f,col:p,width:y,height:_},h=Math.max(h,y),f+=_+o}),d+=h,c.push({width:h,height:f}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:n,labels:{padding:i},rtl:s}}=this,a=zr(s,this.left,this.width);if(this.isHorizontal()){let o=0,l=Ie(n,this.left+i,this.right-this.lineWidths[o]);for(const c of r)o!==c.row&&(o=c.row,l=Ie(n,this.left+i,this.right-this.lineWidths[o])),c.top+=this.top+e+i,c.left=a.leftForLtr(a.x(l),c.width),l+=c.width+i}else{let o=0,l=Ie(n,this.top+e+i,this.bottom-this.columnSizes[o].height);for(const c of r)c.col!==o&&(o=c.col,l=Ie(n,this.top+e+i,this.bottom-this.columnSizes[o].height)),c.top=l,c.left+=this.left+i,c.left=a.leftForLtr(a.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Ks(e,this),this._draw(),Xs(e)}}_draw(){const{options:e,columnSizes:r,lineWidths:n,ctx:i}=this,{align:s,labels:a}=e,o=fe.color,l=zr(e.rtl,this.left,this.width),c=Me(a.font),{padding:u}=a,d=c.size,h=d/2;let f;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:g,boxHeight:p,itemHeight:v}=Hu(a,d),b=function(D,E,O){if(isNaN(g)||g<=0||isNaN(p)||p<0)return;i.save();const T=J(O.lineWidth,1);if(i.fillStyle=J(O.fillStyle,o),i.lineCap=J(O.lineCap,"butt"),i.lineDashOffset=J(O.lineDashOffset,0),i.lineJoin=J(O.lineJoin,"miter"),i.lineWidth=T,i.strokeStyle=J(O.strokeStyle,o),i.setLineDash(J(O.lineDash,[])),a.usePointStyle){const L={radius:p*Math.SQRT2/2,pointStyle:O.pointStyle,rotation:O.rotation,borderWidth:T},M=l.xPlus(D,g/2),R=E+h;Uf(i,L,M,R,a.pointStyleWidth&&g)}else{const L=E+Math.max((d-p)/2,0),M=l.leftForLtr(D,g),R=jn(O.borderRadius);i.beginPath(),Object.values(R).some(F=>F!==0)?io(i,{x:M,y:L,w:g,h:p,radius:R}):i.rect(M,L,g,p),i.fill(),T!==0&&i.stroke()}i.restore()},y=function(D,E,O){Gn(i,O.text,D,E+v/2,c,{strikethrough:O.hidden,textAlign:l.textAlign(O.textAlign)})},_=this.isHorizontal(),w=this._computeTitleHeight();_?f={x:Ie(s,this.left+u,this.right-n[0]),y:this.top+u+w,line:0}:f={x:this.left+u,y:Ie(s,this.top+w+u,this.bottom-r[0].height),line:0},Yf(this.ctx,e.textDirection);const S=v+u;this.legendItems.forEach((D,E)=>{i.strokeStyle=D.fontColor,i.fillStyle=D.fontColor;const O=i.measureText(D.text).width,T=l.textAlign(D.textAlign||(D.textAlign=a.textAlign)),L=g+h+O;let M=f.x,R=f.y;l.setWidth(this.width),_?E>0&&M+L+u>this.right&&(R=f.y+=S,f.line++,M=f.x=Ie(s,this.left+u,this.right-n[f.line])):E>0&&R+S>this.bottom&&(M=f.x=M+r[f.line].width+u,f.line++,R=f.y=Ie(s,this.top+w+u,this.bottom-r[f.line].height));const F=l.x(M);if(b(F,R,D),M=mD(T,M+g+h,_?M+L:this.right,e.rtl),y(l.x(M),R,D),_)f.x+=L+u;else if(typeof D.text!="string"){const W=c.lineHeight;f.y+=pg(D,W)+u}else f.y+=S}),Kf(this.ctx,e.textDirection)}drawTitle(){const e=this.options,r=e.title,n=Me(r.font),i=at(r.padding);if(!r.display)return;const s=zr(e.rtl,this.left,this.width),a=this.ctx,o=r.position,l=n.size/2,c=i.top+l;let u,d=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+c,d=Ie(e.align,d,this.right-h);else{const g=this.columnSizes.reduce((p,v)=>Math.max(p,v.height),0);u=c+Ie(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}const f=Ie(o,d,d+h);a.textAlign=s.textAlign(sl(o)),a.textBaseline="middle",a.strokeStyle=r.color,a.fillStyle=r.color,a.font=n.string,Gn(a,r.text,f,u,n)}_computeTitleHeight(){const e=this.options.title,r=Me(e.font),n=at(e.padding);return e.display?r.lineHeight+n.height:0}_getLegendItemAt(e,r){let n,i,s;if($r(e,this.left,this.right)&&$r(r,this.top,this.bottom)){for(s=this.legendHitBoxes,n=0;n<s.length;++n)if(i=s[n],$r(e,i.left,i.left+i.width)&&$r(r,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(e){const r=this.options;if(!wE(e.type,r))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=vE(i,n);i&&!s&&le(r.onLeave,[e,i,this],this),this._hoveredItem=n,n&&!s&&le(r.onHover,[e,n,this],this)}else n&&le(r.onClick,[e,n,this],this)}}function bE(t,e,r,n,i){const s=yE(n,t,e,r),a=xE(i,n,e.lineHeight);return{itemWidth:s,itemHeight:a}}function yE(t,e,r,n){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((s,a)=>s.length>a.length?s:a)),e+r.size/2+n.measureText(i).width}function xE(t,e,r){let n=t;return typeof e.text!="string"&&(n=pg(e,r)),n}function pg(t,e){const r=t.text?t.text.length:0;return e*r}function wE(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var _E={id:"legend",_element:qu,start(t,e,r){const n=t.legend=new qu({ctx:t.ctx,options:r,chart:t});rt.configure(t,n,r),rt.addBox(t,n)},stop(t){rt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,r){const n=t.legend;rt.configure(t,n,r),n.options=r},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,r){const n=e.datasetIndex,i=r.chart;i.isDatasetVisible(n)?(i.hide(n),e.hidden=!0):(i.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:i,color:s,useBorderRadius:a,borderRadius:o}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(r?0:void 0),u=at(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:n||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:a&&(o||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class mg extends Er{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=r;const i=be(n.text)?n.text.length:1;this._padding=at(n.padding);const s=i*Me(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:r,left:n,bottom:i,right:s,options:a}=this,o=a.align;let l=0,c,u,d;return this.isHorizontal()?(u=Ie(o,n,s),d=r+e,c=s-n):(a.position==="left"?(u=n+e,d=Ie(o,i,r),l=we*-.5):(u=s-e,d=Ie(o,r,i),l=we*.5),c=i-r),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,r=this.options;if(!r.display)return;const n=Me(r.font),s=n.lineHeight/2+this._padding.top,{titleX:a,titleY:o,maxWidth:l,rotation:c}=this._drawArgs(s);Gn(e,r.text,0,0,n,{color:r.color,maxWidth:l,rotation:c,textAlign:sl(r.align),textBaseline:"middle",translation:[a,o]})}}function SE(t,e){const r=new mg({ctx:t.ctx,options:e,chart:t});rt.configure(t,r,e),rt.addBox(t,r),t.titleBlock=r}var kE={id:"title",_element:mg,start(t,e,r){SE(t,r)},stop(t){const e=t.titleBlock;rt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,r){const n=t.titleBlock;rt.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const _n={average(t){if(!t.length)return!1;let e,r,n=new Set,i=0,s=0;for(e=0,r=t.length;e<r;++e){const o=t[e].element;if(o&&o.hasValue()){const l=o.tooltipPosition();n.add(l.x),i+=l.y,++s}}return s===0||n.size===0?!1:{x:[...n].reduce((o,l)=>o+l)/n.size,y:i/s}},nearest(t,e){if(!t.length)return!1;let r=e.x,n=e.y,i=Number.POSITIVE_INFINITY,s,a,o;for(s=0,a=t.length;s<a;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=to(e,c);u<i&&(i=u,o=l)}}if(o){const l=o.tooltipPosition();r=l.x,n=l.y}return{x:r,y:n}}};function vt(t,e){return e&&(be(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ot(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function DE(t,e){const{element:r,datasetIndex:n,index:i}=e,s=t.getDatasetMeta(n).controller,{label:a,value:o}=s.getLabelAndValue(i);return{chart:t,label:a,parsed:s.getParsed(i),raw:t.data.datasets[n].data[i],formattedValue:o,dataset:s.getDataset(),dataIndex:i,datasetIndex:n,element:r}}function Gu(t,e){const r=t.chart.ctx,{body:n,footer:i,title:s}=t,{boxWidth:a,boxHeight:o}=e,l=Me(e.bodyFont),c=Me(e.titleFont),u=Me(e.footerFont),d=s.length,h=i.length,f=n.length,g=at(e.padding);let p=g.height,v=0,b=n.reduce((w,S)=>w+S.before.length+S.lines.length+S.after.length,0);if(b+=t.beforeBody.length+t.afterBody.length,d&&(p+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),b){const w=e.displayColors?Math.max(o,l.lineHeight):l.lineHeight;p+=f*w+(b-f)*l.lineHeight+(b-1)*e.bodySpacing}h&&(p+=e.footerMarginTop+h*u.lineHeight+(h-1)*e.footerSpacing);let y=0;const _=function(w){v=Math.max(v,r.measureText(w).width+y)};return r.save(),r.font=c.string,re(t.title,_),r.font=l.string,re(t.beforeBody.concat(t.afterBody),_),y=e.displayColors?a+2+e.boxPadding:0,re(n,w=>{re(w.before,_),re(w.lines,_),re(w.after,_)}),y=0,r.font=u.string,re(t.footer,_),r.restore(),v+=g.width,{width:v,height:p}}function CE(t,e){const{y:r,height:n}=e;return r<n/2?"top":r>t.height-n/2?"bottom":"center"}function PE(t,e,r,n){const{x:i,width:s}=n,a=r.caretSize+r.caretPadding;if(t==="left"&&i+s+a>e.width||t==="right"&&i-s-a<0)return!0}function EE(t,e,r,n){const{x:i,width:s}=r,{width:a,chartArea:{left:o,right:l}}=t;let c="center";return n==="center"?c=i<=(o+l)/2?"left":"right":i<=s/2?c="left":i>=a-s/2&&(c="right"),PE(c,t,e,r)&&(c="center"),c}function Yu(t,e,r){const n=r.yAlign||e.yAlign||CE(t,r);return{xAlign:r.xAlign||e.xAlign||EE(t,e,r,n),yAlign:n}}function OE(t,e){let{x:r,width:n}=t;return e==="right"?r-=n:e==="center"&&(r-=n/2),r}function TE(t,e,r){let{y:n,height:i}=t;return e==="top"?n+=r:e==="bottom"?n-=i+r:n-=i/2,n}function Ku(t,e,r,n){const{caretSize:i,caretPadding:s,cornerRadius:a}=t,{xAlign:o,yAlign:l}=r,c=i+s,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:f}=jn(a);let g=OE(e,o);const p=TE(e,l,c);return l==="center"?o==="left"?g+=c:o==="right"&&(g-=c):o==="left"?g-=Math.max(u,h)+i:o==="right"&&(g+=Math.max(d,f)+i),{x:tt(g,0,n.width-e.width),y:tt(p,0,n.height-e.height)}}function Li(t,e,r){const n=at(r.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function Xu(t){return vt([],Ot(t))}function AE(t,e,r){return Pr(t,{tooltip:e,tooltipItems:r,type:"tooltip"})}function Ju(t,e){const r=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return r?t.override(r):t}const vg={beforeTitle:Pt,title(t){if(t.length>0){const e=t[0],r=e.chart.data.labels,n=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return r[e.dataIndex]}return""},afterTitle:Pt,beforeBody:Pt,beforeLabel:Pt,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const r=t.formattedValue;return ae(r)||(e+=r),e},labelColor(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:Pt,afterBody:Pt,beforeFooter:Pt,footer:Pt,afterFooter:Pt};function ze(t,e,r,n){const i=t[e].call(r,n);return typeof i>"u"?vg[e].call(r,n):i}class co extends Er{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const r=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&r.options.animation&&n.animations,s=new eg(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=AE(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){const{callbacks:n}=r,i=ze(n,"beforeTitle",this,e),s=ze(n,"title",this,e),a=ze(n,"afterTitle",this,e);let o=[];return o=vt(o,Ot(i)),o=vt(o,Ot(s)),o=vt(o,Ot(a)),o}getBeforeBody(e,r){return Xu(ze(r.callbacks,"beforeBody",this,e))}getBody(e,r){const{callbacks:n}=r,i=[];return re(e,s=>{const a={before:[],lines:[],after:[]},o=Ju(n,s);vt(a.before,Ot(ze(o,"beforeLabel",this,s))),vt(a.lines,ze(o,"label",this,s)),vt(a.after,Ot(ze(o,"afterLabel",this,s))),i.push(a)}),i}getAfterBody(e,r){return Xu(ze(r.callbacks,"afterBody",this,e))}getFooter(e,r){const{callbacks:n}=r,i=ze(n,"beforeFooter",this,e),s=ze(n,"footer",this,e),a=ze(n,"afterFooter",this,e);let o=[];return o=vt(o,Ot(i)),o=vt(o,Ot(s)),o=vt(o,Ot(a)),o}_createItems(e){const r=this._active,n=this.chart.data,i=[],s=[],a=[];let o=[],l,c;for(l=0,c=r.length;l<c;++l)o.push(DE(this.chart,r[l]));return e.filter&&(o=o.filter((u,d,h)=>e.filter(u,d,h,n))),e.itemSort&&(o=o.sort((u,d)=>e.itemSort(u,d,n))),re(o,u=>{const d=Ju(e.callbacks,u);i.push(ze(d,"labelColor",this,u)),s.push(ze(d,"labelPointStyle",this,u)),a.push(ze(d,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=o,o}update(e,r){const n=this.options.setContext(this.getContext()),i=this._active;let s,a=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const o=_n[n.position].call(this,i,this._eventPosition);a=this._createItems(n),this.title=this.getTitle(a,n),this.beforeBody=this.getBeforeBody(a,n),this.body=this.getBody(a,n),this.afterBody=this.getAfterBody(a,n),this.footer=this.getFooter(a,n);const l=this._size=Gu(this,n),c=Object.assign({},o,l),u=Yu(this.chart,n,c),d=Ku(n,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,n,i){const s=this.getCaretPosition(e,n,i);r.lineTo(s.x1,s.y1),r.lineTo(s.x2,s.y2),r.lineTo(s.x3,s.y3)}getCaretPosition(e,r,n){const{xAlign:i,yAlign:s}=this,{caretSize:a,cornerRadius:o}=n,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=jn(o),{x:h,y:f}=e,{width:g,height:p}=r;let v,b,y,_,w,S;return s==="center"?(w=f+p/2,i==="left"?(v=h,b=v-a,_=w+a,S=w-a):(v=h+g,b=v+a,_=w-a,S=w+a),y=v):(i==="left"?b=h+Math.max(l,u)+a:i==="right"?b=h+g-Math.max(c,d)-a:b=this.caretX,s==="top"?(_=f,w=_-a,v=b-a,y=b+a):(_=f+p,w=_+a,v=b+a,y=b-a),S=_),{x1:v,x2:b,x3:y,y1:_,y2:w,y3:S}}drawTitle(e,r,n){const i=this.title,s=i.length;let a,o,l;if(s){const c=zr(n.rtl,this.x,this.width);for(e.x=Li(this,n.titleAlign,n),r.textAlign=c.textAlign(n.titleAlign),r.textBaseline="middle",a=Me(n.titleFont),o=n.titleSpacing,r.fillStyle=n.titleColor,r.font=a.string,l=0;l<s;++l)r.fillText(i[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o,l+1===s&&(e.y+=n.titleMarginBottom-o)}}_drawColorBox(e,r,n,i,s){const a=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:l,boxWidth:c}=s,u=Me(s.bodyFont),d=Li(this,"left",s),h=i.x(d),f=l<u.lineHeight?(u.lineHeight-l)/2:0,g=r.y+f;if(s.usePointStyle){const p={radius:Math.min(c,l)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},v=i.leftForLtr(h,c)+c/2,b=g+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,no(e,p,v,b),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,no(e,p,v,b)}else{e.lineWidth=Q(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const p=i.leftForLtr(h,c),v=i.leftForLtr(i.xPlus(h,1),c-2),b=jn(a.borderRadius);Object.values(b).some(y=>y!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,io(e,{x:p,y:g,w:c,h:l,radius:b}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),io(e,{x:v,y:g+1,w:c-2,h:l-2,radius:b}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(p,g,c,l),e.strokeRect(p,g,c,l),e.fillStyle=a.backgroundColor,e.fillRect(v,g+1,c-2,l-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,r,n){const{body:i}=this,{bodySpacing:s,bodyAlign:a,displayColors:o,boxHeight:l,boxWidth:c,boxPadding:u}=n,d=Me(n.bodyFont);let h=d.lineHeight,f=0;const g=zr(n.rtl,this.x,this.width),p=function(O){r.fillText(O,g.x(e.x+f),e.y+h/2),e.y+=h+s},v=g.textAlign(a);let b,y,_,w,S,D,E;for(r.textAlign=a,r.textBaseline="middle",r.font=d.string,e.x=Li(this,v,n),r.fillStyle=n.bodyColor,re(this.beforeBody,p),f=o&&v!=="right"?a==="center"?c/2+u:c+2+u:0,w=0,D=i.length;w<D;++w){for(b=i[w],y=this.labelTextColors[w],r.fillStyle=y,re(b.before,p),_=b.lines,o&&_.length&&(this._drawColorBox(r,e,w,g,n),h=Math.max(d.lineHeight,l)),S=0,E=_.length;S<E;++S)p(_[S]),h=d.lineHeight;re(b.after,p)}f=0,h=d.lineHeight,re(this.afterBody,p),e.y-=s}drawFooter(e,r,n){const i=this.footer,s=i.length;let a,o;if(s){const l=zr(n.rtl,this.x,this.width);for(e.x=Li(this,n.footerAlign,n),e.y+=n.footerMarginTop,r.textAlign=l.textAlign(n.footerAlign),r.textBaseline="middle",a=Me(n.footerFont),r.fillStyle=n.footerColor,r.font=a.string,o=0;o<s;++o)r.fillText(i[o],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+n.footerSpacing}}drawBackground(e,r,n,i){const{xAlign:s,yAlign:a}=this,{x:o,y:l}=e,{width:c,height:u}=n,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:g}=jn(i.cornerRadius);r.fillStyle=i.backgroundColor,r.strokeStyle=i.borderColor,r.lineWidth=i.borderWidth,r.beginPath(),r.moveTo(o+d,l),a==="top"&&this.drawCaret(e,r,n,i),r.lineTo(o+c-h,l),r.quadraticCurveTo(o+c,l,o+c,l+h),a==="center"&&s==="right"&&this.drawCaret(e,r,n,i),r.lineTo(o+c,l+u-g),r.quadraticCurveTo(o+c,l+u,o+c-g,l+u),a==="bottom"&&this.drawCaret(e,r,n,i),r.lineTo(o+f,l+u),r.quadraticCurveTo(o,l+u,o,l+u-f),a==="center"&&s==="left"&&this.drawCaret(e,r,n,i),r.lineTo(o,l+d),r.quadraticCurveTo(o,l,o+d,l),r.closePath(),r.fill(),i.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){const r=this.chart,n=this.$animations,i=n&&n.x,s=n&&n.y;if(i||s){const a=_n[e.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=Gu(this,e),l=Object.assign({},a,this._size),c=Yu(r,e,l),u=Ku(e,l,c,r);(i._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const r=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(r);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const a=at(r.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&o&&(e.save(),e.globalAlpha=n,this.drawBackground(s,e,i,r),Yf(e,r.textDirection),s.y+=a.top,this.drawTitle(s,e,r),this.drawBody(s,e,r),this.drawFooter(s,e,r),Kf(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){const n=this._active,i=e.map(({datasetIndex:o,index:l})=>{const c=this.chart.getDatasetMeta(o);if(!c)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:c.data[l],index:l}}),s=!us(n,i),a=this._positionChanged(i,r);(s||a)&&(this._active=i,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,n=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],a=this._getActiveElements(e,s,r,n),o=this._positionChanged(a,e),l=r||!us(a,s)||o;return l&&(this._active=a,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),l}_getActiveElements(e,r,n,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return r.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,s.mode,s,n);return s.reverse&&a.reverse(),a}_positionChanged(e,r){const{caretX:n,caretY:i,options:s}=this,a=_n[s.position].call(this,e,r);return a!==!1&&(n!==a.x||i!==a.y)}}G(co,"positioners",_n);var IE={id:"tooltip",_element:co,positioners:_n,afterInit(t,e,r){r&&(t.tooltip=new co({chart:t,options:r}))},beforeUpdate(t,e,r){t.tooltip&&t.tooltip.initialize(r)},reset(t,e,r){t.tooltip&&t.tooltip.initialize(r)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const r={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",r)}},afterEvent(t,e){if(t.tooltip){const r=e.replay;t.tooltip.handleEvent(e.event,r,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:vg},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const ME=(t,e,r,n)=>(typeof e=="string"?(r=t.push(e)-1,n.unshift({index:r,label:e})):isNaN(e)&&(r=null),r);function RE(t,e,r,n){const i=t.indexOf(e);if(i===-1)return ME(t,e,r,n);const s=t.lastIndexOf(e);return i!==s?r:i}const jE=(t,e)=>t===null?null:tt(Math.round(t),0,e);function Qu(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class uo extends sn{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const r=this._addedLabels;if(r.length){const n=this.getLabels();for(const{index:i,label:s}of r)n[i]===s&&n.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(ae(e))return null;const n=this.getLabels();return r=isFinite(r)&&n[r]===e?r:RE(n,e,J(r,e),this._addedLabels),jE(r,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),r||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const e=this.min,r=this.max,n=this.options.offset,i=[];let s=this.getLabels();s=e===0&&r===s.length-1?s:s.slice(e,r+1),this._valueRange=Math.max(s.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let a=e;a<=r;a++)i.push({value:a});return i}getLabelForValue(e){return Qu.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}G(uo,"id","category"),G(uo,"defaults",{ticks:{callback:Qu}});function NE(t,e){const r=[],{bounds:i,step:s,min:a,max:o,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:h}=t,f=s||1,g=u-1,{min:p,max:v}=e,b=!ae(a),y=!ae(o),_=!ae(c),w=(v-p)/(d+1);let S=Qc((v-p)/g/f)*f,D,E,O,T;if(S<1e-14&&!b&&!y)return[{value:p},{value:v}];T=Math.ceil(v/S)-Math.floor(p/S),T>g&&(S=Qc(T*S/g/f)*f),ae(l)||(D=Math.pow(10,l),S=Math.ceil(S*D)/D),i==="ticks"?(E=Math.floor(p/S)*S,O=Math.ceil(v/S)*S):(E=p,O=v),b&&y&&s&&sD((o-a)/s,S/1e3)?(T=Math.round(Math.min((o-a)/S,u)),S=(o-a)/T,E=a,O=o):_?(E=b?a:E,O=y?o:O,T=c-1,S=(O-E)/T):(T=(O-E)/S,In(T,Math.round(T),S/1e3)?T=Math.round(T):T=Math.ceil(T));const L=Math.max(Zc(S),Zc(E));D=Math.pow(10,ae(l)?L:l),E=Math.round(E*D)/D,O=Math.round(O*D)/D;let M=0;for(b&&(h&&E!==a?(r.push({value:a}),E<a&&M++,In(Math.round((E+M*S)*D)/D,a,Zu(a,w,t))&&M++):E<a&&M++);M<T;++M){const R=Math.round((E+M*S)*D)/D;if(y&&R>o)break;r.push({value:R})}return y&&h&&O!==o?r.length&&In(r[r.length-1].value,o,Zu(o,w,t))?r[r.length-1].value=o:r.push({value:o}):(!y||O===o)&&r.push({value:O}),r}function Zu(t,e,{horizontal:r,minRotation:n}){const i=vr(n),s=(r?Math.sin(i):Math.cos(i))||.001,a=.75*e*(""+t).length;return Math.min(e/s,a)}class LE extends sn{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return ae(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:r,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this;const a=l=>i=r?i:l,o=l=>s=n?s:l;if(e){const l=Xr(i),c=Xr(s);l<0&&c<0?o(0):l>0&&c>0&&a(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);o(s+l),e||a(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:r,stepSize:n}=e,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),r=r||11),r&&(i=Math.min(r,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,r=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},s=this._range||this,a=NE(i,s);return e.bounds==="ticks"&&aD(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let r=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const i=(n-r)/Math.max(e.length-1,1)/2;r-=i,n+=i}this._startValue=r,this._endValue=n,this._valueRange=n-r}getLabelForValue(e){return Ff(e,this.chart.options.locale,this.options.ticks.format)}}class ho extends LE{determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=Re(e)?e:0,this.max=Re(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),r=e?this.width:this.height,n=vr(this.options.ticks.minRotation),i=(e?Math.sin(n):Math.cos(n))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}G(ho,"id","linear"),G(ho,"defaults",{ticks:{callback:$f.formatters.numeric}});const Zs={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},qe=Object.keys(Zs);function ed(t,e){return t-e}function td(t,e){if(ae(e))return null;const r=t._adapter,{parser:n,round:i,isoWeekday:s}=t._parseOpts;let a=e;return typeof n=="function"&&(a=n(a)),Re(a)||(a=typeof n=="string"?r.parse(a,n):r.parse(a)),a===null?null:(i&&(a=i==="week"&&(Hn(s)||s===!0)?r.startOf(a,"isoWeek",s):r.startOf(a,i)),+a)}function rd(t,e,r,n){const i=qe.length;for(let s=qe.indexOf(t);s<i-1;++s){const a=Zs[qe[s]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((r-e)/(o*a.size))<=n)return qe[s]}return qe[i-1]}function FE(t,e,r,n,i){for(let s=qe.length-1;s>=qe.indexOf(r);s--){const a=qe[s];if(Zs[a].common&&t._adapter.diff(i,n,a)>=e-1)return a}return qe[r?qe.indexOf(r):0]}function BE(t){for(let e=qe.indexOf(t)+1,r=qe.length;e<r;++e)if(Zs[qe[e]].common)return qe[e]}function nd(t,e,r){if(!r)t[e]=!0;else if(r.length){const{lo:n,hi:i}=il(r,e),s=r[n]>=e?r[n]:r[i];t[s]=!0}}function $E(t,e,r,n){const i=t._adapter,s=+i.startOf(e[0].value,n),a=e[e.length-1].value;let o,l;for(o=s;o<=a;o=+i.add(o,1,n))l=r[o],l>=0&&(e[l].major=!0);return e}function id(t,e,r){const n=[],i={},s=e.length;let a,o;for(a=0;a<s;++a)o=e[a],i[o]=a,n.push({value:o,major:!1});return s===0||!r?n:$E(t,n,i,r)}class vs extends sn{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){const n=e.time||(e.time={}),i=this._adapter=new MC._date(e.adapters.date);i.init(r),An(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:td(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,n=e.time.unit||"day";let{min:i,max:s,minDefined:a,maxDefined:o}=this.getUserBounds();function l(c){!a&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!o&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!a||!o)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=Re(i)&&!isNaN(i)?i:+r.startOf(Date.now(),n),s=Re(s)&&!isNaN(s)?s:+r.endOf(Date.now(),n)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],n=e[e.length-1]),{min:r,max:n}}buildTicks(){const e=this.options,r=e.time,n=e.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,a=this.max,o=hD(i,s,a);return this._unit=r.unit||(n.autoSkip?rd(r.minUnit,this.min,this.max,this._getLabelCapacity(s)):FE(this,o.length,r.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:BE(this._unit),this.initOffsets(i),e.reverse&&o.reverse(),id(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,n=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?r=1-i:r=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?n=s:n=(s-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;r=tt(r,0,a),n=tt(n,0,a),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){const e=this._adapter,r=this.min,n=this.max,i=this.options,s=i.time,a=s.unit||rd(s.minUnit,r,n,this._getLabelCapacity(r)),o=J(i.ticks.stepSize,1),l=a==="week"?s.isoWeekday:!1,c=Hn(l)||l===!0,u={};let d=r,h,f;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":a),e.diff(n,r,a)>1e5*o)throw new Error(r+" and "+n+" are too far apart with stepSize of "+o+" "+a);const g=i.ticks.source==="data"&&this.getDataTimestamps();for(h=d,f=0;h<n;h=+e.add(h,o,a),f++)nd(u,h,g);return(h===n||i.bounds==="ticks"||f===1)&&nd(u,h,g),Object.keys(u).sort(ed).map(p=>+p)}getLabelForValue(e){const r=this._adapter,n=this.options.time;return n.tooltipFormat?r.format(e,n.tooltipFormat):r.format(e,n.displayFormats.datetime)}format(e,r){const i=this.options.time.displayFormats,s=this._unit,a=r||i[s];return this._adapter.format(e,a)}_tickFormatFunction(e,r,n,i){const s=this.options,a=s.ticks.callback;if(a)return le(a,[e,r,n],this);const o=s.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&o[l],d=c&&o[c],h=n[r],f=c&&d&&h&&h.major;return this._adapter.format(e,i||(f?d:u))}generateTickLabels(e){let r,n,i;for(r=0,n=e.length;r<n;++r)i=e[r],i.label=this._tickFormatFunction(i.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+n)*r.factor)}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,n=this.ctx.measureText(e).width,i=vr(this.isHorizontal()?r.maxRotation:r.minRotation),s=Math.cos(i),a=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:n*s+o*a,h:n*a+o*s}}_getLabelCapacity(e){const r=this.options.time,n=r.displayFormats,i=n[r.unit]||n.millisecond,s=this._tickFormatFunction(e,0,id(this,[e],this._majorUnit),i),a=this._getLabelSize(s),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],r,n;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(r=0,n=i.length;r<n;++r)e=e.concat(i[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,n;if(e.length)return e;const i=this.getLabels();for(r=0,n=i.length;r<n;++r)e.push(td(this,i[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return gD(e.sort(ed))}}G(vs,"id","time"),G(vs,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Fi(t,e,r){let n=0,i=t.length-1,s,a,o,l;r?(e>=t[n].pos&&e<=t[i].pos&&({lo:n,hi:i}=br(t,"pos",e)),{pos:s,time:o}=t[n],{pos:a,time:l}=t[i]):(e>=t[n].time&&e<=t[i].time&&({lo:n,hi:i}=br(t,"time",e)),{time:s,pos:o}=t[n],{time:a,pos:l}=t[i]);const c=a-s;return c?o+(l-o)*(e-s)/c:o}class sd extends vs{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(e);this._minPos=Fi(r,this.min),this._tableRange=Fi(r,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:r,max:n}=this,i=[],s=[];let a,o,l,c,u;for(a=0,o=e.length;a<o;++a)c=e[a],c>=r&&c<=n&&i.push(c);if(i.length<2)return[{time:r,pos:0},{time:n,pos:1}];for(a=0,o=i.length;a<o;++a)u=i[a+1],l=i[a-1],c=i[a],Math.round((u+l)/2)!==c&&s.push({time:c,pos:a/(o-1)});return s}_generate(){const e=this.min,r=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(r)||n.length===1)&&n.push(r),n.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const r=this.getDataTimestamps(),n=this.getLabelTimestamps();return r.length&&n.length?e=this.normalize(r.concat(n)):e=r.length?r:n,e=this._cache.all=e,e}getDecimalForValue(e){return(Fi(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return Fi(this._table,n*this._tableRange+this._minPos,!0)}}G(sd,"id","timeseries"),G(sd,"defaults",vs.defaults);const bg="label";function ad(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function UE(t,e){const r=t.options;r&&e&&Object.assign(r,e)}function yg(t,e){t.labels=e}function xg(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:bg;const n=[];t.datasets=e.map(i=>{const s=t.datasets.find(a=>a[r]===i[r]);return!s||!i.data||n.includes(s)?{...i}:(n.push(s),Object.assign(s,i),s)})}function WE(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bg;const r={labels:[],datasets:[]};return yg(r,t.labels),xg(r,t.datasets,e),r}function zE(t,e){const{height:r=150,width:n=300,redraw:i=!1,datasetIdKey:s,type:a,data:o,options:l,plugins:c=[],fallbackContent:u,updateMode:d,...h}=t,f=P.useRef(null),g=P.useRef(null),p=()=>{f.current&&(g.current=new Qs(f.current,{type:a,data:WE(o,s),options:l&&{...l},plugins:c}),ad(e,g.current))},v=()=>{ad(e,null),g.current&&(g.current.destroy(),g.current=null)};return P.useEffect(()=>{!i&&g.current&&l&&UE(g.current,l)},[i,l]),P.useEffect(()=>{!i&&g.current&&yg(g.current.config.data,o.labels)},[i,o.labels]),P.useEffect(()=>{!i&&g.current&&o.datasets&&xg(g.current.config.data,o.datasets,s)},[i,o.datasets]),P.useEffect(()=>{g.current&&(i?(v(),setTimeout(p)):g.current.update(d))},[i,l,o.labels,o.datasets,d]),P.useEffect(()=>{g.current&&(v(),setTimeout(p))},[a]),P.useEffect(()=>(p(),()=>v()),[]),Y.createElement("canvas",{ref:f,role:"img",height:r,width:n,...h},u)}const VE=P.forwardRef(zE);function HE(t,e){return Qs.register(e),P.forwardRef((r,n)=>Y.createElement(VE,{...r,ref:n,type:t}))}const qE=HE("line",zi);Qs.register(uo,ho,qi,Wt,kE,IE,_E,mE);const GE=()=>{const[t,e]=P.useState([{title:"Taxa de Resoluo IA",value:78,change:5,trend:"up",unit:"%"},{title:"Tempo Mdio de Resposta",value:"2.5",change:-10,trend:"down",unit:"min"},{title:"Conversas Atendidas",value:245,change:12,trend:"up"},{title:"Vendas por Conversa",value:"89.50",change:0,trend:"neutral",unit:"R$"}]),[r,n]=P.useState({labels:["Segunda","Tera","Quarta","Quinta","Sexta","Sbado","Domingo"],datasets:[{label:"Conversas",data:[65,59,80,81,56,40,30],borderColor:"#0F52BA",backgroundColor:"rgba(15, 82, 186, 0.1)",borderWidth:2,fill:!0},{label:"Resolues por IA",data:[45,42,60,59,38,29,20],borderColor:"#2E8B57",backgroundColor:"rgba(46, 139, 87, 0.1)",borderWidth:2,fill:!0}]}),i={responsive:!0,plugins:{legend:{position:"top"},tooltip:{mode:"index",intersect:!1}},scales:{y:{beginAtZero:!0}},interaction:{mode:"nearest",axis:"x",intersect:!1}};return m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4 mb-6",children:[t.map((s,a)=>m.jsxs("div",{className:"bg-white rounded-lg shadow-card p-4 transition-transform hover:scale-[1.01]",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h3",{className:"text-sm font-medium text-gray-500",children:s.title}),m.jsx(YE,{metric:s})]}),m.jsxs("div",{className:"mt-2 flex items-baseline",children:[m.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:typeof s.value=="number"&&s.unit==="%"?`${s.value}${s.unit}`:typeof s.value=="string"&&s.unit==="R$"?`${s.unit} ${s.value}`:`${s.value}${s.unit?` ${s.unit}`:""}`}),s.change!==void 0&&m.jsx("span",{className:`ml-2 text-sm font-medium ${s.trend==="up"?"text-green-600":s.trend==="down"?"text-red-600":"text-gray-500"} flex items-center`,children:s.trend==="up"?m.jsxs(m.Fragment,{children:[m.jsx(em,{size:14,className:"mr-1"}),`+${s.change}%`]}):s.trend==="down"?m.jsxs(m.Fragment,{children:[m.jsx(Zp,{size:14,className:"mr-1"}),`${s.change}%`]}):m.jsxs(m.Fragment,{children:[m.jsx(Pd,{size:14,className:"mr-1"}),`${s.change}%`]})})]})]},a)),m.jsxs("div",{className:"lg:col-span-4 bg-white rounded-lg shadow-card p-4",children:[m.jsx("h3",{className:"text-md font-medium text-gray-700 mb-4",children:"Atividade Semanal"}),m.jsx("div",{className:"h-80",children:m.jsx(qE,{options:i,data:r})})]})]})},YE=({metric:t})=>({"Taxa de Resoluo IA":m.jsx("div",{className:"p-2 bg-green-50 text-green-600 rounded-full",children:m.jsx(fm,{size:18})}),"Tempo Mdio de Resposta":m.jsx("div",{className:"p-2 bg-blue-50 text-blue-600 rounded-full",children:m.jsx(Cd,{size:18})}),"Conversas Atendidas":m.jsx("div",{className:"p-2 bg-purple-50 text-purple-600 rounded-full",children:m.jsx(om,{size:18})}),"Vendas por Conversa":m.jsx("div",{className:"p-2 bg-accent-50 text-accent-600 rounded-full",children:m.jsx(tm,{size:18})})})[t.title]||null,KE=()=>{const{user:t}=Cr(),{fetchConversations:e,setupRealtimeSubscription:r}=ko();return P.useEffect(()=>{e();const n=r();return()=>{n()}},[e,r]),m.jsxs("div",{className:"min-h-screen bg-gray-50",children:[m.jsx(sh,{}),m.jsxs("main",{className:"container mx-auto px-4 py-6",children:[m.jsxs("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:["Bem-vindo(a), ",t==null?void 0:t.name]}),(t==null?void 0:t.role)==="management"&&m.jsxs("div",{className:"mb-8",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Mtricas de Desempenho"}),m.jsx(GE,{})]}),m.jsxs("div",{className:"mb-6",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Gerenciamento de Conversas"}),m.jsx(Sk,{})]})]})]})},gl=bo((t,e)=>({products:[],filteredProducts:[],isLoading:!1,error:null,searchTerm:"",categoryFilter:"",lowStockOnly:!1,fetchProducts:async()=>{t({isLoading:!0,error:null});try{const{data:r,error:n}=await nt.from("products").select("*").order("name");if(n)throw n;t({products:r,filteredProducts:r,isLoading:!1}),e().setSearchTerm(e().searchTerm)}catch(r){t({error:r.message,isLoading:!1})}},addProduct:async r=>{t({isLoading:!0,error:null});try{const{data:n,error:i}=await nt.from("products").insert([r]).select();if(i)throw i;const s=n[0];t(a=>({products:[...a.products,s],isLoading:!1})),e().setSearchTerm(e().searchTerm)}catch(n){t({error:n.message,isLoading:!1})}},updateProduct:async(r,n)=>{t({isLoading:!0,error:null});try{const{error:i}=await nt.from("products").update(n).eq("id",r);if(i)throw i;t(s=>({products:s.products.map(o=>o.id===r?{...o,...n}:o),isLoading:!1})),e().setSearchTerm(e().searchTerm)}catch(i){t({error:i.message,isLoading:!1})}},updateStock:async(r,n)=>{try{const i=e().products.find(a=>a.id===r);if(!i)return;const s=i.stock_quantity+n;if(s<0)throw new Error("Cannot reduce stock below zero");await e().updateProduct(r,{stock_quantity:s})}catch(i){t({error:i.message})}},setSearchTerm:r=>{const{products:n,categoryFilter:i,lowStockOnly:s}=e();let a=[...n];if(r){const o=r.toLowerCase();a=a.filter(l=>l.name.toLowerCase().includes(o)||l.description.toLowerCase().includes(o))}i&&(a=a.filter(o=>o.category===i)),s&&(a=a.filter(o=>o.stock_quantity<=o.low_stock_threshold)),t({searchTerm:r,filteredProducts:a})},setCategoryFilter:r=>{t({categoryFilter:r}),e().setSearchTerm(e().searchTerm)},setLowStockOnly:r=>{t({lowStockOnly:r}),e().setSearchTerm(e().searchTerm)}})),XE=()=>{const{filteredProducts:t,isLoading:e,updateStock:r,updateProduct:n}=gl(),[i,s]=P.useState(null),[a,o]=P.useState({price:0,stock_quantity:0,low_stock_threshold:0}),[l,c]=P.useState(null),[u,d]=P.useState(1),h=p=>{const v=t.find(b=>b.id===p);v&&(s(p),o({price:v.price,stock_quantity:v.stock_quantity,low_stock_threshold:v.low_stock_threshold}))},f=async p=>{try{await n(p,{price:a.price,low_stock_threshold:a.low_stock_threshold}),s(null),pr.success("Produto atualizado com sucesso")}catch{pr.error("Erro ao atualizar produto")}},g=async(p,v)=>{try{await r(p,v),c(null),d(1),pr.success(v>0?"Estoque adicionado com sucesso":"Estoque reduzido com sucesso")}catch(b){pr.error(b.message||"Erro ao ajustar estoque")}};return e?m.jsx("div",{className:"bg-white rounded-lg shadow-card p-4 flex justify-center items-center h-64",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500 mx-auto mb-2"}),m.jsx("p",{className:"text-gray-500",children:"Carregando produtos..."})]})}):t.length===0?m.jsx("div",{className:"bg-white rounded-lg shadow-card p-8 flex flex-col items-center justify-center h-64",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"bg-gray-100 rounded-full p-3 inline-block mb-4",children:m.jsx(Na,{size:24,className:"text-gray-400"})}),m.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-1",children:"Nenhum produto encontrado"}),m.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Tente ajustar seus filtros ou adicione novos produtos"})]})}):m.jsx("div",{className:"bg-white rounded-lg shadow-card overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produto"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categoria"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Preo"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estoque"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Limite Mnimo"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),m.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(p=>m.jsxs("tr",{className:"hover:bg-gray-50",children:[m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsxs("div",{className:"flex items-center",children:[p.image_url?m.jsx("img",{src:p.image_url,alt:p.name,className:"h-10 w-10 rounded-md object-cover mr-3"}):m.jsx("div",{className:"h-10 w-10 rounded-md bg-gray-100 flex items-center justify-center text-gray-400 mr-3",children:m.jsx("span",{className:"text-xs",children:"Sem img"})}),m.jsxs("div",{children:[m.jsx("div",{className:"text-sm font-medium text-gray-900",children:p.name}),m.jsx("div",{className:"text-xs text-gray-500 truncate max-w-xs",children:p.description})]})]})}),m.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[m.jsx("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:p.category}),p.requires_prescription&&m.jsx("span",{className:"ml-2 px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"Receita"})]}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i===p.id?m.jsx("div",{className:"flex items-center space-x-2",children:m.jsx("input",{type:"number",min:"0",step:"0.01",value:a.price,onChange:v=>o({...a,price:parseFloat(v.target.value)}),className:"w-20 p-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-primary-400"})}):m.jsxs("div",{className:"text-sm text-gray-900",children:["R$ ",p.price.toFixed(2)]})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l===p.id?m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("button",{onClick:()=>d(Math.max(1,u-1)),className:"text-gray-600 hover:text-gray-800",children:m.jsx(Pd,{size:14})}),m.jsx("input",{type:"number",min:"1",value:u,onChange:v=>d(parseInt(v.target.value)||1),className:"w-16 p-1 text-sm text-center border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-primary-400"}),m.jsx("button",{onClick:()=>d(u+1),className:"text-gray-600 hover:text-gray-800",children:m.jsx(Od,{size:14})}),m.jsx("button",{onClick:()=>g(p.id,u),className:"p-1 text-xs bg-green-500 text-white rounded hover:bg-green-600",children:"+"}),m.jsx("button",{onClick:()=>g(p.id,-u),className:"p-1 text-xs bg-red-500 text-white rounded hover:bg-red-600",children:"-"}),m.jsx("button",{onClick:()=>{c(null),d(1)},className:"text-gray-500 hover:text-gray-700",children:m.jsx("span",{className:"text-xs",children:"Cancelar"})})]}):m.jsxs("div",{className:"flex items-center",children:[m.jsxs("span",{className:`text-sm ${p.stock_quantity<=p.low_stock_threshold?"text-red-600 font-medium":"text-gray-900"}`,children:[p.stock_quantity," unid."]}),p.stock_quantity<=p.low_stock_threshold&&m.jsx(Na,{size:14,className:"ml-1 text-red-500"})]})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i===p.id?m.jsx("input",{type:"number",min:"0",value:a.low_stock_threshold,onChange:v=>o({...a,low_stock_threshold:parseInt(v.target.value)}),className:"w-16 p-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-primary-400"}):m.jsxs("div",{className:"text-sm text-gray-900",children:[p.low_stock_threshold," unid."]})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:m.jsx("div",{className:"flex items-center space-x-2",children:i===p.id?m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:()=>f(p.id),className:"text-green-600 hover:text-green-800",children:"Salvar"}),m.jsx("button",{onClick:()=>s(null),className:"text-gray-600 hover:text-gray-800",children:"Cancelar"})]}):m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:()=>h(p.id),className:"text-blue-600 hover:text-blue-800",title:"Editar",children:m.jsx(hm,{size:16})}),m.jsx("button",{onClick:()=>c(l===p.id?null:p.id),className:"text-green-600 hover:text-green-800",title:"Atualizar estoque",children:m.jsx(cm,{size:16})})]})})})]},p.id))})]})})},JE=["Medicamentos","Cosmticos","Higiene Pessoal","Suplementos","Vitaminas","Dermocosmticos","Infantil","Outros"],QE=({onClose:t})=>{const{addProduct:e,isLoading:r}=gl(),{register:n,handleSubmit:i,formState:{errors:s}}=Dd(),a=async o=>{try{await e(o),pr.success("Produto adicionado com sucesso!"),t()}catch{pr.error("Erro ao adicionar produto")}};return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[m.jsxs("div",{className:"p-4 border-b flex items-center justify-between",children:[m.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Adicionar Novo Produto"}),m.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:m.jsx(vo,{size:20})})]}),m.jsxs("form",{onSubmit:i(a),className:"p-6",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Produto *"}),m.jsx("input",{id:"name",type:"text",className:`w-full p-2 border ${s.name?"border-red-300":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-primary-400 focus:border-transparent`,...n("name",{required:"Nome  obrigatrio"})}),s.name&&m.jsx("p",{className:"mt-1 text-xs text-red-600",children:s.name.message})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria *"}),m.jsxs("select",{id:"category",className:`w-full p-2 border ${s.category?"border-red-300":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-primary-400 focus:border-transparent`,...n("category",{required:"Categoria  obrigatria"}),children:[m.jsx("option",{value:"",children:"Selecione uma categoria"}),JE.map(o=>m.jsx("option",{value:o,children:o},o))]}),s.category&&m.jsx("p",{className:"mt-1 text-xs text-red-600",children:s.category.message})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 mb-1",children:"Preo (R$) *"}),m.jsx("input",{id:"price",type:"number",step:"0.01",min:"0",className:`w-full p-2 border ${s.price?"border-red-300":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-primary-400 focus:border-transparent`,...n("price",{required:"Preo  obrigatrio",min:{value:.01,message:"Preo deve ser maior que zero"},valueAsNumber:!0})}),s.price&&m.jsx("p",{className:"mt-1 text-xs text-red-600",children:s.price.message})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"stock_quantity",className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantidade em Estoque *"}),m.jsx("input",{id:"stock_quantity",type:"number",min:"0",className:`w-full p-2 border ${s.stock_quantity?"border-red-300":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-primary-400 focus:border-transparent`,...n("stock_quantity",{required:"Quantidade  obrigatria",min:{value:0,message:"Quantidade no pode ser negativa"},valueAsNumber:!0})}),s.stock_quantity&&m.jsx("p",{className:"mt-1 text-xs text-red-600",children:s.stock_quantity.message})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"low_stock_threshold",className:"block text-sm font-medium text-gray-700 mb-1",children:"Limite Mnimo de Estoque *"}),m.jsx("input",{id:"low_stock_threshold",type:"number",min:"1",className:`w-full p-2 border ${s.low_stock_threshold?"border-red-300":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-primary-400 focus:border-transparent`,...n("low_stock_threshold",{required:"Limite mnimo  obrigatrio",min:{value:1,message:"Limite mnimo deve ser pelo menos 1"},valueAsNumber:!0})}),s.low_stock_threshold&&m.jsx("p",{className:"mt-1 text-xs text-red-600",children:s.low_stock_threshold.message})]}),m.jsxs("div",{className:"flex items-center h-10 mt-6",children:[m.jsx("input",{id:"requires_prescription",type:"checkbox",className:"h-4 w-4 text-primary-500 focus:ring-primary-400 border-gray-300 rounded",...n("requires_prescription")}),m.jsx("label",{htmlFor:"requires_prescription",className:"ml-2 block text-sm text-gray-700",children:"Requer Receita Mdica"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"image_url",className:"block text-sm font-medium text-gray-700 mb-1",children:"URL da Imagem (opcional)"}),m.jsx("input",{id:"image_url",type:"text",className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-400 focus:border-transparent",placeholder:"https://exemplo.com/imagem.jpg",...n("image_url")})]})]}),m.jsxs("div",{className:"mt-6",children:[m.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio *"}),m.jsx("textarea",{id:"description",rows:4,className:`w-full p-2 border ${s.description?"border-red-300":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-primary-400 focus:border-transparent`,...n("description",{required:"Descrio  obrigatria"})}),s.description&&m.jsx("p",{className:"mt-1 text-xs text-red-600",children:s.description.message})]}),m.jsxs("div",{className:"mt-8 flex justify-end space-x-3",children:[m.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-400",children:"Cancelar"}),m.jsx("button",{type:"submit",disabled:r,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-500 hover:bg-primary-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-400 disabled:opacity-70 disabled:cursor-not-allowed",children:r?"Salvando...":"Salvar Produto"})]})]})]})})},ZE=()=>{const{fetchProducts:t,setSearchTerm:e,setCategoryFilter:r,setLowStockOnly:n,searchTerm:i,categoryFilter:s,lowStockOnly:a,isLoading:o,products:l}=gl(),[c,u]=P.useState(!1),[d,h]=P.useState([]);P.useEffect(()=>{t()},[t]),P.useEffect(()=>{if(l.length>0){const g=[...new Set(l.map(p=>p.category))];h(g)}},[l]);const f=l.filter(g=>g.stock_quantity<=g.low_stock_threshold).length;return m.jsxs("div",{className:"min-h-screen bg-gray-50",children:[m.jsx(sh,{}),m.jsxs("main",{className:"container mx-auto px-4 py-6",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6",children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Controle de Estoque"}),m.jsxs("button",{onClick:()=>u(!0),className:"mt-3 sm:mt-0 px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-md flex items-center justify-center transition",children:[m.jsx(Od,{size:16,className:"mr-2"}),"Adicionar Produto"]})]}),f>0&&m.jsxs("div",{className:"mb-4 p-3 bg-accent-50 border border-accent-200 rounded-md flex items-center text-accent-700",children:[m.jsx(Jp,{size:18,className:"mr-2 text-accent-500"}),m.jsxs("span",{className:"text-sm",children:[m.jsx("strong",{children:f})," produtos com estoque baixo precisam de reposio"]})]}),m.jsx("div",{className:"bg-white rounded-lg shadow-card p-4 mb-6",children:m.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[m.jsx("div",{className:"flex-1",children:m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(um,{size:16,className:"text-gray-400"})}),m.jsx("input",{type:"text",className:"pl-10 w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-400 focus:border-transparent",placeholder:"Buscar produtos...",value:i,onChange:g=>e(g.target.value)})]})}),m.jsx("div",{className:"w-full md:w-64",children:m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(nm,{size:16,className:"text-gray-400"})}),m.jsxs("select",{className:"pl-10 w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-400 focus:border-transparent appearance-none",value:s,onChange:g=>r(g.target.value),children:[m.jsx("option",{value:"",children:"Todas as categorias"}),d.map(g=>m.jsx("option",{value:g,children:g},g))]})]})}),m.jsxs("div",{className:"w-full md:w-auto flex items-center",children:[m.jsx("input",{id:"low-stock",type:"checkbox",className:"h-4 w-4 text-primary-500 focus:ring-primary-400 border-gray-300 rounded",checked:a,onChange:g=>n(g.target.checked)}),m.jsx("label",{htmlFor:"low-stock",className:"ml-2 block text-sm text-gray-700",children:"Apenas estoque baixo"})]})]})}),m.jsx(XE,{}),c&&m.jsx(QE,{onClose:()=>u(!1)})]})]})},wg=()=>m.jsx("div",{className:"fixed inset-0 bg-primary-50 flex items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"inline-block mb-4",children:m.jsxs("svg",{className:"animate-spin h-12 w-12 text-primary-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),m.jsx("p",{className:"text-primary-700 text-lg font-medium",children:"Carregando..."})]})}),od=({children:t,roles:e})=>{const{user:r,isLoading:n,initialized:i}=Cr();return n||!i?m.jsx(wg,{}):r?e&&!e.includes(r.role)?m.jsx(Gi,{to:"/",replace:!0}):m.jsx(m.Fragment,{children:t}):m.jsx(Gi,{to:"/login",replace:!0})};function eO(){const{initialize:t,initialized:e,isLoading:r,user:n}=Cr();return P.useEffect(()=>{t()},[t]),e?m.jsxs(Tg,{children:[m.jsx(Pp,{position:"top-right",toastOptions:{duration:3e3,style:{background:"#333",color:"#fff"}}}),m.jsxs(Ag,{children:[m.jsx(pi,{path:"/login",element:n?m.jsx(Gi,{to:"/",replace:!0}):m.jsx(sy,{})}),m.jsx(pi,{path:"/",element:m.jsx(od,{children:m.jsx(KE,{})})}),m.jsx(pi,{path:"/inventory",element:m.jsx(od,{roles:["management"],children:m.jsx(ZE,{})})}),m.jsx(pi,{path:"*",element:m.jsx(Gi,{to:"/",replace:!0})})]})]}):m.jsx(wg,{})}hd(document.getElementById("root")).render(m.jsx(P.StrictMode,{children:m.jsx(eO,{})}));
